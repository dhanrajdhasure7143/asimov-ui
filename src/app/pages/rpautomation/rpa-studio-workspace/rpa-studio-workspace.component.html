<div  #screen id="screen"  class="col-md-10 main">
  <div class="dndDropzoneDisabled" *ngIf="disable">
    Designer Disabled <span>To make changes click edit</span>
  </div>
    <div #content id="content">
      <div class="drag-area" dndDropzone (dndDrop)="onDrop($event,$event)" oncontextmenu="return false;" (click)="closemenu()" [ngClass]="{ 'workspace': disable, 'dndDropzoneDisabled': false, 'lightTheme': lightTheme }">
        <ng-container *ngFor="let node of nodes; let i = index">
          <div id="{{node.id}}"  class="dndDropzone" (dblclick)="formNodeFunc(node)" (contextmenu)="onRightClick(node, $event,i)"
          [ngStyle]="{'left': node.x, 'top' : node.y, 'background-image' :  'url(' + node.path + ')' }">
            <span class="node-delete" (click)="deletenode(node)">x</span>
            <div class="connector-name" *ngIf="node.selectedNodeTask==''">{{node.name}} </div>
            <div class="connector-name" *ngIf="node.selectedNodeTask!=''">{{node.selectedNodeTask}}</div>
            
            <div *ngIf ="selectedNode.id==node.id && optionsVisible" class="node_tooltip">
              <nav  id="context-menu" class="context-menu contextmenu">
                <div class="context-menu1">
                  <div class="context-menu__item" *ngFor="let menu of stud">
                    <a class="context-menu__link" id="{{menu.name}}" (click)="callFunction(menu,node)"
                     data-action="View">{{menu.name}}</a>
                  </div>
                </div>
              </nav>
            </div>  
          </div>
        </ng-container>
      </div>
      </div>
</div>




    <div class="status-zoom" id="zoominzoomout">
      <div class="row">
        <button class="btn reset" (click) = "reset($event)"><i class="fas fa-sync-alt"></i></button></div>
      <div class="row">
      <button class="btn zoomin" (click) = "zoomin($event)"><i class="fa fa-plus" aria-hidden="true"></i></button></div>
    <div class="row">
      <button class="btn zoomout" (click)="zoomout($event)"><i class="fa fa-minus" aria-hidden="true"></i></button></div>
    </div>

    <div class="download">
  <button type="button" placement="bottom"
  id="dropdownMenuButton" class="downloadBtn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <img style="filter: none; width: 50px;" src="../../../../assets/downloadimage.svg">
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <div><a class="dropdown-item" (click)="downloadJpeg()">JPG</a></div>
    <div><a class="dropdown-item" (click)="downloadPng()">PNG</a></div>
    <div><a class="dropdown-item" (click)="downloadPdf()">PDF</a></div>
  </div>
</div>

<div style="z-index: -1;" id="download">
  <p #canvas></p>
  <a #downloadLink></a>
</div>

<div *ngIf="hiddenPopUp" class="pop-up">
  <div class="rpa-modal-content">
    <div class="rpa-modal-header" style="padding: 8px; font-weight:600">
      {{formHeader}}
      <span class="rpa-modal-close" style="margin-top: -8px;" (click)="closeFun()" >&times;</span>
    </div>
    <div class="rpa-modal-body"><br>
      <div class="container">
      <app-dynamic-forms [fields]="getFields()" (onSubmit)="onFormSubmit($event)"></app-dynamic-forms></div>
    </div>
    <br>
  </div>
  </div>
    