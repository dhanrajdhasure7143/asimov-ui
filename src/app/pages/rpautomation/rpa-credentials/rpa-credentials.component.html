<div class="rpa-content-div mx-3" *ngIf="this.isButtonVisible || enableCredential">
    <div class="row credential-search-tools">
        <div class="rpa-env-search credential-search">            
            <input class="form-control toolbar-search" placeholder="Search" *ngIf="!isSearch" (keyup)="applyFilter1($event.target.value)">
            <img src="../../../../assets/images/search.svg" matSuffix *ngIf="!isSearch" class="testplus1">
        </div>
        <div class="env-data-tool credential-tools">
            <div *ngIf="!addflag" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" value="Create" id="addbtn" (click)="openCreateCredential()">
                    <img src='../../../../assets/images/RPA/icon_latest/new-blue.svg'> 
                    <span class="testtooltip">New</span>
                </button>

            </div>
            <div *ngIf="addflag" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" id="addbtn" disabled>
                    <img src='../../../../assets/images/RPA/icon_latest/plus dis.svg'> 
                    <span class="testtooltip">New</span>
                </button>

            </div>
            <div *ngIf="Credupdateflag == true" class="env-btn credential-btntool">
                <button id="updatebtn" class="tsttooltipbtn" (click)="openUpdateCredential()">       
                    <img src='../../../../assets/images/RPA/icon_latest/edit-blue.svg'> 
                    <span class="testtooltip">Modify</span>
                </button>    
            </div>   
            <div *ngIf="Credupdateflag == false" class="env-btn credential-btntool">    
                <button  id="updatebtn" data-placement="top" disabled>            
                    <img src='../../../../assets/images/RPA/icon_latest/edit-dis.svg'>     
                 <span class="testtooltip">Modify</span>        
                 </button>   
            </div>
            <div *ngIf="Creddeleteflag==true" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" value="Delete" id="deletebtn" (click)="deleteCredentials()">
                    <img src='../../../../assets/images/RPA/icon_latest/delete-blue.svg'> 
                    <span class="testtooltip">Delete</span>
                    </button>
            </div>       
            <div *ngIf="Creddeleteflag==false" class="env-btn credential-btntool">
                <button  data-placement="top" id="deletebtn"  disabled>
                    <img src='../../../../assets/images/RPA/icon_latest/delete-dis.svg'>
                <span class="testtooltip">Delete</span>
                </button>
            </div>

        </div>

    </div>
    
    <div class="col-md-12 con-envr">
        <div class="credential-tablegrid">
            <table mat-table #sort2="matSort" [dataSource]="dataSource2" matSort class="RPA table"  id="listofcred">
                
                <ng-container matColumnDef="check">
                    <th mat-header-cell *matHeaderCellDef>
                        <input [disabled]="Credcheckeddisabled" type="checkbox" id="Credcheckall" [checked]="Credcheckflag" (change)="CredcheckAllCheckBox($event)">
                    </th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <input type="checkbox" [checked]="element.checked" (change)="CredcheckEnableDisableBtn(element.credentialId, $event)"> 
                    </td>
                </ng-container>

                <ng-container matColumnDef="userName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Email</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.userName!=null">{{element.userName}}</span> 
                        <span *ngIf="element.userName==''">-</span> 
                    </td>
                </ng-container>
                <ng-container matColumnDef="password">
                    <th mat-header-cell *matHeaderCellDef >Password</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.password!=null">*******</span> <span *ngIf="element.password==''">-</span> </td>
                </ng-container>

                <ng-container matColumnDef="serverName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Server Type</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.serverName!=null">{{element.serverName}}</span> 
                        <span *ngIf="element.serverName==''">-</span> 
                    </td>
                </ng-container>

                
                <ng-container matColumnDef="categoryName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Category</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.categoryName!=null">{{element.categoryName}}</span> 
                        <span *ngIf="element.categoryName==''">-</span> 
                    </td>
                </ng-container>
                
                <ng-container matColumnDef="createdBy">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Created By</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.createdBy!=null">{{element.createdBy}}</span> 
                        <span *ngIf="element.createdBy==''">-</span> 
                    </td>
                </ng-container>
              
                <ng-container matColumnDef="createdTimeStamp">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Created Date</th>
                    <td mat-cell *matCellDef="let element">{{element.createdTimeStamp_converted}}</td>
                </ng-container>

                <ng-container matColumnDef="noData">
                    <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="9">
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns1; sticky: true"></tr>
                <tr class="row-highlight" mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
                <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide':!(credentials.length==0 || credentials.errorMessage=='No data found')}"></tr>
            </table>
            <div>
              </div>

        </div>
        <mat-paginator #paginator3 [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 50]" [showFirstLastButtons]="true" class="newpaginationdiv"></mat-paginator> 

    </div>
    

            <app-rpa-credential-form [isCreateForm]="isCreateForm" [credupdatedata]="credupdatedata" (refreshTable)="refreshCredentialList($event)"> </app-rpa-credential-form>
        </div>
 