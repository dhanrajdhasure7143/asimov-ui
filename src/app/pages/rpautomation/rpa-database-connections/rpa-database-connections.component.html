<div class="rpa-content-div mx-3" *ngIf="this.isButtonVisible || enableDbconnection">
    <div class="row credential-search-tools">
        <div class="rpa-env-search credential-search">            
            <input class="form-control toolbar-search" placeholder="Search" *ngIf="!isSearch" (keyup)="applyFilter1($event.target.value)">
            <img src="../../../../assets/images/search.svg" matSuffix *ngIf="!isSearch" class="testplus1">
        </div>
        <!-- <mat-form-field class="rpa-mat-form-field-search">
            <mat-label>Search</mat-label>
            <mat-icon matSuffix *ngIf="!isSearch" style="font-size: 1.2em">search</mat-icon>
            <input class="toolbar-search" *ngIf="!isSearch" matInput (keyup)="applyFilter1($event.target.value)">
        </mat-form-field> -->
        <div class="env-data-tool credential-tools">
            <div class="env-btn credential-btntool">
                <button class="tsttooltipbtn" value="Create" id="adddbbtn" (click)="createdbconnection()">
                    <img src='../../../../assets/images/RPA/icon_latest/new-blue.svg'>
                    <span class="testtooltip">New</span>
                </button>
            </div>
            <div *ngIf="DBupdateflag == true" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" id="updatedbbtn"  (click)="updatedbdata()">        
                    <img src='../../../../assets/images/RPA/icon_latest/edit-blue.svg'> 
            <span class="testtooltip">Modify</span>           
                </button>    
            </div>   
            <div *ngIf="DBupdateflag == false" class="env-btn credential-btntool">    
                <button id="updatedbbtn" data-placement="top" title="Modify Database Connection" disabled>            
                    <img src='../../../../assets/images/RPA/icon_latest/edit-dis.svg'>      
                 <span class="testtooltip">Modify</span>        
                 </button>   
            </div>
            <div *ngIf="DBdeleteflag==true" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" value="Delete" id="deletedbbtn" (click)="deletedbconnection()">
                    <img src='../../../../assets/images/RPA/icon_latest/delete-blue.svg'> 
                    <span class="testtooltip">Delete</span>
                    </button>
            </div>       
            <div *ngIf="DBdeleteflag==false" class="env-btn credential-btntool">
                <button  id="deletedbbtn" title="Delete Database Connection" disabled>
                    <img src='../../../../assets/images/RPA/icon_latest/delete-dis.svg'> 
                <span class="testtooltip">Delete</span>
                </button>
            </div>
        </div>

    </div>
    <div class="col-md-12 con-envr">
        <div class="credential-tablegrid">
            <table mat-table #sort2="matSort" [dataSource]="dataSource2" matSort class="RPA table"  id="listofdb">
                
                <ng-container matColumnDef="check">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        <input [disabled]="DBcheckeddisabled" type="checkbox" id="DBcheckall" [checked]="DBcheckflag" (change)="DBcheckAllCheckBox($event)">
                    </th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <input type="checkbox" [checked]="element.checked" (change)="DBcheckEnableDisableBtn(element.connectionId, $event)"> 
                    </td>
                </ng-container>

                <ng-container matColumnDef="connectiontName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Connection Name</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.connectiontName!=null">{{element.connectiontName}}</span> 
                        <span *ngIf="element.connectiontName==''">-</span> 
                    </td>
                </ng-container>

                <ng-container matColumnDef="categoryName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Category</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.categoryName!=null">{{element.categoryName}}</span> 
                        <span *ngIf="element.categoryName==''">-</span> </td>
                </ng-container>
                <ng-container matColumnDef="password">
                    <th mat-header-cell *matHeaderCellDef>Password</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.password!=null">*******</span> <span *ngIf="element.password==''">-</span> </td>
                </ng-container>
                <ng-container matColumnDef="dataBaseType">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Database Type</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.dataBaseType!=null">{{element.dataBaseType}}</span> 
                        <span *ngIf="element.dataBaseType==''">-</span> 
                    </td>
                </ng-container>
                <ng-container matColumnDef="databasename">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Database Name</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.databasename!=null">{{element.databasename}}</span> 
                        <span *ngIf="element.databasename==''">-</span> 
                    </td>
                </ng-container>
                <ng-container matColumnDef="hostAddress">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>IP Address / Host</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.hostAddress!=null">{{element.hostAddress}}</span> 
                        <span *ngIf="element.hostAddress==''">-</span> </td>
                </ng-container>
                <ng-container matColumnDef="portNumber">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Port</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.portNumber!=null">{{element.portNumber}}</span>
                         <span *ngIf="element.portNumber==''">-</span> </td>
                </ng-container>
                <ng-container matColumnDef="username">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Username</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.username!=null">{{element.username}}</span>
                         <span *ngIf="element.username==''">-</span></td>
                </ng-container>
                <ng-container matColumnDef="schemaName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Schema</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.schemaName!=null">{{element.schemaName}}</span>
                         <span *ngIf="element.schemaName==''">-</span></td>
                </ng-container>
                <ng-container matColumnDef="createdBy">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Created By</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.createdBy!=null">{{element.createdBy}}</span> 
                        <span *ngIf="element.createdBy==''">-</span> 
                    </td>
                </ng-container>
                <ng-container matColumnDef="activeStatus">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                    <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.activeStatus == 7"><span class='green'>Active</span></span>
                        <span *ngIf="element.activeStatus == 8 || element.activeStatus == 0"><span class='red'>Inactive</span></span>
                        
                    </td>
                </ng-container>
                <ng-container matColumnDef="createdTimeStamp">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Created Date</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.createdTimeStamp!=null">{{element.createdTimeStamp | date}} {{element.createdTimeStamp.split("T")[1].split(".")[0]}}</span> <span *ngIf="element.createdTimeStamp==''">-</span> </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns1; sticky: true"></tr>
                <tr class="row-highlight" mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
            </table>
            <div>
                <div *ngIf="dbconnections.length==0" class="text-center">
                  <img  src="../../../../../assets/images/RPA/No-Items.svg" class="no-item-img">
                  <h3 class="text-center">No Items to display</h3>
                </div>
              </div>
            
        

        </div>
        <mat-paginator #paginator4 [pageSize]="10"   [pageIndex]="0" [pageSizeOptions]="[5, 10, 25, 50]" [showFirstLastButtons]="true" class="newpaginationdiv"></mat-paginator> 

    </div>
    
    <!-- <div style="width:100%;overflow-x: scroll;">
    
            <table mat-table #sort2="matSort" [dataSource]="dataSource2" matSort class=" table"  id="listofdb">
                
                <ng-container matColumnDef="check">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>
                        <input [disabled]="DBcheckeddisabled" type="checkbox" id="DBcheckall" [checked]="DBcheckflag" (change)="DBcheckAllCheckBox($event)">
                    </th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <input type="checkbox" [checked]="element.checked" (change)="DBcheckEnableDisableBtn(element.connectionId, $event)"> 
                    </td>
                </ng-container>

                <ng-container matColumnDef="connectiontName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Connection Name</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.connectiontName!=null">{{element.connectiontName}}</span> 
                        <span *ngIf="element.connectiontName==''">-</span> 
                    </td>
                </ng-container>
                <ng-container matColumnDef="password">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Password</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.password!=null">*******</span> <span *ngIf="element.password==''">-</span> </td>
                </ng-container>
                <ng-container matColumnDef="dataBaseType">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Database Type</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.dataBaseType!=null">{{element.dataBaseType}}</span> 
                        <span *ngIf="element.dataBaseType==''">-</span> 
                    </td>
                </ng-container>
                <ng-container matColumnDef="databasename">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Database Name</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.databasename!=null">{{element.databasename}}</span> 
                        <span *ngIf="element.databasename==''">-</span> 
                    </td>
                </ng-container>
                <ng-container matColumnDef="hostAddress">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>IP Address/Host</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.hostAddress!=null">{{element.hostAddress}}</span> 
                        <span *ngIf="element.hostAddress==''">-</span> </td>
                </ng-container>
                <ng-container matColumnDef="portNumber">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Port</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.portNumber!=null">{{element.portNumber}}</span>
                         <span *ngIf="element.portNumber==''">-</span> </td>
                </ng-container>
                <ng-container matColumnDef="username">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>User Name</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.username!=null">{{element.username}}</span>
                         <span *ngIf="element.username==''">-</span></td>
                </ng-container>
                <ng-container matColumnDef="schemaName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Schema</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.schemaName!=null">{{element.schemaName}}</span>
                         <span *ngIf="element.schemaName==''">-</span></td>
                </ng-container>
                <ng-container matColumnDef="createdBy">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Created By</th>
                    <td mat-cell *matCellDef="let element"> 
                        <span *ngIf="element.createdBy!=null">{{element.createdBy}}</span> 
                        <span *ngIf="element.createdBy==''">-</span> 
                    </td>
                </ng-container>
                <ng-container matColumnDef="activeStatus">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                    <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.activeStatus == 7"><span><img class="rpa-image1" src="/assets/images/RPA/GreenCricle.png"></span>&nbsp;Active</span>
                        <span *ngIf="element.activeStatus == 8"><span><img class="rpa-image1" src="/assets/images/RPA/red-circle.png"></span>&nbsp;Inactive</span>
                        <span *ngIf="element.activeStatus == 0"><span><img class="rpa-image1" src="/assets/images/RPA/red-circle.png"></span>&nbsp;Undefined</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="createdTimeStamp">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Created Date</th>
                    <td mat-cell *matCellDef="let element"> <span *ngIf="element.createdTimeStamp!=null">{{element.createdTimeStamp | date}} {{element.createdTimeStamp.split("T")[1].split(".")[0]}}</span> <span *ngIf="element.createdTimeStamp==''">-</span> </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns1; sticky: true"></tr>
                <tr class="row-highlight" mat-row *matRowDef="let row; columns: displayedColumns1;"></tr>
            </table>
        
        </div>
            <mat-paginator #paginator2 [pageSize]="5" [showFirstLastButtons]="true"></mat-paginator>
    </div> -->


    <div id="createdbconnection" class="rpa-modal">
        <div class="rpa-modal-content">
            <div class="rpa-modal-header">
                <span class="rpa-modal-close" (click)="closedbconnection()"><img src="../../../../assets/images/RPA/icon_latest/close.svg" alt=""></span>
                <h4>Create Database Connection</h4>
            </div>
            <div class="modal-body">
                <div class="container m-contanier form-body">
                    <form [formGroup]="insertdbForm" (ngSubmit)="savedata()">                        
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="connectiontName">Connection Name<span class="star">*</span></label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="connectiontName" #connectiontName value="" placeholder="Enter Connection Name">
                                <span *ngIf="(insertdbForm.get('connectiontName').invalid && insertdbForm.get('connectiontName').touched) && !insertdbForm.controls['connectiontName'].hasError('maxlength')" class="errspan required">Connection Name Required*</span>
                                <div *ngIf="insertdbForm.controls['connectiontName'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>
                            </div>                          
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="dataBaseType">Database Type<span class="star">*</span></label>
                                <select class="form-control" formControlName="dataBaseType" (change)="changeDatabaseType($event)">
                                    <option value="" [selected]="true">--Select Database Type--</option>
                                    <option value="PostgreSQL">PostgreSQL</option>  
                                    <option value="Snowflake">Snowflake</option>                    
                                  </select>
                                <span *ngIf="insertdbForm.get('dataBaseType').invalid && insertdbForm.get('dataBaseType').touched" class="errspan required"> Database Type Required*</span>
                            </div>   
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="databasename">Database Name<span class="star">*</span></label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="databasename" #hostAddress value="" placeholder="Database Name">
                                <span *ngIf="(insertdbForm.get('databasename').invalid && insertdbForm.get('databasename').touched) && !insertdbForm.controls['databasename'].hasError('maxlength')" class="errspan required">Database Name Required*</span>
                                <div *ngIf="insertdbForm.controls['databasename'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>
                            </div>
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="hostAddress">IP Address / Host<span class="star">*</span></label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="hostAddress" #hostAddress value="" placeholder="Enter IP Address / Host">
                                <span *ngIf="(insertdbForm.get('hostAddress').invalid && insertdbForm.get('hostAddress').touched) && !insertdbForm.controls['hostAddress'].hasError('maxlength') && !insertdbForm.controls['hostAddress'].hasError('pattern')" class="errspan required"> IP Address/Host Required*</span>
    
                                <!--<div *ngIf="insertdbForm.controls['hostAddress'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>-->   
                                <div *ngIf="(insertdbForm.controls['hostAddress'].hasError('pattern') && !insertdbForm.controls['hostAddress'].hasError('maxlength')) && insertdbForm.get('hostAddress').touched" class="errspan required">
                                    Invalid IP Address format
                                </div>
                                <div *ngIf="(insertdbForm.controls['hostAddress'].hasError('pattern') && insertdbForm.controls['hostAddress'].hasError('maxlength'))" class="errspan required">
                                    Invalid IP Address format
                                </div>
                            </div>                                         
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="portNumber">Port<span *ngIf="!snowflakeflag" class="star">*</span> 
                                </label>
                                <input type="text" maxlength="7" class="form-control" onkeypress="return (event.charCode > 47 && event.charCode < 58)" formControlName="portNumber" value="" placeholder="Enter Port">    
                                <span *ngIf="(insertdbForm.get('portNumber').invalid && insertdbForm.get('portNumber').touched) && !insertdbForm.controls['portNumber'].hasError('maxlength')" class="errspan required">Port Required*</span>
                                <div *ngIf="insertdbForm.controls['portNumber'].hasError('maxlength')" class="errspan required">
                                    Maximum of 6 characters
                                </div>
                            </div>  
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="categoryId">Category<span class="star">*</span></label>
                                <select type="text" class="form-control" formControlName="categoryId"  [value]="categoryList.length==1?categoryList[0].categoryId:'0'">
                                    <option value="0" disabled>Select Category</option>
                                    <option [value]="category.categoryId" *ngFor="let category of categoryList">{{category.categoryName}}</option>
                                </select>   
                                 <span *ngIf="(insertdbForm.get('categoryId').invalid && insertdbForm.get('categoryId').touched)"  class="errspan required"> Username Required*</span>
                            </div>
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="username">Username<span class="star">*</span></label>
                                <input type="text" maxlength="51" class="form-control" formControlName="username" #username value="" placeholder="Enter Username">
                                <span *ngIf="(insertdbForm.get('username').invalid && insertdbForm.get('username').touched) && !insertdbForm.controls['username'].hasError('maxlength')" class="errspan required"> Username Required*</span>
                                <div *ngIf="insertdbForm.controls['username'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>     
                            </div>                    
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="password">Password<span class="star">*</span></label>
                                <input [type]="passwordtype1 ? 'text': 'password'" maxlength="51" class="form-control" formControlName="password" value="" placeholder="Enter Password" passwordToggle>
                                <span *ngIf="passwordtype1==false" (click)="passwordtype1 =!passwordtype1"class="pdicon">
                                    <img src="../../../../../assets/images/Projects/eye-show.svg"  class="testplus1">
                                </span>
                                <span *ngIf="passwordtype1==true" (click)="passwordtype1 =!passwordtype1"class="pdicon">
                                    <img src="../../../../../assets/images/Projects/eye-hide.svg"  class="testplus1">
                                </span>   
                                <span *ngIf="(insertdbForm.get('password').invalid && insertdbForm.get('password').touched) && !insertdbForm.controls['password'].hasError('maxlength')" class="errspan required"> Password Required*</span>
                                <div *ngIf="insertdbForm.controls['password'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>  
                            </div>                           
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="schemaName">Schema<span class="star">*</span></label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="schemaName" #schemaName value="" placeholder="Enter Schema">
    
                                <span *ngIf="(insertdbForm.get('schemaName').invalid && insertdbForm.get('schemaName').touched) && !insertdbForm.controls['schemaName'].hasError('maxlength')" class="errspan required"> Schema Required*</span>
                                <div *ngIf="insertdbForm.controls['schemaName'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>  
                            </div>
                            <div class="col-md-12 p-0 form-group" *ngIf="snowflakeflag">
                                <label class="label-control" for="role">Role</label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="role"  value="" placeholder="Enter Role">
    
                                <!-- <span *ngIf="(insertdbForm.get('role').invalid && insertdbForm.get('role').touched) && !insertdbForm.controls['role'].hasError('maxlength')" class="errspan required"> Schema Required*</span> -->
                                <div *ngIf="insertdbForm.controls['schemaName'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>  
                            </div>                
                            <div class="col-md-12 p-0 form-group" *ngIf="snowflakeflag">
                                <label class="label-control" for="warehouse">Warehouse</label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="warehouse"  value="" placeholder="Enter Warehouse">    
                                <!-- <span *ngIf="(insertdbForm.get('warehouse').invalid && insertdbForm.get('warehouse').touched) && !insertdbForm.controls['warehouse'].hasError('maxlength')" class="errspan required"> Ware Required*</span> -->
                                <div *ngIf="insertdbForm.controls['warehouse'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>  
                            </div>                       
                            <div class="col-md-6 p-0 form-group">
                                <input type="checkbox" formControlName="activeStatus"> Active
                            </div>
                        <!-- <input type="button" class="btn btn-primary" value="Save" (click)="saveDBConnection()" [disabled]="insertdbForm.invalid || submitted">
                        <input type="button" class="btn btn-primary" value="Test Connection" (click)="testConnection('insert')" [disabled]="insertdbForm.invalid">
                        <input type="button" class="btn btn-primary" value="Reset" (click)="resetDBForm()"> -->
                    </form>                    
                    <div class="form-footer">                               
                        <button class="btn btn-default" (click)="resetDBForm()" >Reset</button>
                        <button class="btn btn-primary btn-test" [disabled]="insertdbForm.invalid" (click)="testConnection('insert')" >Test Connection</button>
                        <button class="btn btn-primary"[disabled]="insertdbForm.invalid || submitted" (click)="saveDBConnection()" >Save</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="Updatedbconnection" class="rpa-modal">
        <div class="rpa-modal-content">
            <div class="rpa-modal-header">
                <span class="rpa-modal-close" (click)="closedbconnection()"><img src="../../../../assets/images/RPA/icon_latest/close.svg" alt=""></span>
                <h4>Update Database Connection</h4>
            </div>
            <div class="modal-body" *ngIf="DBupdateflag==true">
                <div class="container m-contanier form-body">
                    <form [formGroup]="updatedbForm" (ngSubmit)="dbconnectionupdate()">
                        <div class="row">
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="connectiontName">Connection Name<span class="star">*</span></label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="connectiontName" #connectiontName value="" placeholder="Enter Connection Name">
                                <span *ngIf="(updatedbForm.get('connectiontName').invalid && updatedbForm.get('connectiontName').touched) && !updatedbForm.controls['connectiontName'].hasError('maxlength')" class="errspan required">Connection Name Required*</span>
                                <div *ngIf="updatedbForm.controls['connectiontName'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>
                            </div>
                            
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="dataBaseType">Database Type<span class="star">*</span></label>
                                <select class="form-control" formControlName="dataBaseType">
                                    <option value="" [selected]="true">--Select Database Type--</option>
                                    <option value="PostgreSQL">PostgreSQL</option> 
                                    <option value="Snowflake">Snowflake</option>                                         
                                  </select>
                                <span *ngIf="updatedbForm.get('dataBaseType').invalid && updatedbForm.get('dataBaseType').touched" class="errspan required"> Database Type Required*</span>
                            </div>
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="databasename">Database Name<span class="star">*</span></label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="databasename" #hostAddress value="" placeholder="Database Name">
                                <span *ngIf="(updatedbForm.get('databasename').invalid && updatedbForm.get('databasename').touched) && !updatedbForm.controls['databasename'].hasError('maxlength')" class="errspan required">Database Name Required*</span>
                                <div *ngIf="updatedbForm.controls['databasename'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>
                            </div>
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="hostAddress">IP Address / Host<span class="star">*</span></label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="hostAddress" #hostAddress value="" placeholder="Enter IP Address / Host">
                                <span *ngIf="(updatedbForm.get('hostAddress').invalid && updatedbForm.get('hostAddress').touched) && !updatedbForm.controls['hostAddress'].hasError('maxlength') && !updatedbForm.controls['hostAddress'].hasError('pattern')" class="errspan required"> IP Address/Host Required*</span>
    
                                <!--<div *ngIf="updatedbForm.controls['hostAddress'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>-->
    
                                <div *ngIf="(updatedbForm.controls['hostAddress'].hasError('pattern') && !updatedbForm.controls['hostAddress'].hasError('maxlength')) && updatedbForm.get('hostAddress').touched" class="errspan required">
                                    Invalid IP Address format
                                </div>
                                <div *ngIf="(updatedbForm.controls['hostAddress'].hasError('pattern') && updatedbForm.controls['hostAddress'].hasError('maxlength'))" class="errspan required">
                                    Invalid IP Address format
                                </div>
                            </div>
                                                 
                            
                        </div>
                        <div class="row">
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="portNumber">Port
                                 <span *ngIf="!snowflakeflag" class="star">*</span> 
                                </label>
                                <input type="text" maxlength="7" class="form-control" onkeypress="return (event.charCode > 47 && event.charCode < 58)" formControlName="portNumber" value="" placeholder="Enter Port">       
    
                                <span *ngIf="(updatedbForm.get('portNumber').invalid && updatedbForm.get('portNumber').touched) && !updatedbForm.controls['portNumber'].hasError('maxlength')" class="errspan required"> Port Required*</span>
                                <div *ngIf="updatedbForm.controls['portNumber'].hasError('maxlength')" class="errspan required">
                                    Maximum of 6 characters
                                </div>
                            </div> 
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="categoryId">Category<span class="star">*</span></label>
                                <select type="text" class="form-control" formControlName="categoryId" >
                                    <option value="0" disabled>Select Category</option>
                                    <option [value]="category.categoryId" *ngFor="let category of categoryList">{{category.categoryName}}</option>
                                </select>   
                                 <span *ngIf="(updatedbForm.get('categoryId').invalid && updatedbForm.get('categoryId').touched)"  class="errspan required"> Username Required*</span>
    
                               
    
                            </div>
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="username">Username<span class="star">*</span></label>
                                <input type="text" maxlength="51" class="form-control" formControlName="username" #username value="" placeholder="Enter Username">
                                <span *ngIf="(updatedbForm.get('username').invalid && updatedbForm.get('username').touched) && !updatedbForm.controls['username'].hasError('maxlength')" class="errspan required"> Username Required*</span>
                                <div *ngIf="updatedbForm.controls['username'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>       
                            </div>
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="password">Password<span class="star">*</span></label>
                                <input [type]="passwordtype1 ? 'text': 'password'" maxlength="51" class="form-control" formControlName="password" value="" placeholder="Enter Password" passwordToggle>
                                <span *ngIf="passwordtype1==false" (click)="passwordtype1 =!passwordtype1" class="pdicon">
                                    <img src="../../../../../assets/images/Projects/eye-show.svg"  class="testplus1">
                                </span>
                                <span *ngIf="passwordtype1==true" (click)="passwordtype1 =!passwordtype1" class="pdicon">
                                    <img src="../../../../../assets/images/Projects/eye-hide.svg"  class="testplus1">
                                </span>
                                <span *ngIf="(updatedbForm.get('password').invalid && updatedbForm.get('password').touched) && !updatedbForm.controls['password'].hasError('maxlength')" class="errspan required"> Password Required*</span>
                                <div *ngIf="updatedbForm.controls['password'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>  
                            </div>
                            
                            <div class="col-md-12 p-0 form-group">
                                <label class="label-control" for="schemaName">Schema<span class="star">*</span></label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="schemaName" #schemaName value="" placeholder="Enter Schema">
    
                                <span *ngIf="(updatedbForm.get('schemaName').invalid && updatedbForm.get('schemaName').touched) && !updatedbForm.controls['schemaName'].hasError('maxlength')" class="errspan required"> Schema Required*</span>
                                <div *ngIf="updatedbForm.controls['schemaName'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>  
                            </div>

                            <div class="col-md-12 p-0 form-group" *ngIf="snowflakeflag">
                                <label class="label-control" for="role">Role</label>
                                <input type="text" maxlength="51" class="form-control data" formControlName="role" #role value="" placeholder="Enter Role">

                                <!-- <span *ngIf="(insertdbForm.get('role').invalid && insertdbForm.get('role').touched) && !insertdbForm.controls['role'].hasError('maxlength')" class="errspan required"> Schema Required*</span> -->
                                <div *ngIf="insertdbForm.controls['schemaName'].hasError('maxlength')" class="errspan required">
                                    Maximum of 50 characters
                                </div>  
                            </div>
                        
                        <div class="col-md-12 p-0 form-group" *ngIf="snowflakeflag">
                            <label class="label-control" for="warehouse">Warehouse</label>
                            <input type="text" maxlength="51" class="form-control data" formControlName="warehouse"  value="" placeholder="Enter Warehouse">

                            <!-- <span *ngIf="(insertdbForm.get('warehouse').invalid && insertdbForm.get('warehouse').touched) && !insertdbForm.controls['warehouse'].hasError('maxlength')" class="errspan required"> Ware Required*</span> -->
                            <div *ngIf="insertdbForm.controls['warehouse'].hasError('maxlength')" class="errspan required">
                                Maximum of 50 characters
                            </div>  
                        </div>
                            
                        </div>
                        <div class="row">
                            <div class="col-md-6 p-0 form-group">
                                <input type="checkbox" [checked]="toggle" formControlName="activeStatus"> Active
                            </div>
                        </div>

                        <!-- <input type="button" class="btn btn-primary" value="Save" (click)="dbconnectionupdate()" [disabled]="updatedbForm.invalid || submitted">
                        <input type="button" class="btn btn-primary" value="Test Connection" (click)="testConnection('update')" [disabled]="updatedbForm.invalid">
                         <input type="button" class="btn btn-primary" value="Reset" (click)="resetupdateDBForm()"> -->
                    </form>
                    <div class="form-footer">
                        <button class="btn btn-default"(click)="resetupdateDBForm()" >Reset</button>
                        <button class="btn btn-primary btn-test" [disabled]="updatedbForm.invalid" (click)="testConnection('update')" >Test Connection</button>
                        <button class="btn btn-primary"[disabled]="updatedbForm.invalid || submitted" (click)="dbconnectionupdate()" >Modify</button>
                        
                        
                    </div>
                </div>

            </div>
            
        </div>
    </div>