<div class="rpa-content-div">
    <div class="row credential-search-tools">
        <div class="env-data-tool credential-tools">
            <div *ngIf="addflag" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" value="Create" id="addbtn" (click)="addNewConnection()" pTooltip="New" tooltipPosition="bottom">
                    <img src='../../../../assets/images/RPA/icon_latest/new-blue.svg' alt="add">
                    <!-- <span class="testtooltip">New</span> -->
                </button>
            </div>
            <div *ngIf="!addflag" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" id="addbtn" disabled>
                    <img src='../../../../assets/images/RPA/icon_latest/plus dis.svg' alt="add">
                    <!-- <span class="testtooltip">New</span> -->
                </button>
            </div>
            <div *ngIf="viewConnetorflag" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" id="updateenvbtn" (click)="viewConnector()" pTooltip="View" tooltipPosition="bottom">
                    <img src='../../../../assets/images-n/projects/eye-show-blue.svg' alt="view">
                    <!-- <span class="testtooltip"> View</span> -->
                </button>
            </div>
            <div *ngIf="!viewConnetorflag" class="env-btn credential-btntool">
                <button id="updateenvbtn" disabled>
                    <img src='../../../../assets/images-n/projects/eye-show dis.svg' alt="view">
                    <!-- <span class="testtooltip"> View</span> -->
                </button>
            </div>
            <div *ngIf="updateflag" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" id="updateenvbtn" (click)="openUpdateOverlay()" pTooltip="Edit" tooltipPosition="bottom">
                    <img src='../../../../assets/images/RPA/icon_latest/edit-blue.svg' alt="edit">
                    <!-- <span class="testtooltip"> Edit</span> -->
                </button>
            </div>
            <div *ngIf="!updateflag" class="env-btn credential-btntool">
                <button id="updateenvbtn" disabled>
                    <img src='../../../../assets/images/RPA/icon_latest/edit-dis.svg' alt="edit">
                    <!-- <span class="testtooltip"> Edit</span> -->
                </button>
            </div>
            <div class="env-btn credential-btntool" *ngIf="delete_flag">
                <button class="tsttooltipbtn" value="Delete" id="deletebtn" (click)="deleteConnection()" pTooltip="Delete" tooltipPosition="bottom">
                    <img src='../../../../assets/images/RPA/icon_latest/delete-blue.svg' alt="delete">
                    <!-- <span class="testtooltip">Delete</span> -->
                </button>
            </div>
            <div *ngIf="!delete_flag" class="env-btn credential-btntool">
                <button data-placement="top" id="deletebtn" disabled>
                    <img src='../../../../assets/images/RPA/icon_latest/delete-dis.svg' alt="delete">
                    <!-- <span class="testtooltip">Delete</span> -->
                </button>
            </div>
        </div>
    </div>
    <div class="col-md-12 con-envr p-0">
        <div class="credential-tablegrid">
            <app-dynamic-table 
                [representatives]="representatives" 
                [columns_list]="columns_list"
                [table_data]="connectorTable" 
                (viewDetails)="viewDetails($event)" 
                (deleteItem)="deleteById($event)"
                [screenTable]="'common'" 
                [checkBoxShow]="true" 
                (selectedData)="readSelectedData($event)" 
                [dataKeyId]="'id'"
                [show_search_field]="true"
                [show_column_filter]="true"
                [show_clear_filter]="true"
                >
            </app-dynamic-table>
        </div>
    </div>
</div>    
<!-- <app-rpa-connection-manager-form [isConnectorForm]="isConnectorForm"> </app-rpa-connection-manager-form> -->
<div [hidden]="!isFormOverlay">
        <app-split-overlay (closeOverlay)="closeFormOverlay($event)">
            <div class="h-100">
                <div class="create-header">
                    <h3 *ngIf="isCreate" > Create Connection</h3>
                    <h3 *ngIf="!isCreate" > Update Connection</h3>
                </div>
                <div class="h-100">
                    <div class="createform-overlay">
                        <form [formGroup]="createConnectorForm">
                            <div class="form-group col p-0">
                                <label class="" for="connection"> Connector Name <span class="star">*</span></label>
                                <input type="text" pInputText [style]="{'width':'100%'}"  maxlength="51" formControlName="name"
                                    placeholder="Enter Connector Name">
                                <span *ngIf="createConnectorForm.get('name').invalid && createConnectorForm.get('name').touched && !createConnectorForm.get('name').hasError('pattern')" class="required"> Connector Name Required* </span>
                                <span *ngIf="createConnectorForm.controls['name'].hasError('maxlength')" class="required">
                                    Maximum of 50 characters
                                </span>
                            </div> 
                            <!-- <div class="col-md-12 p-0 form-group">
                                <label class="" for="userName"> Authorization Type <span class="star">*</span></label>
                                <p-dropdown [options]="authorizationType" formControlName="authorization_Type" autoWidth="false"
                              [(ngModel)]="optionValue" [style]="{'width':'100%'}" placeholder="Select Authorization"
                             (onChange)="changeAuth($event)" required></p-dropdown>
                                <span *ngIf="createConnectorForm.get('authorization_Type').invalid && createConnectorForm.get('authorization_Type').touched" class="required"> Authorization Type Required* </span>
                            </div> -->
                            <div class="form-group col p-0">
                                <label class="" for="task_icon"> Task Icon <span class="star">*</span></label>
                                <!-- <input type="file" pInputText [style]="{'width':'100%'}" formControlName="taskIcon" placeholder="Upload Icon"> -->
                                <input class="form-control" accept="image/png, image/svg" (change)="imageUpload($event)"
                                    formControlName="taskIcon" id="formFileLg" type="file" />
                                <span
                                    *ngIf="createConnectorForm.get('taskIcon').invalid && createConnectorForm.get('taskIcon').touched"
                                    class="required"> Task Icon Required* </span>
                            </div>
                            <!-- <div class="custom-file">
                                <input type="file" class="custom-file-input" id="customFileLang" lang="es">
                                <label class="custom-filfe-label" for="customFileLang">Seleccionar Archivo</label>
                            </div> -->
                        </form>
                        <div class="createform-footer">
                            <button class="btn new-cancelbtn" (click)="resetForm()"> Reset </button> 
                            <button *ngIf="isCreate" [disabled]="createConnectorForm.invalid" (click)="saveConnector()" class="btn bluebg-button"> Save </button>
                            <button *ngIf="!isCreate" (click)="updateConnector()"p class="btn bluebg-button"> Update </button> 
                        </div>
                    </div>
                </div>
            </div>
        </app-split-overlay>
</div>

    <!-- <div [hidden]="!isAuthOverlay">
        <app-split-overlay (closeOverlay)="closeAuthOverlay($event)">
            <h5 class="create-title"> Configuration Options </h5>
            <div class="container modal-body col-lg-12">
                <form [formGroup]="configurationOptions">
                        <div class="col-md-12 p-0 form-group">
                            <label class="label-control" for="garnt_type"> Grant Type <span class="star">*</span></label>
                         <p-dropdown [options]="grantType" formControlName="GrantType" autoWidth="false"
                          [(ngModel)]="optionValue1" [style]="{'width':'100%'}" placeholder="Select Authorization"
                         (onChange)="changeAuth($event)" required></p-dropdown>
                            <span *ngIf="configurationOptions.get('GrantType').invalid && configurationOptions.get('GrantType').touched" class="required"> Grant Type Required* </span>
                        </div>
                    <div class="col-md-12 p-0 form-group">
                            <label class="label-control" for="access_token"> Access Token <span class="star">*</span></label>
                        <input type="text" pInputText [style]="{'width':'100%'}"  formControlName="accessToken" placeholder="Enter Access Token">
                        <span *ngIf="configurationOptions.get('accessToken').invalid && configurationOptions.get('accessToken').touched" class="required"> Access Token Required* </span>
                    </div>
                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="client_id"> Client ID <span class="star">*</span></label>
                        <input type="text" pInputText [style]="{'width':'100%'}" formControlName="clienId" placeholder="Enter Client ID">
                        <span *ngIf="configurationOptions.get('clienId').invalid && configurationOptions.get('clienId').touched" class="required"> Client ID Required* </span>
                    </div>
                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="client_secret"> Client Secret <span class="star">*</span></label>
                        <input type="text" pInputText [style]="{'width':'100%'}"  formControlName="clientSecret" placeholder="Enter Client Secret">
                        <span *ngIf="configurationOptions.get('clientSecret').invalid && configurationOptions.get('clientSecret').touched" class="required"> Client Secret Required* </span>
                    </div>
                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="user_name"> User Name <span class="star">*</span></label>
                        <input type="text" pInputText [style]="{'width':'100%'}" formControlName="userName" placeholder="Enter User Name">
                        <span *ngIf="configurationOptions.get('userName').invalid && configurationOptions.get('userName').touched" class="required"> User Name Required* </span>
                    </div>
                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="password"> Password <span class="star">*</span></label>
                        <input type="text" pInputText [style]="{'width':'100%'}" formControlName="password" placeholder="Enter Password">
                        <span *ngIf="configurationOptions.get('password').invalid && configurationOptions.get('password').touched" class="required"> Password Required* </span>
                    </div>
                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="scope"> Scope <span class="star">*</span></label>
                        <input type="text" pInputText [style]="{'width':'100%'}" formControlName="scope" placeholder="Enter Scope">
                        <span *ngIf="configurationOptions.get('scope').invalid && configurationOptions.get('scope').touched" class="required"> Scope Required* </span>
                    </div>
                    <div class="form-footer">
                        <button class="btn btn-default btn-test">Reset</button> 
                        <button class="btn btn-primary" [disabled]="configurationOptions.invalid" (click)="saveConfigurations()"> Submit </button>
                    </div>
                </form>
            </div>
        </app-split-overlay>
    </div> -->
