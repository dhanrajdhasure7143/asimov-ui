<div class="rpa-content-div">
    <div class="row credential-search-tools">
        <div class="env-data-tool credential-tools">
            <div *ngIf="addflag" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" value="Create" id="addbtn" (click)="addNewConnection()">
                    <img src='../../../../assets/images/RPA/icon_latest/new-blue.svg'>
                    <span class="testtooltip">New</span>
                </button>
            </div>
            <div *ngIf="!addflag" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" id="addbtn" disabled>
                    <img src='../../../../assets/images/RPA/icon_latest/plus dis.svg'>
                    <span class="testtooltip">New</span>
                </button>
            </div>
            <div *ngIf="viewConnetorflag" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" id="updateenvbtn" (click)="viewConnector()">
                    <img src='../../../../assets/images-n/projects/eye-show-blue.svg'>
                    <span class="testtooltip"> View</span>
                </button>
            </div>
            <div *ngIf="!viewConnetorflag" class="env-btn credential-btntool">
                <button id="updateenvbtn" disabled>
                    <img src='../../../../assets/images-n/projects/eye-show dis.svg'>
                    <span class="testtooltip"> View</span>
                </button>
            </div>
            <div *ngIf="updateflag" class="env-btn credential-btntool">
                <button class="tsttooltipbtn" id="updateenvbtn" (click)="openUpdateOverlay()">
                    <img src='../../../../assets/images/RPA/icon_latest/edit-blue.svg'>
                    <span class="testtooltip"> Edit</span>
                </button>
            </div>
            <div *ngIf="!updateflag" class="env-btn credential-btntool">
                <button id="updateenvbtn" disabled>
                    <img src='../../../../assets/images/RPA/icon_latest/edit-dis.svg'>
                    <span class="testtooltip"> Edit</span>
                </button>
            </div>
            <div class="env-btn credential-btntool" *ngIf="delete_flag">
                <button class="tsttooltipbtn" value="Delete" id="deletebtn" (click)="deleteConnection()">
                    <img src='../../../../assets/images/RPA/icon_latest/delete-blue.svg'>
                    <span class="testtooltip">Delete</span>
                </button>
            </div>
            <div *ngIf="!delete_flag" class="env-btn credential-btntool">
                <button data-placement="top" id="deletebtn" disabled>
                    <img src='../../../../assets/images/RPA/icon_latest/delete-dis.svg'>
                    <span class="testtooltip">Delete</span>
                </button>
            </div>
        </div>
    </div>
    <div class="col-md-12 con-envr p-0">
        <div class="credential-tablegrid">
            <app-dynamic-table [representatives]="representatives" [columns_list]="columns_list" [table_data]="connectorTable"
                (viewDetails)="viewDetails($event)" (deleteItem)="deleteById($event)" [screenTable]="'common'" [checkBoxShow]="true"
                (selectedData)="readSelectedData($event)" [dataKeyId]="'id'" [show_search_field]="true" [show_column_filter]="true"
                [show_clear_filter]="true" [search_fields]="table_searchFields">
            </app-dynamic-table>
        </div>
    </div>
</div>    
<!-- <app-rpa-connection-manager-form [isConnectorForm]="isConnectorForm"> </app-rpa-connection-manager-form> -->
<div [hidden]="!isFormOverlay">
        <app-split-overlay (closeOverlay)="closeFormOverlay($event)">
            <h5 *ngIf="isCreate" class="create-title"> Create Connection</h5>
            <h5 *ngIf="!isCreate" class="create-title"> Update Connection</h5>
            <div class="container col-lg-12">
                <form [formGroup]="createConnectorForm">
                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="connection"> Connector Name <span class="star">*</span></label>
                        <input type="text" class="form-control form-control-lg"  maxlength="51" formControlName="name"
                            placeholder="Enter Connector Name">
                        <span *ngIf="createConnectorForm.get('name').invalid && createConnectorForm.get('name').touched && !createConnectorForm.get('name').hasError('pattern')" class="errspan required"> Connector Name Required* </span>
                        <span *ngIf="createConnectorForm.controls['name'].hasError('maxlength')" class="errspan required">
                            Maximum of 50 characters
                        </span>
                    </div> <br>
                    <!-- <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="userName"> Authorization Type <span class="star">*</span></label>
                        <p-dropdown [options]="authorizationType" formControlName="authorization_Type" autoWidth="false"
                      [(ngModel)]="optionValue" [style]="{'width':'100%'}" placeholder="Select Authorization"
                     (onChange)="changeAuth($event)" required></p-dropdown>
                        <span *ngIf="createConnectorForm.get('authorization_Type').invalid && createConnectorForm.get('authorization_Type').touched" class="errspan required"> Authorization Type Required* </span>
                    </div> -->
                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="task_icon"> Task Icon <span class="star">*</span></label>
                        <!-- <input type="file" pInputText [style]="{'width':'100%'}" formControlName="taskIcon" placeholder="Upload Icon"> -->
                        <input class="form-control form-control-lg" accept="image/png, image/svg" (change)="imageUpload($event)"
                            formControlName="taskIcon" id="formFileLg" type="file" />
                        <span
                            *ngIf="createConnectorForm.get('taskIcon').invalid && createConnectorForm.get('taskIcon').touched"
                            class="errspan required"> Task Icon Required* </span>
                    </div>
                    <!-- <div class="custom-file">
                        <input type="file" class="custom-file-input" id="customFileLang" lang="es">
                        <label class="custom-filfe-label" for="customFileLang">Seleccionar Archivo</label>
                    </div> -->
                    <div class="form-footer">
                        <button class="btn btn-primary" (click)="resetForm()"> Reset </button> &nbsp;
                        <button *ngIf="isCreate" [disabled]="createConnectorForm.invalid" (click)="saveConnector()" class="btn btn-primary"> Save </button>
                        <button *ngIf="!isCreate" (click)="updateConnector()"p class="btn btn-primary"> Update </button> 
                    </div>
                </form>
            </div>
        </app-split-overlay>
</div>
