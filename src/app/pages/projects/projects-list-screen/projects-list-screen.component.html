<div class="maincontent">
  <div class="h-100">
    <div class="row main-content-head">
      <div class="col-md-4 pl-0">
        <h3>
          <!-- <label id="popup_title">
                        <a (click)="backToProjectDetails()"><img
                                src="./../../../../assets/images-n/projects/backarrow.svg" alt="back-arrow"></a>
                    </label> -->
          <span class="title_text">
            Projects 
          </span>
        </h3>
      </div>
      <div class="col-md-8 pr-0 text-right">
        <!-- <button class="btn">
                    <img src="./../../../../assets/images-n/projects/Open.svg" alt="Open">
                    <span>Open</span>
                </button> -->
        <button class="grey-btn create-pad" (click)="onClikCreateProject()" pTooltip="Create New" tooltipPosition="top">
          <img src="./../../../../assets/images-n/dashboard/plus-square_grey.svg"   alt="Create">
        </button>
        <!-- <button class="btn" pTooltip="Create" (click)="menu.toggle($event)" tooltipPosition="top">
          <img src="./../../../../assets/images-n/projects/plus-square_blue.svg" alt="Create">
        </button>
        <p-menu class="actionspopmenu" #menu [popup]="true" [model]="actionsitems"></p-menu> -->
        <!-- <button class="btn" pTooltip="Actions" tooltipPosition="top">
          <img src="./../../../../assets/images-n/projects/more-vertical.svg" alt="Actions">
          <span>Actions</span>
        </button> -->
      </div>
    </div>
    <div class="main-content-body tablist-cont">
        <div class="tabs_screen h-100">
          <p-tabView #tabView (onChange)="onTabChanged($event, tabView)">
            <p-tabPanel [header]="each.tabName" *ngFor="let each of _tabsList; let i = index" [selected]="i == 0">
              <ng-template pTemplate="header">
                <div class="status-tabs">
                  <div class="status-img">
                    <img src="../assets/images-n/projects/{{each.img_src}}" alt="">
                  </div>
                  <div class="status-data">
                    <span class="tabscount">{{each.count}}</span>
                    <span class="">{{each.tabName}}</span>
                  </div>
                </div>
              </ng-template>
            </p-tabPanel>
            <div class="">
              <app-dynamic-table 
                [representatives]="representatives" 
                [columns_list]="columns_list"
                [table_data]="projects_list" 
                [userRoles]="userRoles" 
                (viewDetails)="viewDetails($event)"
                (deleteItem)="deleteById($event)" 
                [screenTable]="'projectList'" 
                [dataKeyId]="'id'"
                [search_fields]="table_searchFields"
                [categories_list]="categories_list"
                [show_search_field]="true"
                [show_column_filter]="true"
                [show_clear_filter]="true"
                [selectionMode]="'single'"
                >
              </app-dynamic-table>
            </div>
          </p-tabView>
        </div>
    </div>
  </div>
</div>





<div [hidden]="!hiddenPopUp" >
  <app-split-overlay (closeOverlay)="closeOverlay($event)"  >
    <div class="h-100">
      <div class="create-header" >
        <h3 *ngIf="!isprojectCreateForm">Create Project / Program</h3>
        <h3 *ngIf="isprojectCreateForm">Create Project</h3>        
      </div>
      <div class="row create-body" *ngIf="!isprojectCreateForm">
        <div class="prjoverlay">
          <p-card class="cards imgg"  >
            <button type="button" (click)="onClikCreateProject()">
              <p-image src="../../../../assets/images-n/projects/CreateProject.svg"  alt="Create Project"></p-image>                  
              <p class=" title_text">Create Project</p>                  
            </button>
          </p-card>
        </div>
        <div class="prjoverlay">
          <p-card class="cards side imgg" >
            <button  type="button"  (click)="onClikCreateProgram()">                
              <p-image src="../../../../assets/images-n/projects/CreateProgram.svg"  class="crtprgm" alt="Create Program"></p-image>                
              <p class=" title_text">Create Program</p>
            </button>
          </p-card>
        </div>
      </div>
      <div *ngIf="isprojectCreateForm" class="h-100">
        <app-create-project-form [users_list]="users_list" [hiddenPopUp]="hiddenPopUp"></app-create-project-form>
      </div>
    </div>
  </app-split-overlay>
</div>

<p-confirmDialog #cd [style]="{width: '30vw'}" key="positionDialog" position="center" [baseZIndex]="10000" 
rejectButtonStyleClass="btn bluebg-button" [closable]="false">
  <ng-template pTemplate="footer">
    <button type="button" pButton class="btn reset-btn" label="No" (click)="cd.reject()"></button>
    <button type="button" pButton class="btn bluebg-button" label="Yes" (click)="cd.accept()"></button>
</ng-template>
</p-confirmDialog>

<p-toast  [style]="{marginTop: '50px'}" ></p-toast>
