<div class="container-fluid">
  <div class="createform">
      <form [formGroup]="insertForm2" (ngSubmit)="createproject()" class="prj-crt-form">
          <div class="">
              <div class="row">
                  <div class="form-fields col">
                      <label class="label-control">Project Name<span class="star">*</span></label>
                      <input type="text" pInputText [style]="{'width':'100%'}" maxlength="51"
                          formControlName="projectName" placeholder="Enter Project Name">
                      <span
                          *ngIf="insertForm2.get('projectName').invalid && insertForm2.get('projectName').touched && !insertForm2.get('projectName').hasError('pattern')"
                          class="errspan required">Project Name Required*</span>
                      <span *ngIf="insertForm2.controls['projectName'].hasError('maxlength')"
                          class="errspan required">
                          Maximum of 50 characters exceeded
                      </span>
                      <span *ngIf="insertForm2.get('projectName').hasError('pattern')" class="errspan required">Spaces
                          and special characters are not allowed Excluding( _ & - )
                      </span>
                  </div>
                  <div class="form-fields col">
                      <label class="label-control">Select Department<span class="star">*</span></label>
                      <p-dropdown [options]="categories_list" [filter]="true" formControlName="mapValueChain"
                          autoWidth="false" [filter]="true" [style]="{'width':'100%'}"
                          placeholder="Select a Department" optionLabel="categoryName"
                          optionValue="categoryName"></p-dropdown>
                      <!-- <select class="form-control data"
                      [disabled]="categories_list.length==1"
                      formControlName="mapValueChain" name="mapValueChain" [ngClass]="insertForm2.get('mapValueChain').valid?'enteredfield-color':'inputfield-color'">
                      <option [value]="null" disabled hidden>Select Department</option>
                      <option value="" [selected]="true" disabled hidden>Select Department</option>
                      <option *ngFor="let category of categories_list"
                          [value]="category.categoryName">{{category.categoryName}}</option>
                  </select> -->
                      <div *ngIf="insertForm2.get('mapValueChain').invalid && insertForm2.get('mapValueChain').touched"
                          class="errspan required">
                          Department Required*
                      </div>
                  </div>
              </div>
              <div class="row">
                  <div class="form-fields col">
                      <label class="label-control">Process Owner<span class="star">*</span></label>
                      <!-- <select formControlName="processOwner" [attr.disabled]="processOwner==false" class="form-control" [ngClass]="insertForm2.get('processOwner').valid?'enteredfield-color':'inputfield-color'">
                          <option value="" disabled hidden>Select Process Owner</option>
                          <option *ngFor="let user of users_list" [value]="user.userId.userId">
                              {{user.userId.firstName|titlecase}} {{user.userId.lastName|titlecase}}</option>
                      </select> -->
                      <p-dropdown [options]="users_list" [filter]="true" [style]="{'width':'100%'}"
                          filterBy="user_email,fullName" required [autoDisplayFirst]="false" (onChange)="onChange()"
                          placeholder="Select Process Owner" formControlName="processOwner" optionValue="user_email"
                          optionLabel="fullName">
                          <!-- <ng-template let-group pTemplate="group">
                          <div class="p-d-flex p-ai-center">
                              <span>{{group.firstName|titlecase}} {{group.lastName|titlecase}}</span>
                          </div>
                      </ng-template> -->
                      </p-dropdown>
                      <span *ngIf="insertForm2.get('processOwner').invalid && insertForm2.get('processOwner').touched"
                          class="errspan required">Process Owner Required*</span>
                  </div>
                  <div class="form-fields col">
                      <label class="label-control">Select Process<span class="star">*</span></label>
                      <p-dropdown [options]="selected_process_names" [filter]="true" [style]="{'width':'100%'}"
                          required [autoDisplayFirst]="false" placeholder="Select Process" formControlName="process"
                          optionValue="processId" optionLabel="processName" filterBy="processName">
                      </p-dropdown>
                      <!-- <select class="form-control data" formControlName="process"
                          (change)="onProcessChange($event.target.value)"
                          [ngClass]="insertForm2.get('process').valid?'enteredfield-color':'inputfield-color'">
                          <option [value]="null" disabled hidden>Select Process</option>
                          <option value="" [selected]="true" disabled hidden>Select Process</option>
                          <option *ngFor="let process of selected_process_names" [value]="process.processId">
                              {{process.processName}}</option>
                      </select> -->
                      <span *ngIf="insertForm2.get('process').invalid && insertForm2.get('process').touched"
                          class="errspan required">Process Required*</span>
                  </div>
              </div>
              <div class="row">
                  <div class="form-fields">
                      <label class="label-control">Project Priority<span class="star">*</span></label>
                      <!-- <select formControlName="priority" class="form-control data" [ngClass]="insertForm2.get('priority').valid?'enteredfield-color':'inputfield-color'">
                      <option value="" disabled hidden>Select Project Priority</option>
                      <option value="High">High</option>
                      <option value="Medium">Medium</option>
                      <option value="Low">Low</option>
                  </select> -->
                      <div>
                          <!-- <div class="field-radiobutton">
                              <p-radioButton name="Priority" value="Low" formControlName="priority"></p-radioButton>
                              <label for="Low">Low</label>
                              <p-radioButton name="Priority" value="Medium"
                                  formControlName="priority"></p-radioButton>
                              <label for="Medium">Medium</label>
                              <p-radioButton name="Priority" value="High" formControlName="priority"></p-radioButton>
                              <label for="High">High</label>
                          </div> -->

                          <div class="form-check">
                              <span>
                                  <input class="form-check-input" type="radio" formControlName="priority"
                                      name="priority" id="Low" value="Low" checked>
                                  <label class="form-check-label" for="Low">
                                      Low
                                  </label>
                              </span>
                              <span>
                                  <input class="form-check-input" type="radio" formControlName="priority"
                                      name="priority" id="Medium" value="Medium">
                                  <label class="form-check-label" for="Medium">
                                      Medium
                                  </label>
                              </span>
                              <span>
                                  <input class="form-check-input" type="radio" formControlName="priority"
                                      name="priority" id="High" value="High">
                                  <label class="form-check-label" for="High">
                                      High
                                  </label>
                              </span>
                          </div>
                          <span *ngIf="insertForm2.get('priority').invalid && insertForm2.get('priority').touched"
                              class="errspan required">Project Priority Required*</span>
                      </div>
                  </div>
              </div>
              <div class="row">
                  <div class="form-fields col-lg-12">
                      <label class="label-control">Project Description<span class="star">*</span></label>
                      <textarea [style]="{'width':'100%'}" pInputTextarea formControlName="projectPurpose"
                          [autoResize]="true" maxlength="251" required></textarea>
                      <!-- <textarea class="form-control data" formControlName="projectPurpose" row="3" placeholder="Enter Project Description" style=" resize: none;" maxlength="251" [ngClass]="insertForm2.get('projectPurpose').valid?'enteredfield-color':'inputfield-color'">
                          </textarea> -->
                      <span *ngIf="(insertForm2.get('projectPurpose').invalid && insertForm2.get('projectPurpose').touched)
                      && !insertForm2.controls['projectPurpose'].hasError('maxlength')"
                          class="errspan required">Project Description Required*</span>
                      <span *ngIf="insertForm2.controls['projectPurpose'].hasError('maxlength')"
                          class="errspan required">
                          Maximum of 250 characters exceeded
                      </span>
                  </div>
              </div>
          </div>
      </form>
      <div class="pull-right form-footer" style="padding:10px;">
          <button (click)="resetcreateproject()" class="btn btn-default">Reset</button>
          <button [disabled]="insertForm2.invalid" (click)="createproject()" class="btn btn-primary">Save</button>
      </div>
  </div>
</div>
