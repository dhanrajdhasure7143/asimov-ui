<div class="new-prj-details">
  <mat-card id="projects_details_screen" *ngIf="projects_toggle==false">
    <div class="projects-header maincreat">
      <span class="projects-back-button" routerLink="/pages/projects/listOfProjects">
        <i aria-hidden="true" class="fas fa-arrow-left"></i>
      </span>
      <span class="projects-header-title">
        Project Details 
      </span>
      <span class="pull-right" style="font-size:20px;">
        <span class="projects-menu-item" routerLink="/pages/projects/projectreposcreen"><i class="ri-file-line"></i></span>
        <span class="projects-menu-item"><i class="ri-history-line"></i></span>
        <span class="projects-menu-item"><i class="ri-more-2-line"></i></span>
      </span>
    </div>
  
    <div class="projects-table-body">
        <app-project-details-header [users_list]="users_list" [processes]="processes"></app-project-details-header>
    </div>    
  </mat-card>  
  
  <mat-card class="new-prj-tasklist" id="projects_details_screen" *ngIf="projects_toggle==false">
    <div class="row">
      <div class="col-md-4 p-0">
        <span class="projects-header-title">
          Tasks
        </span>
      </div>
      <div class="col-md-8 pr-0">
        <span class="pull-right">
          <span class="projects-menu-item">
            <!-- <button type="button" class="btn btn-default new-attach-btn">Attachments</button> -->
          </span>
          <span class="projects-menu-item">
            <span class="projects-menu-item"><button type="button" class="btn btn-primary" (click)="createtask(createtaskmodal)">Create New</button></span>
          </span>
        </span>
      </div>
    </div>
    
    <div class="tasks-body">
      <!-- <img src="..\assets\images\Projects\no_items.svg" height="190px" >
      <figcaption>No items to display!</figcaption> -->
      <table mat-table #sort10="matSort" [dataSource]="dataSource2" matSort class="projecttable table" id="autotable">

        <ng-container matColumnDef="taskCategory">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Category</th>
          <td mat-cell [matTooltip]="element.taskCategory"  *matCellDef="let element">{{element.taskCategory}}</td>
      </ng-container>

      <ng-container matColumnDef="taskName">
        <th mat-header-cell *matHeaderCellDef>Task Name</th>
        <td mat-cell *matCellDef="let element">
          <span *ngIf="element.taskName!=null" [matTooltip]="element.taskName">{{element.taskName}}</span>
            <span *ngIf="element.taskName==null">---</span>
        </td>
    </ng-container>
      <ng-container matColumnDef="resources">
          <th mat-header-cell *matHeaderCellDef>Resource &nbsp;&nbsp;</th>
          <td mat-cell *matCellDef="let element">
              <span *ngIf="element.resources!=null">{{element.resources| userPipe : users_list}}</span>
              <span *ngIf="element.resources==null">---</span>
          </td>
      </ng-container>

      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status  &nbsp;&nbsp;</th>
        <td mat-cell *matCellDef="let element">
           In Progress
        </td>
    </ng-container>
     
      <ng-container matColumnDef="percentage">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Percentage</th>
        <td mat-cell *matCellDef="let element" >
          <ngx-slider [(value)]="value" [options]="options"></ngx-slider>
        </td>
      </ng-container>

      <ng-container matColumnDef="createdBy">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Created By</th>
        <td mat-cell *matCellDef="let element" >
          {{element.createdBy}}
        </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef> Actions</th>
        <td mat-cell *matCellDef="let element" class="action-link tablacs"> 
          <div class="newinntalx">
          <a  (click)="updatedata(updateprojectmodal,element)" matTooltip="Edit Task"  style="cursor:pointer"><i class="fa fa-edit"></i></a> |
           <a (click)="deleteproject(element)" matTooltip="Delete Task" style="color:red;cursor:pointer"><i class="fa fa-trash" aria-hidden="true"></i></a> |
           <a  matTooltip="Model" style="color:red;cursor:pointer"><i class="fa fa-tasks" aria-hidden="true"></i></a>   
        </div>
        </td>
      </ng-container>
        <ng-container matColumnDef="Loading">
          <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="9">
              Loading
          </td>
      </ng-container>
        <ng-container matColumnDef="noData">
            <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="9">
                No Records Found
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr class="row-highlight" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['Loading']" [ngClass]="{'hide':dataSource2!=null}"></tr>
        <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide':!(dataSource2!=null && dataSource2.data.length==0)}"></tr>
      </table>
      </div>
      <mat-paginator #paginator10 [pageSize]="5" [showFirstLastButtons]="true">
      </mat-paginator>
    
  </mat-card>


  <div class="row bortopsec">
    <div class="col-md-6 pl-0 resources">
      <mat-card id="projects_details_screen" class="new-resourcediv" *ngIf="projects_toggle==false">
        <div class="row">
          <div class="col-md-6 p-0">
            <span class="projects-header-title">
              Resources
            </span>
          </div>
          <div class="col-md-6 pr-0">
            <span class="pull-right">
              <span class="projects-menu-item">
                <button type="button" class="btn btn-primary">Create New</button>
              </span>
            </span>
          </div>
        </div>
        <!-- <div class="">
          <span class="">
           
          </span>
          
          <span class="projects-header-title">
            Resources
          </span>
          <span class="pull-right" style="font-size:20px;">
            <span class="projects-menu-item" ></span>
            <span class="projects-menu-item"><button type="button" class="btn btn-primary">Create New</button></span>
          </span>
        </div> -->
        
        <div class="projects-table-body">
          <table class="table">
            <thead>
              <tr class="separated">
                <!-- <th></th> -->
                <th>Name</th>
                <th>Role</th>
                <th>Checkout Item</th>
                <th>Last Updated</th>
              </tr>
            </thead>
            <tbody>
              <tr >
                <!-- <td>
                  <div  class="res-circle " *ngIf="profilePicture==false">{{firstletter|uppercase}}</div> 
                  <div   *ngIf="profilePicture==true"><img class="res-circle " [src]="retrievedImage" ></div>
                </td> -->
                <!-- <td style="text-align:center">{{resourcetablefirstname?resourcetablefirstname:'-' }} {{resourcetablelastname?resourcetablelastname:'-' }}</td> -->
                <td >Lakshmi Kadali</td>
                <!-- <td style="text-align:center">{{roles?roles:'-'}}</td> -->
                <td >Admin</td>
                <td >01</td>
                <td >09th Jan,2021</td>
              </tr>
            </tbody>
            
          </table>
        </div>
        
      </mat-card>
    </div>
    <div class="col-md-6 p-0 documents">
      <mat-card id="projects_details_screen" class="new-docdiv" *ngIf="projects_toggle==false">
        <div class="row">
          <div class="col-md-6 p-0">
            <span class="projects-header-title">
              Recently Added Documents
            </span>
          </div>
          <div class="col-md-6 pr-0">
            <span class="pull-right">
              <span class="projects-menu-item">
                <button type="button" class="btn btn-primary">Upload</button>
              </span>
            </span>
          </div>
        </div>
        <!-- <div class="">
          <span class="">
           
          </span>
          
          <span class="projects-header-title">
            Recently Added Documents
          </span>
          <span class="pull-right" style="font-size:20px;">
            <span class="projects-menu-item"  ></span>
            <span class="projects-menu-item"><button type="button" class="btn btn-primary">Upload</button></span>
          </span>
        </div> -->
        
        <div class="projects-table-body">
          <table class="table">
            <thead>
              <tr class="separated">
                <th>Document Name</th>
                <th>Uploaded By</th>
                <th>Uploaded Date</th>
                <th>File Size</th>
              </tr>
            </thead>
            <tbody>
              <tr >
                <td>Task Mining Doc</td>
                <td>Lakshmi Kadali</td>
                <td>Jul 1st,2021</td>
                <td>150kb</td>
              </tr>
              <tr >
                <td>Design Doc</td>
                <td>Karthik Peddinti</td>
                <td>Jul 10th,2021</td>
                <td>125MB</td>
              </tr>
              <tr >
                <td>Approval Email</td>
                <td>Siva Simhadri</td>
                <td>Jul 21st,2021</td>
                <td>10MB</td>
              </tr>
            </tbody>              
          </table>
        </div>
        
      </mat-card>
    </div>   
  </div>



</div>



<ng-template class="modal-lg" #createtaskmodal>
  <app-create-tasks [createtaskmodalref]="createtaskmodalref" [project_id]="project_id"></app-create-tasks>
</ng-template>