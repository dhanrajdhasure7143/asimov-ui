<div class="maincontent">
    <div class="h-100">
        <div class="row main-content-head">
            <div class="col-md-4 pl-0">
                <h3>
                    <label id="popup_title">
                        <a routerLink="/pages/projects/listOfProjects"><img
                                src="./../../../../assets/images-n/projects/backarrow.svg" alt="back-arrow"></a>
                    </label>
                    <span class="title_text">
                        <span routerLink="/pages/projects/listOfProjects">Projects</span> | <span
                            class="sub_title_text"> {{projectDetails.projectName}}</span>
                    </span>
                </h3>
            </div>
            <div class="col-md-8 pr-0 text-right">
                <button class="btn">
                    <img src="./../../../../assets/images-n/projects/Open.svg" alt="Open">
                    <!-- <span>Open</span> -->
                </button>
                <!-- <button class="btn">
                    <img src="./../../../../assets/images-n/projects/Attribute.svg" alt="Attributes" >
                    <span>Attributes</span>
                </button> -->
                <!-- <button class="btn">
                    <img src="./../../../../assets/images-n/projects/more-vertical.svg" alt="Actions" >
                    <span>Actions</span>
                </button> -->
                <button class="btn" type="button" (click)="menu.toggle($event)">
                    <img src="./../../../../assets/images-n/projects/more-vertical.svg" alt="Actions">
                </button>
                <p-menu class="actionspopmenu" #menu [popup]="true" [model]="actionsitems"></p-menu>

                <!-- <span class="text-wh">
                    <button mat-icon-button [matMenuTriggerFor]="menu" class="txt-wh" style="vertical-align: middle;"
                        aria-label="Example icon-button with a menu">
                        <mat-icon class="menu-button">
                        </mat-icon>
                        <img src="./../../../../assets/images-n/projects/more-vertical.svg" alt="Actions">
                    </button>
                </span>
                <mat-menu #menu="matMenu">
                    <button class="ep-pad" (click)='taskListView()'> Tasks</button>
                    <button class="ep-pad" routerLink="/pages/projects/document"> Documents </button>
                    <button class="ep-pad" (click)='openUsersOverlay()'>Users</button>
                </mat-menu> -->
            </div>
        </div>
        <div class="main-content-body">
            <div class="row project-Information">
                <div class="row project-overview">
                    <!-- <div class="col-sm-1 p-0"> -->
                        <div class="project-status">
                            <img *ngIf="projectDetails.status == 'Closed'"
                                src="./../../../../assets/images-n/projects/completed-tasks.svg"
                                alt="project-status-icon">
                            <img *ngIf="projectDetails.status != 'Closed' && projectDetails.status != 'New'"
                                src="./../../../../assets/images-n/projects/inprogress-tasks.svg"
                                alt="project-status-icon">
                            <img *ngIf="projectDetails.status == 'New'"
                                src="./../../../../assets/images-n/projects/NewStatus.svg"
                                alt="project-status-icon">
                            <!-- <p>{{projectDetails.status}}</p> -->
                        </div>
                    <!-- </div> -->
                    <div class="col-sm-12 p-0" style="flex:auto;">
                        <div class="row project-ninfo">
                            <div class="row align-items-center projectnamerow">
                                <p-inplace #inplace (onActivate)="inplaceActivate('projectName','inplace')" class="project-name">
                                    <ng-template pTemplate="display">
                                        <span class="">{{projectDetails.projectName}}</span>
                                    </ng-template>
                                    <ng-template pTemplate="content">
                                        <input type="text" [style]="{'width':'100%'}" pInputText
                                            [(ngModel)]="projectName" (keydown)="Space($event)" />
                                        <span class="editfields">
                                            <i class="pi pi-check" *ngIf="projectName"
                                                (click)="onUpdateDetails('projectName')"></i>
                                            <i class="pi pi-times" (click)="onDeactivate('inplace')"></i>
                                        </span>
                                    </ng-template>
                                </p-inplace>
                                <p-inplace #inplace1 (onActivate)="inplaceActivate('priority','inplace1')">
                                    <ng-template pTemplate="display">
                                        <span>
                                            <img src="./../../../../assets/images-n/projects/low_priority.svg"
                                                alt="importance" *ngIf="projectDetails.priority == 'Low'">
                                                <span class="lowimp" *ngIf="projectDetails.priority == 'Low'">{{projectDetails.priority}}</span>
                                            <img src="./../../../../assets/images-n/projects/medium_priority.svg"
                                                alt="importance" *ngIf="projectDetails.priority == 'Medium'">
                                                <span class="mediumimp" *ngIf="projectDetails.priority == 'Medium'">{{projectDetails.priority}}</span>
                                            <img src="./../../../../assets/images-n/projects/high_priority.svg"
                                                alt="importance" *ngIf="projectDetails.priority == 'High'">
                                            <span class="highimp" *ngIf="projectDetails.priority == 'High'">{{projectDetails.priority}}</span>
                                        </span>
                                    </ng-template>
                                    <ng-template pTemplate="content">
                                        <p-dropdown [options]="priority_list" [(ngModel)]="priority" optionLabel="name"
                                            optionValue="name"></p-dropdown>
                                        <span class="editfields">
                                            <i class="pi pi-check" (click)="onUpdateDetails('priority')"></i>
                                            <i class="pi pi-times" (click)="onDeactivate('inplace1')"></i>
                                        </span>
                                    </ng-template>
                                </p-inplace>
                            </div>
                            <div class="row pr-2 align-items-center justify-content-between">
                                <div class="pinf procowner">
                                    <p-inplace #inplace2 (onActivate)="inplaceActivate('processOwner','inplace2')">
                                        <ng-template pTemplate="display">
                                            <p class="">{{projectDetails.processOwner| userPipe : users_list}}</p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <p-dropdown [options]="users_list" [filter]="true"
                                                [style]="{'width':'100%'}" filterBy="user_email,fullName" required
                                                [autoDisplayFirst]="false" placeholder="Select Assignee"
                                                [(ngModel)]="processOwner" optionValue="user_email"
                                                optionLabel="fullName">
                                            </p-dropdown>
                                            <span class="editfields">
                                                <i class="pi pi-check" (click)="onUpdateDetails('processOwner')"></i>
                                                <i class="pi pi-times" (click)="onDeactivate('inplace2')"></i>
                                            </span>
                                        </ng-template>
                                    </p-inplace>
                                    <!-- <p>{{getUserName(projectDetails.processOwner)}}</p> -->
                                    <label>Process Owner</label>
                                </div>
                                <div class="pinf prjdept">
                                    <p-inplace #inplace3 (onActivate)="inplaceActivate('mapValueChain','inplace3')">
                                        <ng-template pTemplate="display">
                                            <p class="">{{projectDetails.mapValueChain}}</p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <p-dropdown [options]="categories_list" [style]="{'width':'100%'}"
                                                [autoDisplayFirst]="false" placeholder="Select Department"
                                                [(ngModel)]="mapValueChain" optionValue="categoryName"
                                                optionLabel="categoryName">
                                            </p-dropdown>
                                            <span class="editfields">
                                                <i class="pi pi-check" (click)="onUpdateDetails('mapValueChain')"></i>
                                                <i class="pi pi-times" (click)="onDeactivate('inplace3')"></i>
                                            </span>
                                        </ng-template>
                                    </p-inplace>
                                    <!-- <p>{{projectDetails.mapValueChain}}</p> -->
                                    <label>Departments</label>
                                </div>
                                <div class="pinf prjowner">
                                    <p>{{projectDetails.owner| userPipe : users_list}}</p>
                                    <label>Created By</label>
                                </div>
                                <div class="pinf prjstatus">
                                    <p-inplace #inplace4 (onActivate)="inplaceActivate('status','inplace4')">
                                        <ng-template pTemplate="display">
                                            <p>{{projectDetails.status}}</p>
                                        </ng-template>
                                        <ng-template pTemplate="content">
                                            <p-dropdown [options]="status_list" [(ngModel)]="status" autoWidth="false"
                                                optionLabel="name" optionValue="name"></p-dropdown>
                                            <span class="editfields">
                                                <i class="pi pi-check" (click)="onUpdateDetails('status')"></i>
                                                <i class="pi pi-times" (click)="onDeactivate('inplace4')"></i>
                                            </span>
                                        </ng-template>
                                    </p-inplace>
                                    <!-- <p>{{projectDetails.status}}</p> -->
                                    <label>Status</label>
                                </div>
                                <div class="pinf prjlastupdated">
                                    <p>{{projectDetails.lastModifiedTimestamp | date:'MMM dd, y, HH:mm:ss'}}</p>
                                    <label>Last Updated</label>
                                </div>
                                <div class=""> 
                                    <!--pinf-->
                                    <div class="d-flex">
                                        <span class="kpipercent">
                                            <!-- <p-inplace #inplace5
                                                (onActivate)="inplaceActivate('projectPercentage','inplace5')">
                                                <ng-template pTemplate="display">
                                                    <p>{{projectDetails.projectPercentage}} %</p>
                                                </ng-template>
                                                <ng-template pTemplate="content">
                                                        <p-knob [(ngModel)]="projectPercentage"></p-knob>
                                                    <span class="editfields">
                                                        <i class="pi pi-check"
                                                            *ngIf="projectPercentage >=0"
                                                            (click)="onUpdateDetails('projectPercentage')"></i>
                                                        <i class="pi pi-times" (click)="onDeactivate('inplace5')"></i>
                                                    </span>
                                                </ng-template>
                                            </p-inplace> -->
                                            <p-knob [(ngModel)]="projectDetails.projectPercentage" valueTemplate="{value}%" (onChange)="updateprojectDetails()"></p-knob>
                                            <label>Project Completion</label>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row project-description">
                    <label>Description</label>
                    <p *ngIf="isReadmoreShow && !isEditDesc"><span (click)="onClickToEditDesc()">{{project_desc}}</span>
                        <span class="readmore icon-color" (click)="onReadMoreHide()">Hide</span></p>
                    <p *ngIf="!isReadmoreShow && !isEditDesc"> <span
                            (click)="onClickToEditDesc()">{{truncateDesc(project_desc)}} </span><span
                            class="readmore icon-color" (click)="onReadMoreHide()"
                            *ngIf="project_desc.length > 150">Read more</span></p>
                    <!-- <p *ngIf="isReadmoreShow && !isEditDesc"><span (click)="onClickToEditDesc()" [innerHTML]="project_desc"></span> <span class="readmore icon-color"
                            (click)="onReadMoreHide()">Hide</span></p> -->
                    <!-- <p>{{projectDetails.projectPurpose}}</p> -->
                    <!-- <p *ngIf="!isReadmoreShow && !isEditDesc"><span (click)="onClickToEditDesc()" [innerHTML]="truncateDesc(project_desc)"></span> <span class="readmore icon-color"
                            (click)="onReadMoreHide()" *ngIf="project_desc.length > 150">Read more</span></p> -->
                    <div *ngIf="isEditDesc" class="col p-0">
                        <!-- <p-editor [(ngModel)]="project_desc_edit" [style]="{'height':'150px'}" maxlength="100">
                                    <ng-template pTemplate="header">
                                        <span class="ql-formats">
                                            <button type="button" class="ql-bold" aria-label="Bold"></button>
                                            <button type="button" class="ql-italic" aria-label="Italic"></button>
                                            <button type="button" class="ql-underline" aria-label="Underline"></button>
                                            <button title="Link" class = "ql-link"></button>
                                        </span>
                                    </ng-template>
                                </p-editor> -->

                        <textarea [style]="{'width':'100%'}" pInputTextarea [(ngModel)]="project_desc_edit"
                            [autoResize]="true" maxlength="251"></textarea>
                        <span class="editfields prjdescef">
                            <i class="pi pi-check" (click)="onUpdateDesc()"></i>
                            <i class="pi pi-times" (click)="onDeactivateEdit()"></i>
                        </span>
                    </div>


                </div>
            </div>
            <div class="row">
                <div class="col-md-8 pl-0">
                    <div class="row quicksnapshot">
                        <h4 class="colheads">Quick Snapshot</h4>
                        <div class="row">
                            <div class="col-md-4 pl-0">
                                <div class="row quicksnapshot-cards">
                                    <div class="d-flex w-100 align-items-center">
                                        <div class="qcard-infoimg">
                                            <img src="./../../../../assets/images-n/projects/ActiveTasks.svg"
                                                alt="Active-Tasks" class="qcard-img">
                                        </div>
                                        <div class="qcard-info">
                                            <label class="qcard-count">{{snapshotDatails.ActiveTask}}</label>
                                            <p class="qcard-name">Active Tasks</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="row quicksnapshot-cards">
                                    <div class="d-flex w-100 align-items-center">
                                        <div class="qcard-infoimg">
                                            <!-- <img src="./../../../../assets/images-n/projects/OverdueTasks.svg" alt="OverdueTasks" class="qcard-img"> -->
                                            <img src="./../../../../assets/images-n/projects/OverdueTasks2.svg"
                                                alt="OverdueTasks" class="qcard-img">
                                        </div>
                                        <div class="qcard-info">
                                            <label class="qcard-count">{{snapshotDatails.DelayedTask}}</label>
                                            <p class="qcard-name">Delayed Tasks</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 pr-0">
                                <div class="row quicksnapshot-cards">
                                    <div class="d-flex w-100 align-items-center">
                                        <div class="qcard-infoimg">
                                            <img src="./../../../../assets/images-n/projects/UsersOnboard.svg"
                                                alt="UserOnboard" class="qcard-img">
                                        </div>
                                        <!--style="margin-left: 8px;" style="margin-left: -9px;" -->
                                        <div class="qcard-info">
                                            <label class="qcard-count">{{snapshotDatails.CompletedTask}}</label>
                                            <p class="qcard-name">Completed Tasks</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 pl-0">
                                <div class="row quicksnapshot-cards ">
                                    <div class="d-flex w-100 align-items-center">
                                        <div class="qcard-infoimg">
                                            <img src="./../../../../assets/images-n/projects/AutomationRate.svg"
                                                alt="AutomationRate" class="qcard-img">
                                        </div>
                                        <div class="qcard-info">
                                            <label class="qcard-count">{{snapshotDatails.UsersOnboarded}}</label>
                                            <p class="qcard-name">Users</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="row quicksnapshot-cards ">
                                    <div class="d-flex w-100 align-items-center">
                                        <div class="qcard-infoimg">
                                            <img src="./../../../../assets/images-n/projects/Documents.svg"
                                                alt="Documents" class="qcard-img">
                                        </div>
                                        <div class="qcard-info">
                                            <label class="qcard-count">{{snapshotDatails.Documents}}</label>
                                            <p class="qcard-name">Documents</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-4 pr-0">
                                <div class="row quicksnapshot-cards ">
                                    <div class="d-flex w-100 align-items-center">
                                        <div class="qcard-infoimg">
                                            <!-- <img src="./../../../../assets/images-n/projects/Frame 2.svg" alt="UnreadMessages" class="qcard-img"> -->
                                            <img src="./../../../../assets/images-n/projects/UnreadMessages.svg"
                                                alt="UnreadMessages" class="qcard-img">
                                        </div>
                                        <div class="qcard-info">
                                            <label class="qcard-count">0</label>
                                            <p class="qcard-name">Pending Approvals</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row quick-actions" *ngIf="!isCreate">
                        <h6>Quick Actions</h6>
                        <img src="./../../../../assets/images-n/projects/Hand.svg" alt="handicon">
                        <button class="btn blue-btntext" (click)="onCreateTask()">
                            <a><span>Create Task</span></a>
                        </button>
                        <button class="btn blue-btntext" (click)="openUsersOverlay()">
                            <a><span>Users</span></a>
                        </button>
                        <button class="btn blue-btntext" (click)="onCreateFolderDoc('folder')">
                            <a><span>Create Folder</span></a>
                        </button>
                        <button class="btn blue-btntext" (click)="onCreateFolderDoc('document')">
                            <a><span>Create Documents</span></a>
                        </button>
                        <button class="btn blue-btntext" (click)="navigateToBPMN()">
                            <a><span>View BPMN</span></a>
                        </button>
                    </div>
                    <div class="row acresources" *ngIf="!isCreate">
                        <h4 class="colheads">Recent Activities</h4>
                        <button class="btn blue-btntext"><a href="#">View All</a></button>
                        <table class="table imgInFirstCol">
                            <thead>
                                <tr>
                                    <th>Activity</th>
                                    <th>Resource</th>
                                    <th>Last Updated</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Procure work environment</td>
                                    <td><img alt="user-img" src="./../../../../assets/images-n/projects/user1.svg"> Rick
                                    </td>
                                    <td>09th Jan, 12 pm</td>
                                </tr>
                                <tr>
                                    <td>Select necessary work equipment</td>
                                    <td><img alt="user-img" src="./../../../../assets/images-n/projects/user2.svg">
                                        James</td>
                                    <td>09th Jan, 12 pm</td>
                                </tr>
                                <tr>
                                    <td>Setup access rights</td>
                                    <td><img alt="user-img" src="./../../../../assets/images-n/projects/user1.svg">
                                        Johnson</td>
                                    <td>09th Jan, 12 pm</td>
                                </tr>
                                <tr>
                                    <td>Latest task completed</td>
                                    <td><img alt="user-img" src="./../../../../assets/images-n/projects/user2.svg">
                                        William</td>
                                    <td>09th Jan, 12 pm</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                    <div class="row quick-actionscards" *ngIf="isCreate">
                        <div class="col-sm-4 text-center">
                                <div class="qactionscard-info"> 
                                    <img src="./../../../../assets/images-n/projects/AutomationRate.svg"
                                        alt="AutomationRate" class="qcard-img">
                                </div>
                                <p class="text">Start onboarding users,who will be responsible forthe project.</p>
                                <a class="link-primary linkss" (click)='openUsersOverlay()'>Users</a>
                        </div>
                        <div class="col-sm-4 text-center qamiddlecard">
                                <div class="vertical-line"></div>
                                <div class="qactionscard-info">
                                    <img src="./../../../../assets/images-n/projects/ActiveTasks.svg" alt="Active-Tasks"
                                        class="qcard-img">
                                </div>
                                <p class="text">Start creating and assigning tasks to get the work started.</p>
                                <a class="link-primary linkss" (click)="onCreateTask()">Create Tasks</a>
                        </div>
                        <div class="col-sm-4 text-center">
                                <div class="vertical-line"></div>
                                <div class="qactionscard-info">
                                    <img src="../../../../assets/images-n/projects/prj-upload-document.svg" alt="Active-Tasks"
                                        class="qcard-img">
                                </div>
                                <p class="text">You can start upload document related to the process</p>
                                <a class="link-primary linkss">Upload document</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 pr-0 ">
                    <div class="activecollaboration">
                        <div class="row collab">
                            <h4 class="colheads">Collaborations</h4>
                            <div id="message-body" *ngIf="messages_list.length != 0">
                                <div *ngFor="let each of messages_list" [class.selected]="each.id === selectedItem"
                                    [appScrollIntoView]="each.id === selectedItem">

                                    <div *ngIf="each.rmId != 0"
                                        [ngClass]="logged_userId == each.userId ?'rgtusermsg': 'lftusermsg'" class="">
                                        <div class="rply-msg" (click)="scrollTomain(each)">
                                            <p><b>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Lorem ipsum
                                                    dolor</b></p>
                                        </div>

                                        <div class="user_keys res-circle" *ngIf="logged_userId != each.userId">
                                            {{userFirstValues(each.firstName,each.lastName)}}</div>
                                        <div class="user_keys res-reply">
                                            <i class="pi pi-tag"></i>
                                            <i class="pi pi-replay" (click)="replyMessage(each)"></i>
                                        </div>
                                        <p>{{each.message}}</p>
                                    </div>
                                    <!-- <p class="userinfo">{{each.firstName}} {{each.lastName}} |
                                            {{each.createdTimestamp| date:'MMM d, y, HH:mm'}}</p> -->


                                    <div *ngIf="each.rmId == 0"
                                        [ngClass]="logged_userId == each.userId ?'rgtusermsg': 'lftusermsg'" class="">
                                        <div class="user_keys res-circle" *ngIf="logged_userId != each.userId">
                                            {{userFirstValues(each.firstName,each.lastName)}}</div>
                                        <div class="user_keys res-reply">
                                            <i class="pi pi-tag"></i>
                                            <i class="pi pi-replay" (click)="replyMessage(each)"></i>
                                        </div>
                                        <div>
                                            <p>{{each.message}}</p>
                                        </div>
                                        <p class="userinfo">{{each.firstName}} {{each.lastName}} |
                                            {{each.createdTimestamp| date:'MMM d, y, HH:mm'}}</p>
                                    </div>
                                    <!-- <div class="rgtusermsg" *ngIf="logged_userId == each.userId">
                                        <div class="user_keys res-reply"><i class="pi pi-replay" (click)="replyMessage(each)"></i></div>
                                        <div>
                                            <p>{{each.message}}</p>
                                        </div>
                                        <p class="userinfo">{{each.firstName}} {{each.lastName}} |
                                            {{each.createdTimestamp| date:'MMM d, y, HH:mm'}}</p>
                                    </div> -->
                                </div>
                            </div>
                            <div *ngIf="replay_msg" class="rply-msg">
                                {{replay_msg.message}} <i class="pi pi-times" (click)="onClearReply()"></i>
                            </div>
                            <div *ngIf="messages_list.length == 0" class="emptychat text-center">
                                <img alt="user-img" src="../../../../assets/images-n/projects/StartCollaborations.svg" />
                                <p>Start a new conversation</p>
                            </div>
                        </div>
                        <div class="row collabottom">
                            <!-- <input type="text" class="msgip" placeholder="" [(ngModel)]="typedMessage"
                                value="Lorem ipsum dolor sit amet, consec" /> -->
                            <div class="col-sm-11 pl-0">
                                <!-- <p-editor [(ngModel)]="typedMessage" [style]="{'height':'100px'}">
                                <ng-template pTemplate="header">
                                    <span class="ql-formats">
                                        <button type="button" class="ql-bold" aria-label="Bold"></button>
                                        <button type="button" class="ql-italic" aria-label="Italic"></button>
                                        <button type="button" class="ql-underline" aria-label="Underline"></button>
                                    </span>
                                </ng-template>
                            </p-editor> -->
                                <textarea [style]="{'width':'100%'}" [rows]="2" pInputTextarea placeholder="Type a new message"
                                    [(ngModel)]="typedMessage" [autoResize]="false"></textarea>
                            </div>

                            <!-- <button class="btn"><img alt="attachment" src="./../../../../assets/images-n/projects/paperclip.svg" /></button> -->
                            <button class="btn" (click)="sendMessage()"><img alt="send"
                                    src="./../../../../assets/images-n/projects/send.svg" /></button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


<!-- own-overlay rpa-modal dynamic-forms-modal -->

<div class="" *ngIf="hiddenPopUp" style="display: block">
    <app-split-overlay (closeOverlay)="closeOverlay($event)">
        <div class="splitoverlaydiv h-100">
            <p-tabView #tabView (onChange)="onUsersTab($event.index)">
                <p-tabPanel  [selected]="true">
                    <ng-template pTemplate="header">
                        <h4>New Users <span *ngIf="checkBoxselected.length >0"> ({{checkBoxselected.length}}
                                Users selected) </span></h4>
                    </ng-template>
                </p-tabPanel>
                <p-tabPanel>
                    <ng-template pTemplate="header">
                        <h4>Existing Users</h4>
                    </ng-template>
                </p-tabPanel>

                <div class="splitoverlaycontent">
                    <p-table #dt1 [value]="users_tableList" [globalFilterFields]="['user_role','fullName']"
                        [columns]="columns_list" [(selection)]="checkBoxselected" [resizableColumns]="true"
                        responsiveLayout="scroll" dataKey="id">
                        <ng-template pTemplate="caption">
                            <div class="d-flex">
                                <p-dropdown [options]="roles_list" class="listdropdown"
                                    [(ngModel)]="selectedRole" (onChange)="onChangeRole($event,users_tabIndex)"
                                    optionLabel="name"></p-dropdown>
                                <span class="p-input-icon-right">
                                    <i class="pi pi-search"></i>
                                    <input type="text" pInputText placeholder="Search"
                                        (input)="dt1.filterGlobal($event.target.value, 'contains')">
                                </span>
                                <!-- <span *ngIf="users_tabIndex == 1" class="userstabbtns">
                                    <button class="btn">
                                        <img src="./../../../../assets/images-n/projects/Open.svg" alt="Open">
                                        <span>Open</span>
                                    </button>
                                    <button class="btn">
                                        <img src="./../../../../assets/images-n/projects/plus-square_blue.svg"
                                            alt="Create">
                                        <span>Create</span>
                                    </button>
                                </span> -->
                            </div>
                        </ng-template>
                        <ng-template pTemplate="header" let-columns>
                            <tr *ngIf="users_tabIndex == 1">
                                <th *ngFor="let col of columns">{{col.DisplayName}}
                                </th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-rowData let-columns="columns">
                            <tr>
                                <td *ngIf="users_tabIndex != 1"> <p-tableCheckbox [value]="rowData"></p-tableCheckbox>
                                </td>
                                <td *ngFor="let col of columns">
                                    <span>{{rowData[col.ColumnName]}}</span>
                                    <span *ngIf="col.ColumnName == 'action'">
                                        <div class="newinntalx">
                                            <a (click)="deleteuserById(rowData)">
                                                <img src="../../../../../assets/images/Projects/delete-black.svg" alt=""
                                                    class="default-img">
                                                <img src="../../../../../assets/images/Projects/delete-red.svg" alt=""
                                                    class="hover-img">
                                            </a>
                                        </div>
                                    </span>
                                </td>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="emptymessage">
                            <tr>
                                <td style="justify-content: center;" colspan="7">No Users found</td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
                <div class="row justify-content-end" *ngIf="users_tabIndex != 1">
                    <button class="btn new-cancelbtn">Cancel</button>
                    <button class="btn bluebg-button" (click)="addresources()">Onboard Users</button>
                </div>
            </p-tabView>

        </div>
    </app-split-overlay>
</div>

<div [hidden]="!createTaskOverlay">
    <app-split-overlay (closeOverlay)="closeCreateTaskOverlay($event)">
        <div class="h-100">
            <div class="create-header">
                <h3>Create Task</h3>
            </div>
            <div class="h-100">
                <app-create-tasks [users_list]="users_list" [params_data]="params_data"
                        [hiddenPopUp]="createTaskOverlay" [existingUsersList]="existingUsersList"
                        [project_name]="projectDetails.projectName"></app-create-tasks>
            </div>
        </div>
    </app-split-overlay>
</div>

<p-dialog class="selectfoldername" header="Folder Name" [(visible)]="isFile_upload_dialog" [style]="{width: '25vw'}" (onHide)="onCloseFolderOverlay()">
    <span class="p-float-label">
        <p-tree [value]="files" [filter]="false" styleClass="document-tree" selectionMode="single" [style]="{'max-height':'auto','overflow':'auto'}"
       [(selection)]="selected_folder">
        </p-tree>
    </span>
    <button *ngIf="selectedType =='createFolder' " type="button" class="btn btn-primary savefoldername" (click)='createFolder()'>Ok</button>
    <button *ngIf="selectedType !='createFolder' " type="button" class="btn btn-primary savefoldername" (click)='navigateToCreateDocument()'>Ok</button>
</p-dialog>

<p-dialog header="Folder Name" [(visible)]="isDialog" class="docfldnam">
    <span class="p-float-label">
        <input type="text" pInputText placeholder="Enter Folder Name" [(ngModel)]="entered_folder_name" name="folder">
        <button type="button" class="btn btn-primary" (click)="saveFolder()">Save</button>
    </span>
</p-dialog>

<p-toast  [style]="{marginTop: '50px'}" ></p-toast>