<mat-card class="h-100">
  <div class="module-heading title">
      <span class="module-back-button" routerLink="/pages/home">
          <i class="fas fa-arrow-left" aria-hidden="true"></i>
      </span>
      <span class="module-header-title">
          <span class="module-parent-title">Change Password</span>
      </span>
  </div>
  <div class="container-fluid h-scroll">
    <div class="row prj-crt-form">
      <div class="col-md-12">
        <div class="row">
          <div class="col-md-4"></div>
          <div class="col-md-4">
            <form #f="ngForm" (ngSubmit)="passwordChange(f)">
              <div class="row">
                <div class="col-md-12 p-0">
                  <div class="form-group pl-0">
                    <label class="label-control" for="password">Current Password<span class="star">*</span></label>
                    <div class="inner-addon">
                      <input [type]="(eyeshow==true) ? 'password' : 'text'" class="form-control data" name="password"
                        #password="ngModel" [(ngModel)]="pswdmodel.currentPassword" placeholder="Enter Current Password"
                        pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$%]).{8,20})" maxlength="20" required />
                      <span (click)="curreyetoggle()" class="input-group-add eyeicon">
                        <i class="fa fa-eye" [ngClass]="(eyeshow==true) ? 'fa fa-eye' : 'fa fa-eye-slash'"
                          aria-hidden="true"></i>
                      </span>
                    </div>
                    <span *ngIf="((password.invalid && f.submitted) || (password.errors && password.touched) )">
                      <span class='errspan required' *ngIf="password.errors.required"> Password is required*</span>
                      <span class='errspan required' *ngIf="password.errors.pattern"> Password must be 8-20 characters and
                        have at least one uppercase letter, one lowercase letter, one special character(@,$,% are allowed)
                        and one number*</span>
                    </span>
                  </div>
                </div>
                <div class="col-md-12 p-0">
                  <div class="form-group pl-0">
                    <!--class="form-group col-md-6 pr-0 inner-addon left-addon right-addon" -->
                    <label class="label-control" for="newpassword">New Password<span class="star">*</span></label>
                    <div class="inner-addon">
                      <input [type]="(neweyeshow==true) ? 'password' : 'text'" class="form-control data" name="newpassword"
                        ngModel #newpassword="ngModel" placeholder="Enter New Password"
                        pattern="((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$%]).{8,20})" maxlength="20" required />
                      <span (click)="neweyetoggle()" class="input-group-add eyeicon">
                        <i class="fa fa-eye" [ngClass]="(neweyeshow==true) ? 'fa fa-eye' : 'fa fa-eye-slash'"
                          aria-hidden="true"></i>
                      </span>
                    </div>
    
    
                    <span *ngIf="((newpassword.invalid && f.submitted) || (newpassword.errors && newpassword.touched) )">
                      <span class='errspan required' *ngIf="newpassword.errors.required">New password is required*</span>
                      <span class='errspan required' *ngIf="newpassword.errors.pattern"> Password must be 8-20 characters
                        and have at least one uppercase letter, one lowercase letter, one special character(@,$,% are
                        allowed) and one number*</span>
                    </span>
                  </div>
                </div>
                <div class="col-md-12 p-0">
                  <div class="form-group pl-0">
                    <label class="label-control" for="confpassword">Confirm Password<span class="star">*</span></label>
                    <div class="inner-addon">
                      <input [type]="(confeyeshow==true) ? 'password' : 'text'" class="form-control data"
                        name="confpassword" [(ngModel)]="pswdmodel.confirmPassword" ngModel #confpassword="ngModel"
                        placeholder="Confirm Password" required compare="newpassword" />
                      <span (click)="confeyetoggle()" class="input-group-add eyeicon">
                        <i class="fa fa-eye" [ngClass]="(confeyeshow==true) ? 'fa fa-eye' : 'fa fa-eye-slash'"
                          aria-hidden="true"></i>
                      </span>
                    </div>
                    <span *ngIf="confpassword.touched && confpassword.errors">
                      <span *ngIf="confpassword.errors['required']" class='errspan required'>Confirm password is
                        required*</span>
                      <span *ngIf="confpassword.errors['compare'] && !confpassword.errors['required']"
                        class='errspan required'> Password confirm do not match*</span>
                    </span>
                  </div>
                </div>
                <div class="col-md-12 pl-0">
                  <div *ngIf="passwordvalidatemsg" class='fa fa-exclamation-triangle errspan errspan1'>
                    {{passwordvalidatemsg}}</div>
                </div>
              </div>
            </form>
            <div class="col-md-12 p-0">
            <div class="form-footer pull-right">
              <button [disabled]="f.invalid" (click)="passwordChange(f)" class="btn btn-primary" type="button">Update</button>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</mat-card>