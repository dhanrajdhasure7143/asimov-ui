<div class="maincontent">
  <div class="h-100">
    <div class="row main-content-head">
      <h3>
        <label id="popup_title">
            <a routerLink="/pages/home" class="imageBox">
              <span class="active-icon" >
                <img src="./../../../../assets/images-n/projects/backarrow-default.svg" alt="">
              </span>
              <span class="hover-icon" >
                <img src="./../../../../assets/images-n/projects/backarrow-hover.svg" alt="">
              </span>
            </a>
        </label>
        <span class="title_text">My Account</span>
      </h3>
    </div>
    <div class="main-content-body">
      <div class="maindivfoprm">
        <form autocomplete="off" #updateUser="ngForm" (ngSubmit)="updateAccount()">
          <div class="row">
              <div class="form-group col-md-6 pl-0">
                <label class="label-control" for="email">Email<span class="star">*</span></label>
                <input type="text" name="email" #email="ngModel" class="form-control" [(ngModel)]="formOne.userId"
                          pattern="^\S*[@]\S*[.]\S*$" required email placeholder="Send from ex: abc@xyz.com" disabled/>                                 
              </div>
              <div class="form-group col-md-6 pr-0">
                <label class="label-control" for="firstName">First Name<span class="star">*</span></label>
                <input type="text" name="firstName" #firstName="ngModel" class="form-control" (keypress)="lettersOnly($event)" [(ngModel)]="formOne.firstName" placeholder="Enter First Name" maxlength="25" required/>
                <span *ngIf="((firstName.invalid && updateUser.submitted) || (firstName.errors && firstName.touched) )" 
                  class='required'>First Name required </span>
              </div>
              <div class="form-group col-md-6 pl-0">
                <label class="label-control" for="lastName">Last Name<span class="star">*</span></label>
                <input type="text" name="lastName" #lastName="ngModel" class="form-control" (keypress)="lettersOnly($event)" [(ngModel)]="formOne.lastName" placeholder="Enter Last Name" maxlength="25" required alphabetOnly />
                <span *ngIf="((lastName.invalid && updateUser.submitted) || (lastName.errors && lastName.touched) )" 
                  class='required'> Last Nam required </span>
              </div>
              <div class="form-group col-md-6 pr-0">
                <label class="label-control" for="jobTitle">Job Title<span class="star">*</span></label>
                <input type="text" name="jobTitle" #jobTitle="ngModel" class="form-control" (keypress)="lettersOnly($event)" [(ngModel)]="formOne.designation" placeholder="Enter Job Title" maxlength="25" required alphabetOnly/>
                <span *ngIf="((jobTitle.invalid && updateUser.submitted) || (jobTitle.errors && jobTitle.touched) )" 
                  class='required'>Job Title required </span>
              </div>
              <div class="form-group col-md-6 pl-0">
                <label class="label-control" for="company">Company<span class="star">*</span></label>
                <input type="text" name="company" #company="ngModel" class="form-control" [(ngModel)]="formOne.company" placeholder="Enter Company" maxlength="25" required alphabetOnly disabled/>
                <span *ngIf="((company.invalid && updateUser.submitted) || (company.errors && company.touched) )" 
                class='required'> Company required </span>                                    
              </div>                      
              <div class="form-group col-md-6 pr-0">
                <label class="label-control" for="country">Country<span class="star">*</span></label>
                <select id="country" name='country' class="form-control" (change)='onChangeCountry(formOne.country)' #country="ngModel" [(ngModel)]="formOne.country" required>
                  <!-- <option hidden disabled [ngValue]="undefined" [selected]=true>Country</option> -->
                  <option  [value]="undefined" disabled hidden>Country</option>
                  <option  [value]="null" disabled hidden>Select Country</option>
                  <option *ngFor="let country of countryInfo" [ngValue]="country.CountryName">{{country.CountryName}}</option>
                </select>
                <span *ngIf="((country.invalid && updateUser.submitted)|| (country.errors && country.touched))"
                  class="required">Country  required</span>
                  <span class="required">{{errorMessage}}</span>
              </div>
               <!--   <div class="col-md-12 p-0"> 
             <div class="form-group col-md-6 pl-0">
                <label class="label-control" for="state">State<span class="star">*</span></label>
                <select class="form-control" (change)="onChangeState($event.target.value)" name='state' #state='ngModel' [(ngModel)]="formOne.state" required>
                 
                  <option  [value]="undefined" disabled hidden>State</option>
                  <option  [value]="null" disabled hidden>Select State</option>
                  <option *ngFor="let state of stateInfo; let j = index" [value]='state.StateName'>{{state.StateName}}</option>
                </select>
                <span *ngIf="((state.invalid && updateUser.submitted)|| (state.errors && state.touched))"
                  class='required'> State required </span>
              </div>                             -->
                <!-- <div class="form-group col-md-6 pr-0">
                <label class="label-control" for="city">City<span class="star">*</span></label>
                <select class="form-control" name='city' #city='ngModel' [(ngModel)]='formOne.city' required>
                  <option  [value]="undefined" disabled hidden>City</option>
                  <option  [value]="null" disabled hidden>Select City</option>
                  <option *ngFor="let city of cityInfo; let k = index" [value]="city">{{city}}</option>
                </select>
                <span *ngIf="((city.invalid && updateUser.submitted)|| (city.errors && city.touched))"
                  class='required'> City required </span>
              </div>
            </div> -->
            
              <!-- <div class="form-group col-md-6 pl-0">
                <input type="text" (keydown)="onKeydown($event)" name="zipCode" #zipCode="ngModel" class="form-control" [(ngModel)]="formOne.zipcode"
                  onKeyPress="if(this.value.length==6) return false;" placeholder="Enter Zip Code" required>
                <span *ngIf="((zipCode.invalid && updateUser.submitted)|| (zipCode.errors && zipCode.touched))"
                  class='required'> Zip Code required </span>
              </div>  -->
              <div *ngIf="show" class="form-group col-md-6 pl-0 Admin-countrylist">
                <label class="label-control" for="phoneumber">Phone<span class="star">*</span></label>
                <input type="text" name="phoneumber" #phoneumber="ngModel" class="form-control data" [(ngModel)]="formOne.phoneNumber" placeholder="Enter Phone number"/>
              </div>
              <div *ngIf ="!isRefresh && !show" class="form-group col-md-6 pl-0 Admin-countrylist">
                <label class="label-control" for="phoneumber">Phone<span class="star">*</span></label>
                <input type="text" (keydown)="onKeydown($event)" (countryChange)="OnFlagChange($event)" id="phoneNumber" name="phoneumber" placeholder="Enter Phone number" class="form-control data phonenumber" ng2TelInput [ng2TelInputOptions]="{initialCountry: phnCountryCode}"
                  #phoneumber="ngModel" [(ngModel)]="formOne.phoneNumber" onKeyPress="if(this.value.length==10) return false;"
                  pattern="^((\\+91-?)|0)?[0-9]{10}$" maxlength="10" required/>
                <span *ngIf="((phoneumber.invalid && updateUser.submitted) || (phoneumber.errors && phoneumber.touched) && !(phoneumber.errors.pattern) )"
                  class='required'> Phone Number required </span>
                  <span *ngIf="phoneumber.errors  && phoneumber.invalid">
                  <span *ngIf="phoneumber.errors.pattern"  class="required">Phone number should be 10 digits</span>
                </span>
              </div>                                              
              <div *ngIf ="isRefresh" class="form-group col-md-6 pl-0 Admin-countrylist">
                <label class="label-control" for="phoneumber">Phone<span class="star">*</span></label>
                <input type="text" (keydown)="onKeydown($event)"  (countryChange)="OnFlagChange($event)" id="phoneNumber" name="phoneumber" placeholder="Enter Phone number" class="form-control data phonenumber" ng2TelInput [ng2TelInputOptions]="{initialCountry: phnCountryCode}"
                  #phoneumber="ngModel" [(ngModel)]="formOne.phoneNumber" onKeyPress="if(this.value.length==10) return false;"
                  pattern="^((\\+91-?)|0)?[0-9]{10}$" maxlength="10" required/>
                  <span *ngIf="((phoneumber.invalid && updateUser.submitted) || (phoneumber.errors && phoneumber.touched) && !(phoneumber.errors.pattern))"
                  class='required'> Phone Number required </span>
                  <span *ngIf="phoneumber.errors && phoneumber.invalid">
                  <span *ngIf="phoneumber.errors.pattern" class="required">Phone number should be 10 digits</span>
                  </span>
              </div>                        
          </div>
        </form>
        <div class="text-right">
          <button type="button" class="btn bluebg-button" (click)="updateAccount()"  [disabled] = "!(updateUser.valid && (updateUser.touched ||  updateUser.dirty)) || errorMessage">Update</button>
        </div>
      </div>
    </div>
  </div>
</div>
