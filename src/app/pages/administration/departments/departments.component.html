<div class="h-100">
    <mat-card id="projects_list_screen"  class="h-100">
      <div class="module-heading title">
        <!-- <div class=""> 
          <div class="row">-->
          <!-- <span class="module-header-title"><span>Departments</span></span> -->
      
          
            <div class="col-md-12 p-0">
              <div class="col-md-3 pl-0 departmentsearch">
                <!-- <select  name="category" (change)="searchByCategory(departmentName)" #category="ngModel" [(ngModel)]="departmentName" panelClass="overlayMatSelect" class="form-control department-feilds">
                  <option value="" disabled hidden >Select Department</option>
                  <option value="null" disabled hidden >Select Department</option>
                  <option value="undefined" disabled hidden >Select Department</option>
                  <option *ngFor="let eachcat of departments.data;let i=index;trackBy:loopTrackBy" [value]="eachcat.categoryName">
                          {{eachcat.categoryName| titlecase}}</option>
                </select> -->
                <input class="form-control toolbar-search departments-home-fileds" matInput (keyup)="applyFilter($event.target.value)"
                  placeholder="Search Department">
                <img src="../../../../assets/images/search.svg" alt="" class="testplus">
              </div>
              <div class="col-md-9 p-0 env-data-tool text-right">
                <div>
                  <!-- <button (click)="resetSearch()" id="deptreset" class="tsttooltipbtn">
                    <img src="../../../../../assets/images/RPA/icon_latest/reset-blue.svg" class="testplus" >
                    <span class="testtooltip">Reset</span>
                  </button > -->
                </div>
                <div>
                  <button  class="btn btn-primary" routerLink="/pages/admin/create-department">
                    <!-- <img  src="../../../../assets/images/Projects/White-plus.svg" class="testplus"/> -->
                    Create New
                  </button>
                </div>
                <div *ngIf="Departmentdeleteflag==true">
                  <button value="Delete" data-toggle="tooltip" data-placement="top" title="Delete Department" id="deletebtn" class="btn btn-primary" (click)="deleteDepartment()">
                    Delete
                  </button>
                </div> 
                <div *ngIf="Departmentdeleteflag==false">
                  <button id="deletebtn" data-toggle="tooltip" data-placement="top" title="Delete Department" class="btn btn-primary" title="Delete Department" disabled>
                    Delete
                  </button>
                </div>
              </div>          
            </div>
        <!-- 
          </div>
          </div> -->
        <!-- <div class="ml-auto prj-lstscr-btn" >
          <button  class="btn btn-primary" type="button" routerLink="/pages/admin/create-department">
            <img  src="../../../../assets/images/Projects/White-plus.svg" class="testplus"/>Create New
          </button>
            <span class="pull-right">
              <div *ngIf="Departmentdeleteflag==true" class="env-btn">
                <button title="Delete Department" value="Delete" id="deletebtn" class="btn btn-primary"  (click)="deleteDepartment()">Delete</button>
            </div>       
            <div *ngIf="Departmentdeleteflag==false" class="env-btn">
                <button data-toggle="tooltip" data-placement="top" id="deletebtn" class="btn btn-primary" title="Delete Department" disabled>Delete</button>
            </div>
            </span>
          </div>     -->
       
      </div>
      <div class="department-body">
        <div class="table_responsive graph_table">
            <table mat-table #sort2="matSort"  [dataSource]="dataSource2" matSort class="PI table w-100"  id="listofcred">

              <ng-container matColumnDef="check">
                <th mat-header-cell *matHeaderCellDef class="cell1">
                    <input [disabled]="Departmentcheckeddisabled" type="checkbox" id="Credcheckall" [checked]="Departmentcheckflag" (change)="DepartmentscheckAllCheckBox($event)">
                </th>
                <td mat-cell *matCellDef="let element; let i = index" class="cell1">
                    <input type="checkbox" [checked]="element.checked" (change)="DepartmentscheckEnableDisableBtn(element.categoryId, $event)"> 
                </td>
              </ng-container>

              <!-- <ng-container matColumnDef="categoryId">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                <td mat-cell *matCellDef="let element"> 
                    <span *ngIf="element.categoryId!=null">{{element.categoryId}}</span> 
                    <span *ngIf="element.categoryId==''">-</span>
                    <span *ngIf="element.categoryId==null">-</span>
                </td>
              </ng-container> -->
              
              <ng-container matColumnDef="categoryName">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell2">Department</th>
                  <td mat-cell *matCellDef="let element" class="cell2"> 
                      <span *ngIf="element.categoryName!=null">{{element.categoryName}}</span> 
                      <span *ngIf="element.categoryName==''">-</span>
                      <span *ngIf="element.categoryName==null">-</span>
                  </td>
              </ng-container>

              <ng-container matColumnDef="owner">
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell3">Owner</th>
                <td mat-cell *matCellDef="let element" class="cell3"> 
                    <span *ngIf="element.owner!=null">{{element.owner| userPipe : users_list}}</span> 
                    <span *ngIf="element.owner==''">-</span>
                    <span *ngIf="element.owner==null">-</span>
                </td>
              </ng-container>
              
              <ng-container matColumnDef="createdBy">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell4">Created By</th>
                  <td mat-cell *matCellDef="let element" class="cell4"> 
                    <span *ngIf="element.createdBy!=null" >{{element.createdBy}}</span>
                      <span *ngIf="element.createdBy==''">-</span>
                      <span *ngIf="element.createdBy==null">-</span>
              </ng-container>
    
              <ng-container matColumnDef="createdAt">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell5">Created At</th>
                  <td mat-cell *matCellDef="let element" class="cell5"> 
                    <!-- <span *ngIf="element.createdAt!=null" >{{element.createdAt | date:'MMM d, y, HH:mm'}}</span> -->
                    <span *ngIf="element.createdAt!=null" >{{element.createdTimeStamp_converted}}</span>
                      <span *ngIf="element.createdAt==''">-</span> 
                      <span *ngIf=" element.createdAt==null">-</span> 
                  </td>
              </ng-container>

              <ng-container matColumnDef="noData">
                <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="11">
                </td>
              </ng-container>

              <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef class="cell6"> Actions</th>
                    <td mat-cell *matCellDef="let element" class="action-link tablacs cell6"> 
                      <div class="newinntalx">
                        
                        <a  (click)="editdepartment(element)" matTooltip="Edit Department">
                          <img src="../../../../assets/images/Projects/edit-black.svg" class="default-img">
                          <img src="../../../../../assets/images/Projects/Edit-blue.svg" class="hover-img">
                        </a> 

                        <!-- <a (click)="deleteDepartment(element)"   matTooltip="Delete Department">
                          <img src="../../../../../assets/images/Projects/delete-black.svg" class="default-img">
                          <img src="../../../../../assets/images/Projects/delete-red.svg" class="hover-img">
                        </a> 
                   -->
                      </div>
                    </td>
              </ng-container>
                    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                    <tr class="row-highlight" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    <tr class="row-highlight mat-footer" mat-footer-row  *matFooterRowDef="['noData']" [ngClass]="{'hide':!(departments==undefined ||  departments=='No records found')}"></tr>
            </table>

              <div>
                <div *ngIf="departments.length==0" class="text-center">
                  <img  src="../../../../../assets/images/RPA/No-Items.svg" class="no-item-img">
                  <h3 class="text-center">No Items to display</h3>
                </div>
              </div>
        </div>
        <div class="">
          <mat-paginator #paginator [pageSize]="10" [pageSizeOptions]="[5, 10, 25, 50]" [showFirstLastButtons]="true" class="newpaginationdiv"></mat-paginator>
        </div>  
      </div>
    </mat-card>
  
</div>