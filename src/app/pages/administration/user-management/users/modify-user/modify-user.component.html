<div class="h-100">
    <div class="row main-content-head">
            <div class="col-md-4 pl-0">
                <h3>
                    <label id="popup_title">
                        <a (click)="userManagementUrl()" class="imageBox">
                            <img class="default-arrow" src="./../../../../assets/images-n/projects/backarrow-default.svg" alt="">
                            <img class="hover-arrow" src="./../../../../assets/images-n/projects/backarrow-hover.svg" alt=""> 
                        </a>
                    </label>
                    <span class="title_text">Update User</span>
                </h3>
            </div>
            <!--<div class="col-sm-8 pr-0 text-right">
                <button (click)="updateUser()" class="btn btn-primary btn-update">Update</button>
            </div>-->
    </div>
    <div class="main-content-body">
            <div class="maindivfoprm">
                <form #update_form="ngForm">
                    <div class="row fcont">
                        <div class="col-md-12 p-0 form-group">
                            <label class="label-control">Username<span class="star">*</span></label>
                            <input type="text" name="email_id" disabled [(ngModel)]="email" placeholder="Enter Email"
                                maxlength="256" class="form-control data">
                        </div>

                        <div class="col-md-12 p-0 form-group">
                            <label class="label-control">Add Role<span class="star">*</span></label>

                            <select name="roles" #roles="ngModel" [(ngModel)]="role" class="form-control data"
                                (change)="onchangeRole($event.target.value)" placeholder="Select Role" required>
                                <option *ngFor="let role of allRoles" [value]="role.id">{{role.name}}</option>
                            </select>
                        </div>
                        <div class="col-md-12 p-0 form-group update_department">
                            <label class="label-control">Add Department(s)<span class="star">*</span></label>
                            <!-- <ng-select [disabled]="isdprtDisabled"  formControlName="departments"  [multiple]="true"  placeholder="Select departments" required>
                                <ng-option *ngFor="let category of categories" [value]="category.categoryId">{{category.categoryName}}</ng-option>
                            </ng-select> -->
                            <ng-select [items]="categories" bindLabel="categoryName" bindValue="categoryId"
                                name="depart" #depart="ngModel" [multiple]="true" placeholder="Select departments"
                                [(ngModel)]="departments" [disabled]="isdprtDisabled">
                            </ng-select>
                            <span *ngIf="((depart.invalid && update_form.submitted) || (depart.errors && depart.touched) )" 
                                                class='required'>Departments required </span>
                                                <span *ngIf="errShow" class='required'> Departments required </span>
                            <!-- <span *ngIf="editUserForm.get('departments').invalid && editUserForm.get('departments').touched" class="required">Departments Required</span> -->
                        </div>

                    </div>

                </form>
                <div class="row justify-content-end">
                    <button (click)="updateUser()" class="btn bluebg-button">Update</button>
                </div>
            </div>
    </div>
</div>