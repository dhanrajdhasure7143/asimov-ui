<div class="container mt-3">
    <div class="form-flow predefined-bots">
        <div class="p-name">
            <h4>{{ processName }}</h4>
        </div>

        <p-steps [model]="items" [(activeIndex)]="activeIndex" [readonly]="false">
        <!-- <p-steps [model]="items" [(activeIndex)]="activeIndex" [readonly]="false"> -->
            <!-- <ng-template let-item pTemplate="item">
              <div (click)="goToPage(item)">
                Step {{ item }}
              </div>
            </ng-template> -->
          </p-steps>          

        <div class="form-container" [formGroup]="form">
            <div formGroupName="fields">
                <div *ngFor="let field of currentPageFields" class="form-group row">
                    <label [for]="field.name" class="col-md-4 col-form-label"><b>{{ field.label }}</b></label>
                    <div class="col-md-8">
                        <select *ngIf="field.type === 'dropdown'" class="form-control" [id]="field.name" [formControlName]="field.name">
                            <option *ngFor="let option of field.options" [value]="option">{{ option }}</option>
                        </select>
                        <input *ngIf="field.type !== 'dropdown'" [type]="field.type" class="form-control" [id]="field.name" [formControlName]="field.name" [placeholder]="field.placeholder">
                    </div>
                </div>
            </div>

            <div *ngIf="isLastPage">
                <div class="form-group row">
                    <div class="col-md-4 col-form-label">
                        <input class="form-check-input" type="checkbox" id="scheduleBot" formControlName="scheduleBot">
                        <label class="form-check-label" for="scheduleBot">
                            <b> Would you like to schedule the bot?</b>
                        </label>
                    </div>
                    <!-- <div class="col-md-8">
                        <input type="datetime-local" class="form-control" id="scheduleTime" formControlName="scheduleTime">
                    </div> -->
                    <button class="btn bluebg-button" (click)="openScheduler()" [disabled]="!form.get('scheduleBot').value">
                        Schedule
                    </button>    
                </div>
            </div>
        </div>

        <div class="form-buttons mt-3 text-right fixed-bottom mr-3 mb-3">
            <button type="button" class="btn new-cancelbtn" (click)="goBackList()" *ngIf="currentPage === 1">Cancel</button>
            <button type="button" class="btn new-cancelbtn" (click)="goBack()" *ngIf="currentPage > 1">Back</button>
            <button type="button" class="btn bluebg-button" (click)="nextPage()" *ngIf="!isLastPage">Next</button>
            <button type="button" class="btn bluebg-button" (click)="goBackList()" *ngIf="isLastPage">
                <span *ngIf="params.type=='create'">Create Bot</span>
                <span *ngIf="params.type=='edit'">Update Bot</span>
            </button>
        </div>
    </div>
    
    <p-dialog header="Scheduler" [modal]="true" [(visible)]="scheduleOverlayFlag" [style]="{width: '50vw'}">
        <div class="h-100">
            <div class="h-100">
              <!-- <app-rpa-scheduler [data]="schedulerComponentInput"></app-rpa-scheduler> -->
              <app-predefined-scheduler> </app-predefined-scheduler>
            </div>
          </div>
    </p-dialog>
    <!-- <div *ngIf="scheduleOverlayFlag">
        <app-split-overlay (closeOverlay)="closeOverlay($event)">
          <div class="h-100">
            <div class="create-header">
              <h3>Scheduler</h3>
            </div>
            <div class="h-100">
              <app-rpa-scheduler  (closeOverlay)="closeOverlay($event)"></app-rpa-scheduler>
            </div>
          </div>
        </app-split-overlay>
      </div> -->
</div>