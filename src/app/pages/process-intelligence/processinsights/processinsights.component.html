<div class=''>
  <div class="container-fluid new-PI-layout">
    <div class="">
      <div class="row">
        <div class="row col-md-12 p-0 input-fields">
            <div class="col-sm-4 amountinputs" id="humancost">
                <label for="">Human Cost/Hour</label><input type="text" [disabled]="!isEditable" name="humanValue" [(ngModel)]="input1" (input)="getAllGraphsPriceCalculation()">
                <i *ngIf="!isEditable" (click)="editInput()"  class="fas fa-pen"></i>
                <i *ngIf="isEditable" (click)="editInput()" class="fas fa-check-circle"></i>
            </div>
            <div class="col-sm-4 pl-0 amountinputs" id="BotCost">
                <label for="">Bot Cost/Hour</label><input type="text" [disabled]="!isEditable1" name="robotinput" [(ngModel)]="robotinput" (input)="getAllGraphsPriceCalculation()">
                <i *ngIf="!isEditable1" (click)="editInput1()"  class="fas fa-pen"></i>
                <i *ngIf="isEditable1" (click)="editInput1()" class="fas fa-check-circle"></i>
            </div>
            <div class="col-sm-4 pl-0 amountinputs" id="totalcases">
                <label for="">Total Cases</label><input type="text" name="frequency" disabled [(ngModel)]="totalCases">
            </div>
        </div>
        <div class='row col-md-12 boxes p-0'>
                <div class="col-sm-3 pl-0">
                    <div class="col-sm-12 divbox divbox0">
                        <img src="/assets/images/PI/total-timespent.png" alt="">
                        <h4>Total Time Spent</h4>
                        <label>{{totalMedianDuration ? getHours1(totalMedianDuration): '-'}} <span *ngIf="totalMedianDuration"> hrs</span></label>
                    </div>
                    </div>
                    <div class="col-sm-3 pl-0">
                        <div class="col-sm-12 divbox divbox1">
                            <img src="/assets/images/PI/time-savings.png" alt="">
                            <h4>Potential Time Savings</h4>
                            <label>{{totalMedianDuration ? getHours1(totalMedianDuration*40/100): '-'}} <span *ngIf="totalMedianDuration"> hrs</span></label>
                        </div>
                    </div>
                    <div class="col-sm-3 p-0">
                        <div class="col-sm-12 divbox divbox2">
                            <img src="/assets/images/PI/total-humancost.png" alt="">
                            <h4>Total Human Cost</h4> 
                             <label>{{(totalMedianDuration && input1 && input2) ? (getHumanTotalCost(getHours(totalMedianDuration)*this.input1)| currency) : 0}}</label>
                            <!-- <div>{{getHumanTotalCost(getHours(totalMedianDuration) * this.input1)}}</div> -->
                        </div>
                    </div>
                    <div class="col-sm-3 pr-0">
                        <div class="col-sm-12 divbox divbox3">
                            <img src="/assets/images/PI/potational-savings.png" alt="">
                            <h4>Potential Savings</h4>
                            <label>{{calculateSavings(this.totalMedianDuration) | currency}}</label>
                        </div>
                    </div>
        </div>
        <div class="row col-md-12 p-0">                 
            <div class="col-sm-8 box_shadw PI-insigntscost">
                
                <div class="l_title"><label class="">Human Cost vs Bot Cost</label></div>
                <div id="costprojection" class="lineChart hvsbot">

                        <div id="linechart1"></div>
                </div>
            </div>
            <div class="col-sm-4 pr-0">
                <div class="col-sm-12 box-content hedline1 box_shadw">
                    <p class="business_heading"><strong>Business insights</strong> </p>
                    <ul class="business_content">
                        <li>{{biDataMaxPerct}}% of the cases are taking longer than {{biDataMaxDays}}</li>
                        <li>{{biDataMinPerct}}% of the cases are taking less than {{biDataMinDays}}</li>
                    </ul>
                </div>
                <div class="col-sm-12 box-content hedline2 box_shadw" *ngIf="top10_activityData && top10_activityData.length!=0">
                    <p class="business_heading"><strong>Recommendations</strong> </p>
                    <ul class="business_content">
                            <li *ngFor="let acti of top10_activityData | slice:0:3;let i=index"><b>{{acti.Activity}}</b> automation saves <b>{{calculateSavings(acti.Duration_range) | currency}}</b></li>
                        <div class="link" (click)="showTop10Rec()">Explore More&nbsp;<i class="fa fa-arrow-right"></i></div>
                    </ul>
                </div>
            </div>
        </div>    
        <div class="row col-md-12 p-0">
            <div class="col-sm-6 pl-0 box_shadw1 box_shadw-activity">
                <div class="insigntsoccur">
                  <ul class="groupBtn">
                    <li>
                        <button [class.active]="isEventGraph" (click)="getEventBubboleGraph('event')" class="event-btn">Events</button>
                        <button [class.active]="!isEventGraph" (click)="getEventBubboleGraph('throughput')"  class="duration-btn">Duration</button>
                    </li>
                  </ul>
                 <div class="l_title"><label>Activity vs Occurrences</label></div>
                 <div id="scatter">
                    <div *ngIf="isevents_chart">
                        <ngx-charts-bubble-chart
                    [view]="view1"
                    [scheme]="colorScheme1"
                    [results]="bubbleData"
                    [xAxis]="showXAxis"
                    [yAxis]="showYAxis"
                    [legend]="legend1"
                    [legendTitle] ="legendTitle"
                    [showXAxisLabel]="showXAxisLabel"
                    [showYAxisLabel]="showYAxisLabel"
                    [xAxisLabel]="xAxisLabel1"
                    [yAxisLabel]="yAxisLabel1"
                    [xScaleMin]="xScaleMin"
                    [xScaleMax]="xScaleMax"
                    [yScaleMin]="yScaleMin"
                    [maxXAxisTickLength]="8"
                    [minRadius]="minRadius"
                    [maxRadius]="maxRadius"
                    [rotateXAxisTicks]="rotateXAxisTicks"
                    [legendPosition]="top">
                        </ngx-charts-bubble-chart>
                    </div>
                    <div *ngIf="isduration_chart">
                        <ngx-charts-bubble-chart
                            [view]="view1"
                            [scheme]="colorScheme1"
                            [results]="bubbleData1"
                            [xAxis]="showXAxis"
                            [yAxis]="showYAxis"
                            [legend]="false"
                            [showXAxisLabel]="showXAxisLabel"
                            [showYAxisLabel]="showYAxisLabel"
                            [xAxisLabel]="xAxisLabel_duration"
                            [yAxisLabel]="yAxisLabel_duration"
                            [xScaleMin]="xScaleMin"
                            [trimYAxisTicks]="true"
                            [yScaleMin]="yScaleMin_duration"
                            [rotateXAxisTicks]="rotateXAxisTicks"
                            >
                            <ng-template #tooltipTemplate let-model="model">
                                <h4>{{ model.name}}</h4>
                                <p>Activity: {{model.name}}</p>
                                <p>Duration: <strong>{{model.event_duration}}</strong></p>
                            </ng-template>
                        </ngx-charts-bubble-chart>
                    </div>
                 </div>
                </div>
            </div>
            <div class="col-sm-6 pr-0 box_shade">
              <div class="insigntsoccur">
                <div class="l_title "><label>Activity Based Costs</label></div>
                <div id="scatter" >

                    <combo-chart-component
                    [view]="view2"
                    [scheme]="comboBarScheme"
                    [colorSchemeLine]="lineChartScheme"
                    [results]="barChart"
                    [animations]="animations"
                    [lineChart]="lineChartSeries"
                    [yAxisTickFormatting]="yLeftTickFormat"
                    [yLeftAxisScaleFactor]="yLeftAxisScale"
                    [yRightAxisTickFormatting]="yRightTickFormat"
                    [gradient]="gradient"
                    [xAxis]="showXAxis"
                    [yAxis]="showYAxis"
                    [legend]="showLegend"
                    [legendTitle]="legendTitle"
                    [legendPosition]="legendPosition"
                    [showGridLines]="showGridLines"
                    [showXAxisLabel]="showXAxisLabel"
                    [showYAxisLabel]="showYAxisLabel"
                    [showRightYAxisLabel]="showYAxisLabel1"
                    [xAxisLabel]="xAxisLabel2"
                    [yAxisLabel]="yAxisLabel2"
                    [yAxisLabelRight]="yAxisLabelRight">
                </combo-chart-component>
                </div>
            </div>
            </div>
            </div>
        <div class="row col-md-12 p-0"  id="top10Activities">
            <div class="col-sm-6 pl-0 table-box">
                <div class="insigntsoccurtable top10cases">
                    <div class="table1-heading">Top 10% Of Cases (descending in order of duration)</div>
                    <table class="RPA table table-hover table-bordered table-striped work_spacetable">
                    <thead class="">
                        <tr>
                            <th class="">Variant</th>
                            <th class="">Time</th>
                            <th class="">% Of Cases</th>
                        </tr>
                    </thead>
                    <tbody >
                        <tr *ngFor="let each_variant of partialVariants;let e = index">
                        <td>Variant&nbsp;{{e+1}}</td>
                        <td>{{convertHourstoMiliseconds(each_variant.total_duration)}}</td>
                        <td>{{caseParcent(each_variant.casepercent)}}%</td>
                    </tr>
                    </tbody>
                    </table>
                </div>
            </div>
            <div class="col-sm-6 pr-0 table-box">                
                <div class="insigntsoccurtable">
                <div class="table1-heading">Top Automation Opportunities</div>
                <table class="RPA table table-hover table-bordered table-striped">
                    <thead>
                        <tr>
                            <th class="">Step</th>
                            <th class="">Value</th>
                            <th class="">Savings</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let each_data of top10_activityData">
                            <td>{{each_data.Activity}}</td>
                            <td>{{timeConversion(each_data.Duration_range)}}</td>
                            <td>{{calculateSavings(each_data.Duration_range) | currency}}</td>
                        </tr>
                    </tbody>
                </table>
                </div>
            </div>
        </div>
        <div class="row col-md-12 p-0 resuractivity-footer">
            <div class="col-md-12 resuractivity-header">
                <div class="col-md-10 p-0 resuractivity-title">
                    <label>Resources</label>
                </div>
                <div class="col-sm-2 resuractivity-select">
                    <div class="" id="resourcesselect">
                        <ng-multiselect-dropdown
                        [placeholder]="'All'"
                        [settings]="dropdownSettings"
                        [data]="resourcesList"
                        [(ngModel)]="selectedResources"
                        (onSelect)="onResourceSelect()"
                        (onSelectAll)="onResourceSelect(true)"
                        (onDeSelect)="onResourceSelect()"
                        (onDeSelectAll)="onResourceSelect(false)"
                        >
                        </ng-multiselect-dropdown>
                    </div>
                </div>
            </div>    
            <div class="row resuractivity">
                <div class="col-md-6 pi-chart">
                    <div class="insigntsresuractivity">
                        <div class="l_title"><label class="resuractivitytitle">Total Resource Duration By Activity</label></div>
                        <div id="" class="">
                            <div id="pie_chart1"></div> 
                        </div>
                    </div>
                </div>        
                <div class="col-md-6 pi-chart">
                    <div class="insigntsresuractivity">
                        <div class="l_title"><label class="resuractivitytitle">Total Resource Cost By Activity</label></div>
                        <div id="" class="">
                            <div id="pie_chart2"></div> 
                        </div>
                    </div>
                </div>
            </div>    
        </div>
      </div>
    </div>
  </div>
</div>

<div id="pietooltip" class="">
    <p><strong id="tooltip_head"></strong>
    </p>
    <p>Activity Duration(hrs): <strong id="value"></strong></p>
</div>


<div id="pietooltip1" class="">
    <p><strong id="tooltip_head1"></strong>
    </p>
    <p>Activity Cost : <strong id="value1"></strong></p>
</div>

<div id="mySidenav" class="col-md-12 p-0 sidenav tracking_detsils1">
    <div class='variants_slider'>
       <div class="col-sm-12 select_drpdwnone">
            <div class="variants-header">
                <h3>Variants List</h3>
                <button class="closebtn" (click)="closeNav()">
                    <img src="../../../../assets/images/PI/close.svg" alt="" class="default-img">
                    <img src="../../../../assets/images/PI/close-blue.svg" alt="" class="hover-img">
                </button>
            </div>
            <div class="col-md-12 p-0">
                <select class="form-control select_drpdwn" [(ngModel)]="select_varaint" (change)="onchangeVaraint(select_varaint)" name="status" id="variant_drpdwn">
                    <option [value]="each" *ngFor="let each of variant_list;let i=index;trackBy:loopTrackBy" [selected]="i==0">{{variant_list_options[each]}}</option>
                </select>
            </div>
        </div>
        <div class='col-sm-12 variant2'>
            <div class="check_box">
                <input id="check_box"  type="checkbox" #check_box='ngModel' name="check_box"   [(ngModel)]="checkboxValue" (change)="selectAllVariants()">
                <span class="">Select all</span>
                <span class='event2'>Time Taken</span>
            </div>   
        </div>
        <div class="variant-body">
            <div class='col-sm-12 variant_border' [ngClass]="isselected ==i?'activevaraint':''||data.selected ==='active'?'activevaraint':''" *ngFor="let data of this.varaint_data.data; let i=index">
                <div (click)="caseIdSelect(data,i)"  class='event3'>Variant
                    <span>{{i+1}}</span>
                </div>
                <div class='variant_parcent'>
                    <div (click)="caseIdSelect(data,i)" class=''>Cases Covered
                        <span>{{data.case_value}} ({{caseParcent(data.casepercent)}}%)</span>
                    </div>
                    <div (click)="caseIdSelect(data,i)" class=''></div>
                </div>
                <div class='varaint-days' (click)="caseIdSelect(data,i)">{{timeConversion(data.days)}}</div>
            </div>
        </div>
    </div>
        
</div>