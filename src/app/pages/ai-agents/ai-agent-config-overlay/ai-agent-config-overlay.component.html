<form [formGroup]="predefinedBotsForm">
  <div>
    <div class="form-group full-width">
      <label>AI Action*</label>
      <div formArrayName="aiActions" class="checkbox-group">
        <div *ngFor="let action of aiActions; let i = index" class="checkbox-item">
          <input type="checkbox" [formControlName]="i" disabled>
          <label>{{ action.label }}</label>
        </div>
      </div>
    </div>
    <div class="form-container">
      <ng-container *ngFor="let action of aiActions; let i = index">
        <ng-container *ngIf="isActionChecked(i)">
          <ng-container *ngFor="let field of getAssociatedFields(i)">
            <div class="form-group" *ngIf="hasFieldValue(field)">
              <label>{{ field.preAttributeLable }}*</label>
              <ng-container [ngSwitch]="field.preAttributeType">
                <input *ngSwitchCase="'email'" type="email" [value]="getFieldValue(field)" disabled>
                <div *ngSwitchCase="'file'" class="file-input-wrapper">
                  <!-- <input type="file" [value]="getFieldValue(field.preAttributeName)" disabled> -->
                  <!-- <span class="file-name">{{ getAttachmentName(field.preAttributeName) }}, <br></span> -->
                  <span class="file-name" [innerHTML]="getAttachmentName(field.preAttributeName)"></span>
                </div>
                <!-- Add more cases for other field types as needed -->
              </ng-container>
            </div>
          </ng-container>
        </ng-container>
      </ng-container>
    </div>
  </div>
</form>