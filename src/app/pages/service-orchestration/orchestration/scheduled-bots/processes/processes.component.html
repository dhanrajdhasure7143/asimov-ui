<div id="" class="schedule-table-container h-100">
    <!-- <div class="so-sub-tab-content"> -->
    <!--<div class="row">
         <div class="col-md-3 form-group pl-0 example-full-width sosearchfield" id="bmsearch">
                <input class="form-control" placeholder="Search Process" autocomplete="off" [(ngModel)]="search" (keyup)="applyFilter2($event.target.value)">
                <img src="../../../../assets/images/search.svg" class="testplus">
            </div>
    </div> -->
        <!-- <table class="table projecttable" mat-table [dataSource]="processschedule" #sort4="matSort" matSort>
            <ng-container matColumnDef="processName">
                <th mat-header-cell *matHeaderCellDef mat-sort-header  style="width:200px;">Process Name </th>
                <td mat-cell *matCellDef="let element" [matTooltip]="element.processName" style="width:200px;">
                  <span *ngIf="element.processName != null">{{(element.processName.length > 10) ? ((element.processName).slice(0, 10) + '...') : element.botName}}
                  </span>
                  <span *ngIf="element.processName == null">-</span>
                </td>
            </ng-container>
            <ng-container matColumnDef="category">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Category</th>
                <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.category != null">{{element.category}}</span>
                    <span *ngIf="element.category == null">-</span>
                </td>
            </ng-container>

            <ng-container matColumnDef="environment">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Environment</th>
                <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.environmentName != null">{{element.environmentName}}</span>
                    <span *ngIf="element.environmentName == null">-</span>
                </td>
            </ng-container>

             <ng-container matColumnDef="lastRunTS">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Previous Run</th>
                <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.lastRunTS != null" [matTooltip]="element.lastRunTS |date: 'MMM d, y, H:mm:ss'">
                        {{(element.lastRunTS.length > 10) ? ((element.lastRunTS |date: 'MMM d, y, H:mm:ss').slice(0, 10) + '...') : element.lastRunTS |date: 'MMM d, y, H:mm:ss' }}
                    </span>
                    <span *ngIf="element.lastRunTS == null">-</span>
                </td>
            </ng-container>

            <ng-container matColumnDef="nextRunTS">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Next Run</th>
                <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.nextRunTS != null" [matTooltip]="element.nextRunTS |date: 'MMM d, y, H:mm:ss'">
                        {{(element.nextRunTS.length > 10) ? ((element.nextRunTS |date: 'MMM d, y, H:mm:ss').slice(0, 10) + '...') : element.nextRunTS |date: 'MMM d, y, H:mm:ss' }}
                    </span>
                    <span *ngIf="element.nextRunTS == null">-</span>
                </td>
            </ng-container>

            <ng-container matColumnDef="scheduleInterval">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Schedule Interval</th>
                <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.scheduleInterval != null">{{element.scheduleInterval}}</span>
                    <span *ngIf="element.scheduleInterval == null">-</span>
                </td>
            </ng-container>
            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
                <td class="" mat-cell *matCellDef="let element">
                    <span *ngIf="element.status=='Running'" class="text-primary" >
                        <img src="../../../../assets/images/RPA/DotSpin.gif" class="testplus">{{element.status}}
                    </span>
                                
                    <span *ngIf="element.status=='Success'|| element.status=='Completed' || element.status=='Started'" [matTooltip]="element.status">
                        <img src="../../../../assets/images/RPA/icon_latest/Success.svg" class="testplus">Success
                    </span>

                    <span *ngIf="element.status=='Paused'" [matTooltip]="element.status">
                        <img src="../../../../assets/images/RPA/icon_latest/pause-circle-fill.svg" class="testpause">Paused
                    </span>
                    
                    <span *ngIf="element.status=='Failure'|| element.status=='Failed'"  [matTooltip]="element.status">
                        <img src="../../../../assets/images/RPA/icon_latest/close-red.svg" class="testplus">
                    </span>
                    
                    <span *ngIf="element.status=='New'">
                        <img src="../../../../assets/images/RPA/userobot.png" class="testplus">
                        <span>{{element.status}}</span>
                    </span>
                    
                    <span *ngIf="element.status=='Pending'">
                        <i class="fa fa-clock"></i>&nbsp;
                        <span>{{element.status}}</span>
                    </span>
            
                    <span *ngIf="element.status=='Stop' || element.status=='Resume' || element.status=='Resumed'" [matTooltip]="element.status">
                        <img src="../../../../../assets/images/RPA/icon_latest/stop.svg" class="testplus">Stopped
                    </span>
                    <span *ngIf="element.status == undefined">-</span>
                </td>
            </ng-container>

            <ng-container matColumnDef="timezone">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Time Zone</th>
                <td mat-cell *matCellDef="let element">
                    <span *ngIf="element.timezone != null" [matTooltip]="element.timezone">{{(element.timezone.length > 8) ? ((element.timezone).slice(0, 8) + '...') : element.timezone}}</span>
                    <span *ngIf="element.timezone == null">-</span>
                </td>
            </ng-container>
            <ng-container matColumnDef="noData">
                <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="9">
                    No Records Found
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displaycolumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displaycolumns;"></tr>
            <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide': tabledata}"></tr>
       </table> -->

        <p-table #dt [value]="processschedule" [resizableColumns]="true" responsiveLayout="scroll" [reorderableColumns]="true" [scrollable]="true"
            [globalFilterFields]="['processName','environmentName','category','environmentName','lastRunTS','nextRunTS','scheduleInterval','status','timezone']">
            <ng-template pTemplate="caption">
                <div class="flex">
                    <span class="p-input-icon-right gridsearch">
                        <i class="pi pi-search"></i>
                        <input pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')"
                            placeholder="Search Process" />
                    </span>
                    <button pButton label="Clear" class="p-button-outlined only_clearbtn" icon="pi pi-filter-slash"
                        (click)="clear(dt)"></button>
                </div>
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="processName" pReorderableColumn pResizableColumn>Process Name
                        <p-columnFilter type="text" field="processName" display="menu"></p-columnFilter>
                        <p-sortIcon field="processName"></p-sortIcon>
                    </th>
                    <th pSortableColumn="category" pReorderableColumn pResizableColumn>Category
                        <p-columnFilter type="text" field="category" display="menu"></p-columnFilter>
                        <p-sortIcon field="category"></p-sortIcon>
                    </th>
                    <th pSortableColumn="environmentName" pReorderableColumn pResizableColumn>Environment
                        <p-columnFilter type="text" field="environmentName" display="menu"></p-columnFilter>
                        <p-sortIcon field="environmentName"></p-sortIcon>
                    </th>
                    <th pSortableColumn="lastRunTS" pReorderableColumn pResizableColumn>Previous Run
                        <p-columnFilter type="text" field="lastRunTS" display="menu"></p-columnFilter>
                        <p-sortIcon field="lastRunTS"></p-sortIcon>
                    </th>
                    <th pSortableColumn="nextRunTS" pReorderableColumn pResizableColumn>Next Run
                        <p-columnFilter type="text" field="nextRunTS" display="menu"></p-columnFilter>
                        <p-sortIcon field="nextRunTS"></p-sortIcon>
                    </th>
                    <th pSortableColumn="scheduleInterval" pReorderableColumn pResizableColumn>Schedule Interval
                        <p-columnFilter type="text" field="scheduleInterval" display="menu"></p-columnFilter>
                        <p-sortIcon field="scheduleInterval"></p-sortIcon>
                    </th>
                    <th pSortableColumn="status" pReorderableColumn pResizableColumn>Status
                        <p-columnFilter type="text" field="status" display="menu"></p-columnFilter>
                        <p-sortIcon field="status"></p-sortIcon>
                    </th>
                    <th pSortableColumn="timezone" pReorderableColumn pResizableColumn>Time Zone
                        <p-columnFilter type="text" field="timezone" display="menu"></p-columnFilter>
                        <p-sortIcon field="timezone"></p-sortIcon>
                    </th>

                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-element>
                <tr>

                    <td [pTooltip]="element.processName" style="width:200px;">
                        <span *ngIf="element.processName != null">{{element.processName}}
                        </span>
                        <span *ngIf="element.processName == null">-</span>
                    </td>
                    <td>
                        <span *ngIf="element.category != null">{{element.category}}</span>
                        <span *ngIf="element.category == null">-</span>
                    </td>
                    <td>
                        <span *ngIf="element.environmentName != null">{{element.environmentName}}</span>
                        <span *ngIf="element.environmentName == null">-</span>
                    </td>
                    <td>
                        <span *ngIf="element.lastRunTS != null"
                            [pTooltip]="element.lastRunTS |date: 'MMM d, y, H:mm:ss'">
                            {{(element.lastRunTS.length > 10) ? ((element.lastRunTS |date: 'MMM d, y, H:mm:ss').slice(0,
                            10) +
                            '...') : element.lastRunTS |date: 'MMM d, y, H:mm:ss' }}
                        </span>
                        <span *ngIf="element.lastRunTS == null">-</span>
                    </td>
                    <td>
                        <span *ngIf="element.nextRunTS != null"
                            [pTooltip]="element.nextRunTS |date: 'MMM d, y, H:mm:ss'">
                            {{(element.nextRunTS.length > 10) ? ((element.nextRunTS |date: 'MMM d, y, H:mm:ss').slice(0,
                            10) +
                            '...') : element.nextRunTS |date: 'MMM d, y, H:mm:ss' }}
                        </span>
                        <span *ngIf="element.nextRunTS == null">-</span>
                    </td>
                    <td>
                        <span *ngIf="element.scheduleInterval != null">{{element.scheduleInterval}}</span>
                        <span *ngIf="element.scheduleInterval == null">-</span>
                    </td>
                    <td>
                        <span *ngIf="element.status=='Running'" class="text-primary">
                            <img src="../../../../assets/images/RPA/DotSpin.gif" class="testplus">{{element.status}}
                        </span>

                        <span
                            *ngIf="element.status=='Success'|| element.status=='Completed' || element.status=='Started'"
                            [pTooltip]="element.status">
                            <img src="../../../../assets/images/RPA/icon_latest/Success.svg" class="testplus">Success
                        </span>

                        <span *ngIf="element.status=='Paused'" [pTooltip]="element.status">
                            <img src="../../../../assets/images/RPA/icon_latest/pause-circle-fill.svg"
                                class="testpause">Paused
                        </span>

                        <span *ngIf="element.status=='Failure'|| element.status=='Failed'" [pTooltip]="element.status">
                            <img src="../../../../assets/images/RPA/icon_latest/close-red.svg" class="testplus">
                        </span>

                        <span *ngIf="element.status=='New'">
                            <img src="../../../../assets/images/RPA/userobot.png" class="testplus">
                            <span>{{element.status}}</span>
                        </span>

                        <span *ngIf="element.status=='Pending'">
                            <i class="fa fa-clock"></i>&nbsp;
                            <span>{{element.status}}</span>
                        </span>

                        <span *ngIf="element.status=='Stop' || element.status=='Resume' || element.status=='Resumed'"
                            [pTooltip]="element.status">
                            <!--<img src="../../../../assets/images/RPA/userobot.png" style="filter: none; width: 19px;">-->
                            <img src="../../../../../assets/images/RPA/icon_latest/stop.svg" class="testplus">Stopped
                        </span>
                        <span *ngIf="element.status == undefined">-</span>
                    </td>
                    <td>
                        <span *ngIf="element.timezone != null" [pTooltip]="element.timezone">{{(element.timezone.length
                            > 8) ?
                            ((element.timezone).slice(0, 8) + '...') : element.timezone}}</span>
                        <span *ngIf="element.timezone == null">-</span>
                    </td>

                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td style="justify-content: center;" colspan="8">No Records Found</td>
                </tr>
            </ng-template>
        </p-table>
</div>