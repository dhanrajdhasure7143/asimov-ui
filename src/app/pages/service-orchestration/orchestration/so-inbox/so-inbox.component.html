<div class="so-sub-tab-content">
  <div class="">
      <div class="Inboxtab-btns">
          <!-- <div class="col-md-3 form-group pl-0 example-full-width sosearchfield" id="inboxsearch">
              <input class="form-control" placeholder="Search Inbox" [(ngModel)]="searchinbox" (keyup)="applyFilter($event.target.value)">
              <img src="../../../../assets/images/search.svg" alt="" class="testplus">
          </div> -->
          <div class="">
              <button (click)="reset()" id="inboxreset" class="tsttooltipbtn" pTooltip="Reset"  tooltipPosition="top">
                <img src="../../../../../assets/images/RPA/icon_latest/reset-blue.svg" class="testplus">
                <!-- <span class="testtooltip">Reset</span> -->
              </button >
              <button (click)="refresh()" id="inboxrefresh" class="tsttooltipbtn" pTooltip="Refresh"  tooltipPosition="top">
                <img src='../../../../../assets/images/RPA/icon_latest/repeat-blue.svg' class="testplus">
                <!-- <span class="testtooltip">Refresh</span> -->
              </button >
            </div>          
      </div>
    
          <!-- <div class="col-md-12 p-0"> -->
            <div  class="inbox-tablegrid">
              <!-- <table mat-table  [dataSource]="dataSource1" #sort1="matSort" matSort class="RPA table" id="inboxtable">

                  <ng-container matColumnDef="processName">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell2">Process Name </th>
                      <td mat-cell *matCellDef="let element" class="cell2">
                        <span *ngIf="element.processName!=null">{{element.processName}}</span>
                        <span *ngIf="element.processName==null">-</span> </td>
                  </ng-container>

                  <ng-container matColumnDef="processRunId">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell1">Run Id</th>
                    <td mat-cell *matCellDef="let element" class="cell1">
                      <span *ngIf="element.processRunId!=null">{{element.processRunId}}</span>
                      <span *ngIf="element.processRunId==null">-</span> </td>
                </ng-container>

                  <ng-container matColumnDef="taskName">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell3">Task Name </th>
                      <td mat-cell *matCellDef="let element" class="cell3">
                        <span *ngIf="element.taskName!=null">{{element.taskName}}</span>
                        <span *ngIf="element.taskName==null">-</span> </td>
                  </ng-container>
                  <ng-container matColumnDef="previousTask">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell4">Previous Task </th>
                    <td mat-cell *matCellDef="let element" class="cell4">
                      <span *ngIf="element.previousTask!=null">{{element.previousTask}}</span>
                      <span *ngIf="element.previousTask==null">-</span> </td>
                </ng-container>

                  <ng-container matColumnDef="nextSuccessTask">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell5">Next Task (Upon Success) </th>
                      <td mat-cell *matCellDef="let element" class="cell5">
                          <span *ngIf="element.nextSuccessTask!=null">{{element.nextSuccessTask}}</span>
                          <span *ngIf="element.nextSuccessTask==null">-</span> </td>
                  </ng-container>

                  <ng-container matColumnDef="nextFailureTask">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell6">Next Task (Upon Failure) </th>
                    <td mat-cell *matCellDef="let element" class="cell6">
                        <span *ngIf="element.nextFailureTask!=null">{{element.nextFailureTask}}</span>
                        <span *ngIf="element.nextFailureTask==null">-</span> </td>
                </ng-container>
                <ng-container matColumnDef="status">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell7">Status </th>
                  <td mat-cell *matCellDef="let element" class="cell7">

                      <span *ngIf="element.status=='Approved'" class="text-success">
                        <span class="verticalalignmiddle">
                          <i class="fa fa-check-circle"></i>
                        </span>&nbsp;
                        <span>{{element.status}}</span>
                      </span>

                      <span *ngIf="element.status=='Rejected'" class="text-danger">
                        <span class="verticalalignmiddle" >
                          <i class="fa fa-times-circle"></i>
                        </span>&nbsp;
                        <span>{{element.status}}</span>
                      </span>

                      <span *ngIf="element.status=='Pending'">
                        <span class="verticalalignmiddle text-warning" >
                          <i class="fa fa-clock"></i>
                        </span>&nbsp;
                        <span>{{element.status}}</span>
                      </span>

                      <span *ngIf="element.status==null">---</span>

                  </td>
              </ng-container>
                <ng-container matColumnDef="Action">
                  <th mat-header-cell *matHeaderCellDef class="cell8">Action </th>
                  <td mat-cell *matCellDef="let element" class="cell8">
                    <span>
                      <button [disabled]="element.status=='Approved' || element.status=='Rejected'" [class]="(element.status=='Approved' || element.status=='Rejected')?'undobtn':''" (click)="getapproved(element.processId,'Approved', element.taskId,element.processRunId,element.envId)"  matTooltip="Approve">
                        <i  class="fas fa-check text-success"></i>
                      </button>

              </span>&nbsp;&nbsp;&nbsp;
              <span>
                      <button [disabled]="element.status=='Approved' || element.status=='Rejected'" [class]="(element.status=='Approved' || element.status=='Rejected')?'undobtn':''" (click)="getapproved(element.processId,'Rejected', element.taskId,element.processRunId,element.envId)"  matTooltip="Reject">
                        <i  class="fas fa-times text-danger"></i>
                      </button>
                     
                    </span>
              </td>
              </ng-container>
              
     
              <ng-container matColumnDef="noData">
                  <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="8">
                      No Records Found
                  </td>
              </ng-container>
              <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
              <tr class="row-highlight" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide': !respdata1}"></tr>
              </table> -->

              <p-table #dt1 [value]="response" [resizableColumns]="true" responsiveLayout="scroll" [reorderableColumns]="true" [scrollable]="true"
              [globalFilterFields]="['processName','processRunId','taskName','previousTask','nextSuccessTask','nextFailureTask','status']">
                <ng-template pTemplate="caption">
                  <div class="p-d-flex">
                      <!-- <p-multiSelect *ngIf="show_column_filter" [options]="columns_list" [(ngModel)]="selectedColumns" optionLabel="DisplayName"
                          selectedItemsLabel="{0} columns selected" [style]="{minWidth: '200px'}"
                          placeholder="Choose Columns">
                      </p-multiSelect> -->                      
                      <span class="p-input-icon-right gridsearch">
                        <i class="pi pi-search"></i>
                        <input type="text" pInputText placeholder="Search" class="p-inputtext-lg" 
                            (input)="dt1.filterGlobal($event.target.value, 'contains')">
                      </span>
                      <button pButton label="Clear" class="p-button-outlined only_clearbtn" icon="pi pi-filter-slash" (click)="clear(dt1)">
                      </button>
                  </div>
              </ng-template>
                <ng-template pTemplate="header">
                  <tr>
                    <th *ngFor="let each of columnList" pSortableColumn="{{each.field}}" pReorderableColumn pResizableColumn>{{each.DisplayName}}
                      <p-columnFilter *ngIf="each.ShowFilter" [showAddButton]="false" [showOperator]="false" matchMode="contains" [showMatchModes]="false" [field]="each.field"
                                display="menu" [showApplyButton]="false">
                            <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                                <input type="text" pInputText [ngModel]="value" (ngModelChange)="filter($event)" class="p-inputtext" placeholder="Search">
                            </ng-template>
                      </p-columnFilter>
                      <p-sortIcon *ngIf="each.ShowFilter" [field]="each.field"></p-sortIcon>
                    </th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-element>
                  <tr>
                    <td>
                      <span *ngIf="element.processName!=null">{{element.processName}}</span>
                      <span *ngIf="element.processName==null">-</span>
                    </td>
                    <td>
                      <span *ngIf="element.processRunId!=null">{{element.processRunId}}</span>
                      <span *ngIf="element.processRunId==null">-</span>
                    </td>
                    <td>
                      <span *ngIf="element.taskName!=null">{{element.taskName}}</span>
                      <span *ngIf="element.taskName==null">-</span>
                    </td>
                    <td>
                      <span *ngIf="element.previousTask!=null">{{element.previousTask}}</span>
                      <span *ngIf="element.previousTask==null">-</span>
                    </td>
                    <td>
                      <span *ngIf="element.nextSuccessTask!=null">{{element.nextSuccessTask}}</span>
                      <span *ngIf="element.nextSuccessTask==null">-</span>
                    </td>
                    <td>
                      <span *ngIf="element.nextFailureTask!=null">{{element.nextFailureTask}}</span>
                      <span *ngIf="element.nextFailureTask==null">-</span>
                    </td>
                    <td>
                      <span *ngIf="element.status=='Approved'" class="text-success">
                        <span class="verticalalignmiddle">
                          <i class="fa fa-check-circle"></i>
                        </span>&nbsp;
                        <span>{{element.status}}</span>
                      </span>
                      <span *ngIf="element.status=='Rejected'" class="text-danger">
                        <span class="verticalalignmiddle">
                          <i class="fa fa-times-circle"></i>
                        </span>&nbsp;
                        <span>{{element.status}}</span>
                      </span>
                      <span *ngIf="element.status=='Pending'">
                        <span class="verticalalignmiddle text-warning">
                          <i class="fa fa-clock"></i>
                        </span>&nbsp;
                        <span>{{element.status}}</span>
                      </span>
                      <span *ngIf="element.status==null">-</span>
                    </td>
                    <td class="inboxactions">
                        <button [disabled]="element.status=='Approved' || element.status=='Rejected'"
                          [class]="(element.status=='Approved' || element.status=='Rejected')?'undobtn':''"
                          (click)="getapproved(element.processId,'Approved', element.taskId,element.processRunId,element.envId)"
                          pTooltip="Approve" tooltipPosition="top">
                          <i class="fas fa-check text-success"></i>
                        </button>
                        <button [disabled]="element.status=='Approved' || element.status=='Rejected'"
                          [class]="(element.status=='Approved' || element.status=='Rejected')?'undobtn':''"
                          (click)="getapproved(element.processId,'Rejected', element.taskId,element.processRunId,element.envId)"
                          pTooltip="Reject"  tooltipPosition="top">
                          <i class="fas fa-times text-danger"></i>
                        </button>
                    </td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td style="justify-content: center;" colspan="8">No Records Found</td>
                  </tr>
                </ng-template>
              </p-table>
          </div>


  </div>

</div>
<!--<div id="showaction" class="rpa-modal">
  <div class="rpa-modal-content">
      <div class="rpa-modal-header">
          <span class="rpa-modal-close" (click)="showactionclose()">&times;</span>
          <h4>Logs</h4>
      </div>
      <div>
              <label>Logs</label>
      </div>
  </div>
</div>-->