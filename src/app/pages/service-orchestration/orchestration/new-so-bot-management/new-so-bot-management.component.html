<div class="bg-color">
  <div class="container-fluid">
      <br>
      <div class="text-right">
          <span style="padding:10px">
            <mat-form-field class="example-full-width" id="bmsearch">
              <mat-label>Search</mat-label>
              <input matInput placeholder="Search" [(ngModel)]="search" (input)="method()"> <!--(keyup)="applyFilter2($event.target.value)">-->
              <mat-icon matSuffix>search</mat-icon>
            </mat-form-field>
          </span>
          <span style="padding:10px">
            <mat-form-field id="bmategorySearch">
              <mat-label>Select By Source</mat-label>
              <mat-select [(ngModel)]="selected_source" (selectionChange)="method()"> <!--(selectionChange)="applyFilter3($event.value)">-->
                  <mat-option value="EPSoft">EPSoft</mat-option>
                  <mat-option value="BluePrism">BluePrism</mat-option>
                  <mat-option value="UiPath">UiPath</mat-option>
              </mat-select>
            </mat-form-field>
          </span>
        <span style="padding:10px">
          <mat-form-field id="bmategorySearch">
            <mat-label>Select Process Group</mat-label>
            <mat-select [(ngModel)]="selectedcat" (selectionChange)="method()"> <!--(selectionChange)="applyFilter($event.value)"-->
                <mat-option *ngFor="let category of categaoriesList" [value]="category.categoryId">{{category.categoryName}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </span>
        <span (click)="reset()" id="bmreset"  style="cursor:pointer" matTooltip="Reset">
          <i  class="fa fa-undo"></i>
        </span >  
      </div>
        <div class="row">
          <div class="col-md-12">
            <!-- <mat-card> -->
              <table mat-table #sort1="matSort" [dataSource]="dataSource1" matSort class=" table" id="bmtable">
  
                  <ng-container matColumnDef="botName">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Bot Name </th>
                      <td mat-cell *matCellDef="let element"> <button *ngIf="element.botName!=null" (click)="loadbotdatadesign(element.botId);"><span *ngIf="element.botName!=null" [matTooltip]="element.botName">{{(element.botName.length > 15) ? ((element.botName).slice(0, 15) + '...') : element.botName}}</span>
                          <span *ngIf="element.botName==null || element.botName==''">---</span></button> </td>
                  </ng-container>
  
  
                  <ng-container matColumnDef="description">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Description </th>
                      <td mat-cell *matCellDef="let element">
                          <span *ngIf="element.description!=null" [matTooltip]="element.description">{{(element.description.length > 15) ? ((element.description).slice(0, 15) + '...') : element.description}}</span>
                           <span *ngIf="element.description==null || element.description==''">-</span> </td>
                  </ng-container>
                  <ng-container matColumnDef="botType">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Type </th>
                    <td mat-cell *matCellDef="let element"> <button *ngIf="element.botType!=null">{{element.botType}}</button> <span *ngIf="element.botName==''">-</span> </td>
                </ng-container>
  
                <ng-container matColumnDef="sourceType">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Source </th>
                  <td mat-cell *matCellDef="let element"> <button *ngIf="element.botType!=null">{{element.sourceType}}</button> <span *ngIf="element.botName==''">-</span> </td>
              </ng-container>
                <ng-container matColumnDef="department">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header>Category</th>
                  <td mat-cell *matCellDef="let element">
                    <button *ngIf="element.department !=null && element.sourceType=='EPSoft' ">{{element.department}}</button>
                    <button *ngIf="element.sourceType!='EPSoft' || element.department ==null " class="text-center">-</button>
              </ng-container>
                  <ng-container matColumnDef="version">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header>Version </th>
                      <td mat-cell *matCellDef="let element">
                          <button *ngIf="element.version!=null">V{{element.version}}</button>
                          <span *ngIf="element.version==''">-</span> </td>
                  </ng-container>
                  <ng-container matColumnDef="botStatus">
                      <th mat-header-cell *matHeaderCellDef  mat-sort-header>Status </th>
                      <td mat-cell  *matCellDef="let element" >
                        <div class="margin-25" [id]="element.botId+'__status'">
                          <span *ngIf="element.botStatus=='Running'"  [matTooltip]="element.botStatus" class="text-primary" >
                            <span>
                              <img src="../../../../assets/images/RPA/DotSpin.gif"  style="filter: none; width: 19px;">
                            </span>
                          </span>
  
                          <span *ngIf="element.botStatus=='Success'|| element.botStatus=='Completed'"  [matTooltip]="element.botStatus" class="text-success">
                            <span>
                              <li class="fa fa-check-circle"style="font-size:19px">
                            </span>
                          </span>
  
                          <span *ngIf="element.botStatus=='Failure'|| element.botStatus=='Failed'"  [matTooltip]="element.botStatus" class="text-danger"><span><li class="fa fa-times-circle" style="font-size:19px"></span></span>
                          <!--<img src="../../../../assets/images/RPA/newicon.png" style="filter: none; width: 20px;">-->
                          <span *ngIf="element.botStatus=='New'"   [matTooltip]="element.botStatus"  class="text-primary"><span><img src='../../../../../assets/images/RPA/newicon.png' style="filter: none; width: 19px;"></span></span>
  
                          <span *ngIf="element.botStatus=='Stop'" >
                            <span class="bg-danger"  [matTooltip]="element.botStatus" style="background-color:#a94442;border-radius: 50%;color:white;padding-right:6px;padding-left:5px;padding-top:5px;padding-bottom:4px;font-size:9px;text-align: center;align-content: center;align-items: center;">
                              <!--<img src="../../../../assets/images/RPA/userobot.png" style="filter: none; width: 19px;">-->
                              <i class="fas fa-stop"></i>
                            </span>
                            </span>
  
                          <span *ngIf="element.botStatus=='Pause'||element.botStatus=='Paused'" >
                            <span class="text-primary"  [matTooltip]="element.botStatus"  style="font-size:19px;"><!--<img src="../../../../assets/images/RPA/userobot.png" style="filter: none; width: 19px;">-->
                              <i class="fas fa-pause-circle"></i>
                            </span>
                          </span>
  
                          <span *ngIf="element.botStatus==null">---</span>
                        </div>
                      </td>
                </ng-container>
                  <ng-container matColumnDef="Action">
                      <th mat-header-cell *matHeaderCellDef >Actions </th>
                      <td mat-cell *matCellDef="let element">
                          <span (click)="executionAct(element.botId,element.sourceType)"   matTooltip="Start Bot">
                            <li class="fa fa-play text-success" ></li>
                          </span>&nbsp;
                          <!-- <span (click)="pauseBot(element.botId)"  matTooltip="Pause Bot">
                            <i class="fa fa-pause "  aria-hidden="true" ></i> &nbsp;&nbsp;
                          </span>
                          <span (click)="resumeBot(element.botId)"  matTooltip="Resume Bot" >
                            <i class="fa fa-play-circle" aria-hidden="true"></i> &nbsp;&nbsp;
                          </span> -->
                          <span (click)="stopBot(element.botId)"  matTooltip="Stop Bot">
                          <i class="fa fa-stop text-danger" aria-hidden="true"></i> &nbsp;
                          </span >
                          <span>
                              <button (click)="SelectSLACon(element)" matTooltip="SLA Configuration">
                                  <i class="fa fa-cog" aria-hidden="true"></i></button>
                            </span>
                      </td>
                  </ng-container>
                  <ng-container matColumnDef="Schedule">
                      <th mat-header-cell *matHeaderCellDef>Schedule</th>
                      <td mat-cell *matCellDef="let element" class=" text-center" >
                          <span (click)="openscheduler(element)" matTooltip="Scheduler" style="cursor: pointer;margin-right: 25px;">
                          <i class="fa fa-calendar text-primary"  aria-hidden="true"></i>
                        </span>
                      </td>
                  </ng-container>
                  <ng-container matColumnDef="Logs">
                      <th mat-header-cell *matHeaderCellDef >Logs </th>
                      <td mat-cell *matCellDef="let element">
                        <a class="text-primary text-center clickable" *ngIf="element.sourceType=='EPSoft'" matTooltip="View Logs" (click)="viewlogdata(element.botId,element.version)">View</a>
                        <a class="text-primary text-center clickable" *ngIf="element.sourceType=='UiPath'" matTooltip="View Logs" (click)="getuipathlogs(element.botName)">View</a>
                        <a class="text-primary text-center clickable" *ngIf="element.sourceType=='BluePrism'" matTooltip="View Logs" (click)="getBluePrismlogs(element.botName)">View</a>
                      </td>
                  </ng-container>
                  <ng-container matColumnDef="Smoke_Test">
                    <th mat-header-cell *matHeaderCellDef >Smoke Test</th>
                    <td mat-cell *matCellDef="let element">
                      <button class="btn btn-xs btn-primary" (click)="runsmoketest(element.botId)">
                        Run Test
                      </button>
                    </td>
                </ng-container>
                  <ng-container matColumnDef="Loading">
                      <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="9">
                          Loading
                      </td>
                  </ng-container>
                  <ng-container matColumnDef="noData">
                      <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="9">
                          No Records Found
                      </td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                  <tr class="row-highlight" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                  <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['Loading']" [ngClass]="{'hide':dataSource1!=null}"></tr>
                  <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide': !respdata1 && isTableHasData}"></tr>
              </table>
              <div [hidden]="isTableHasData" style="text-align:center;font-style:italic">
                  No Record Found
              </div>
              <mat-paginator #paginator1 [pageSize]="8" [showFirstLastButtons]="true"></mat-paginator>
            <!-- </mat-card> -->
          </div>
      </div>
    </div>
  
  
  
  <div [id]="viewlogid" class="rpa-modal">
      <div class="rpa-modal-content">
          <div class="rpa-modal-header">
              <span class="rpa-modal-close" (click)="viewlogclose()">&times;</span>
              <h4>Logs</h4>
          </div>
          <div class="container-fluid" style="background: white;" >
            <div class="container-fluid w-100" >
            <button (click)="viewlogdata(log_botid,log_version)" matTooltip="Refresh" style='float:right;padding:10px;' ><i class="fas fa-sync-alt text-dark" aria-hidden="true"></i>&nbsp; Refresh</button>  
              <div class="container-fluid w-100" >
                  <table mat-table [dataSource]="Viewloglist" #sort4="matSort" matSort style="width:100%;max-height: 300px;overflow-x:scroll;">
  
  
                      <!-- Run Id Column -->
                      <ng-container matColumnDef="run_id">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header style="width:15%"> Run ID </th>
                          <td mat-cell *matCellDef="let element" style="width:15%">
                              <button><a style="color:blue; text-decoration: underline;" (click)="ViewlogByrunid(element.run_id)">{{element.run_id}}</a></button>
                          </td>
                      </ng-container>
  
                      <!-- Version Column -->
                      <ng-container matColumnDef="version">
                          <th mat-header-cell *matHeaderCellDef style="width:15%"> Version </th>
                          <td mat-cell *matCellDef="let element" style="width:15%">
                              <span *ngIf="element.version!=null">V{{element.version}}</span>
                              <span *ngIf="element.version == undefined">-</span>
                          </td>
                      </ng-container>
  
                      <!-- Start Date Column -->
                      <ng-container matColumnDef="start_date">
                          <th mat-header-cell *matHeaderCellDef> Start Date </th>
                          <td mat-cell *matCellDef="let element">
                              <span *ngIf="element.start_date!=null">{{element.start_date  | date:'EEE MMM d, yyyy' }} {{element.start_time}}</span>
                              <span *ngIf="element.start_date == undefined">-</span>
                          </td>
                      </ng-container>
  
                      <!-- End Date Column -->
  
                      <ng-container matColumnDef="end_date">
                          <th mat-header-cell *matHeaderCellDef> End Date </th>
                          <td mat-cell *matCellDef="let element">
                              <span *ngIf="element.end_date!=null">{{element.end_date  | date:'EEE MMM d, yyyy'}} {{element.end_time}}</span>
                              <span *ngIf="element.end_date == undefined">-</span>
                          </td>
                      </ng-container>
  
                      <ng-container matColumnDef="bot_status">
                          <th mat-header-cell *matHeaderCellDef>Status</th>
                          <td mat-cell *matCellDef="let element">
                              <!--<span *ngIf="element.bot_status!=null">
                                <span *ngIf="element.bot_status=='Running'" class="text-primary" ><span class="fa fa-spinner fa-spin"></span>&nbsp;<span>{{element.bot_status}}</span></span>
  
                              <span *ngIf="element.bot_status=='Success'" class="text-success"><span><li class="fa fa-check"></span>&nbsp;<span>{{element.bot_status}}</span></span>
  
                              <span *ngIf="element.bot_status=='New'" class="text-primary"><span><img src="../../../../assets/images/RPA/newicon.png" style="filter: none; width: 20px;"></span>&nbsp;<span>{{element.bot_status}}</span></span>
  
                              <span *ngIf="element.bot_status=='Failure'" class="text-danger"><span><li class="fa fa-times"></span>&nbsp;<span>{{element.bot_status}}</span></span>
                              </span>-->
                              <span *ngIf="element.bot_status=='Running'" class="text-primary" ><span><img src="../../../../assets/images/RPA/DotSpin.gif" style="filter: none; width: 19px;"></span>&nbsp;{{element.bot_status}}</span>
  
                          <span *ngIf="element.bot_status=='Success'" class="text-success"><span><li class="fa fa-check-circle"style="font-size:19px"></span>&nbsp;<span>{{element.bot_status}}</span></span>
  
                          <span *ngIf="element.bot_status=='Failure'" class="text-danger"><span><li class="fa fa-times-circle" style="font-size:19px"></span>&nbsp;<span>{{element.bot_status}}</span></span>
                          <!--<img src="../../../../assets/images/RPA/newicon.png" style="filter: none; width: 20px;">-->
                          <!--<span *ngIf="element.bot_status=='New'" class="text-primary"><span><img src="../../../../assets/images/RPA/userobot.png" style="filter: none; width: 19px;"></span>&nbsp;<span>{{element.bot_status}}</span></span>-->
                          <span *ngIf="element.bot_status=='New'" class="text-primary"><span style="background-color:#0062cf;border-radius: 50%;color:white;padding-right:5px;padding-left:4px;padding-top:5px;padding-bottom:5px;font-size:10px;text-align: center;align-content: center;align-items: center;"><!--<img src="../../../../assets/images/RPA/userobot.png" style="filter: none; width: 19px;">--><i class="fas fa-robot text-light"></i></span>&nbsp;<span>{{element.bot_status}}</span></span>
  
                          <span *ngIf="element.bot_status=='Stop'" class="text-danger"><span><li class="fas fa-stop-circle" style="font-size: 19px;"></span>&nbsp;<span>{{element.bot_status}}</span></span>
                              <span *ngIf="element.bot_status == undefined">-</span></td>
                      </ng-container>
  
                      <ng-container matColumnDef="noData">
                          <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="7">
                              No Records Found
                          </td>
                      </ng-container>
  
                      <tr mat-header-row *matHeaderRowDef="displayedColumns4; sticky: true"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns4;"></tr>
                      <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide': !respdata1}"></tr>
                  </table>
                  <mat-paginator #paginator4 [pageSize]="5" [showFirstLastButtons]="true"></mat-paginator>
              </div>
            </div>
          </div>
      </div>
  </div>
  <div [id]="viewlogid1" class="rpa-modal">
      <div class="rpa-modal-content">
          <div class="rpa-modal-header">
              <span class="rpa-modal-close" (click)="viewlogclose1()">&times;</span>
              <h4>Logs</h4>
          </div>
  
          <div class="logs-container">
            <button (click)="back()" matTooltip="Back" style='float:right;margin-top:10px;'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <i class="fa fa-arrow-left" aria-hidden="true"></i>
            </button>
            <button (click)="ViewlogByrunid(botrunid)" matTooltip="Refresh" style='float:right;margin-top:10px;'>
              <i class="fas fa-sync-alt" aria-hidden="true"></i>
            </button>
              <table mat-table [dataSource]="logbyrunid" #sort5="matSort" matSort style="width:100%;">
  
                  <!-- Task Name Column -->
                  <ng-container matColumnDef="task_name">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header style="width:18%"> Task Name </th>
                      <td mat-cell *matCellDef="let element" style="width:18%">
                          <span *ngIf="element.task_name!=null" [matTooltip]="element.task_name">{{(element.task_name.length > 15) ? ((element.task_name).slice(0, 15) + '...') : element.task_name}}</span>
                          <span *ngIf="element.task_name == undefined">-</span>
                      </td>
                  </ng-container>
  
  
                  <!-- Start date Column -->
                  <ng-container matColumnDef="start_date">
                      <th mat-header-cell *matHeaderCellDef style="width:18%"> Start Date </th>
                      <td mat-cell *matCellDef="let element" style="width:18%">
                          <span *ngIf="element.start_date != null">{{element.start_date.split('T')[0]  | date:'EEE MMM d, yyyy'}}, {{element.start_time.slice(11,19)}}</span>
                          <span *ngIf="element.start_date == undefined">-</span>
                      </td>
                  </ng-container>
  
                  <!-- End Date Column -->
                  <ng-container matColumnDef="end_date">
                      <th mat-header-cell *matHeaderCellDef style="width:18%"> End Date </th>
                      <td mat-cell *matCellDef="let element" style="width:18%">
                          <span *ngIf="element.end_date != null">{{element.end_date.split('T')[0] | date:'EEE MMM d, yyyy'}}, {{element.end_time.slice(11,19)}}</span>
                          <span *ngIf="element.end_date == undefined">-</span>
                      </td>
                  </ng-container>
  
  
                                  <!-- Status Column -->
                  <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef style="width:10%">Status</th>
                    <td mat-cell *matCellDef="let element" style="width:10%">
                       <!-- <span *ngIf="element.status!=null">
                          <span *ngIf="element.status=='Running'" class="text-primary" ><span class="fa fa-spinner fa-spin"></span>&nbsp;<span>{{element.status}}</span></span>
  
                        <span *ngIf="element.status=='Success'" class="text-success"><span><li class="fa fa-check"></span>&nbsp;<span>{{element.status}}</span></span>
  
                        <span *ngIf="element.status=='New'" class="text-primary"><span><img src="../../../../assets/images/RPA/newicon.png" style="filter: none; width: 20px;"></span>&nbsp;<span>{{element.status}}</span></span>
  
                        <span *ngIf="element.status=='Failure'" class="text-danger"><span><li class="fa fa-times"></span>&nbsp;<span>{{element.status}}</span></span>
                        </span>-->
  
                        <span *ngIf="element.status=='Running'" class="text-primary" ><span><img src="../../../../assets/images/RPA/DotSpin.gif" style="filter: none; width: 19px;"></span>&nbsp;{{element.status}}</span>
  
                          <span *ngIf="element.status=='Success'" class="text-success"><span><li class="fa fa-check-circle"style="font-size:19px"></span>&nbsp;<span>{{element.status}}</span></span>
  
                          <span *ngIf="element.status=='Failure'" class="text-danger"><span><li class="fa fa-times-circle" style="font-size:19px"></span>&nbsp;<span>{{element.status}}</span></span>
                          <!--<img src="../../../../assets/images/RPA/newicon.png" style="filter: none; width: 20px;">-->
                          <!--<span *ngIf="element.status=='New'" class="text-primary"><span><img src="../../../../assets/images/RPA/userobot.png" style="filter: none; width: 19px;"></span>&nbsp;<span>{{element.status}}</span></span>-->
                          <span *ngIf="element.status=='New'" class="text-primary"><span style="background-color:#0062cf;border-radius: 50%;color:white;padding-right:5px;padding-left:4px;padding-top:5px;padding-bottom:5px;font-size:10px;text-align: center;align-content: center;align-items: center;"><!--<img src="../../../../assets/images/RPA/userobot.png" style="filter: none; width: 19px;">--><i class="fas fa-robot text-light"></i></span>&nbsp;<span>{{element.status}}</span></span>
  
                          <span *ngIf="element.status=='Stop'" class="text-danger"><span><li class="fas fa-stop-circle" style="font-size: 19px;"></span>&nbsp;<span>{{element.status}}</span></span>
  
  
                        <span *ngIf="element.status == undefined">-</span></td>
                  </ng-container>
  
  
  
                  <!-- Error Info Column -->
                  <ng-container matColumnDef="error_info">
                      <th mat-header-cell *matHeaderCellDef> Error Info </th>
                      <td mat-cell *matCellDef="let element">
                          <span *ngIf="element.error_info!=null && element.error_info != 'NA'" [matTooltip]="element.error_info">{{(element.error_info.length > 30) ? ((element.error_info).slice(0, 30) + '...') : element.error_info}}</span>
                          <span *ngIf="element.error_info == undefined ||element.error_info == 'NA' ">-</span></td>
                  </ng-container>
  
                  <ng-container matColumnDef="noData">
                      <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="7">
                          No Records Found
                      </td>
                  </ng-container>
  
                  <tr mat-header-row *matHeaderRowDef="displayedColumns5; sticky: true"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns5;"></tr>
                  <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide': !respdata2}"></tr>
              </table>
              <mat-paginator #paginator5 [pageSize]="5" [showFirstLastButtons]="true"></mat-paginator>
          </div>
      </div>
  </div>
  
  
  <br><br>
  </div>
  
  
  <div *ngIf="popup">
      <div id='sch' class="rpa-modal" style="display:block">
          <div class="rpa-modal-content">
              <div class="rpa-modal-header">
                  <span class="rpa-modal-close" (click)="close()">&times;</span>
                  <h4>Scheduler</h4>
              </div>
              <div class="rpa-modal-body">
                  <app-so-scheduler [data]="schdata" id="Scheduler"></app-so-scheduler>
              </div>
          </div>
      </div>
  </div>
  
  
  
  
  
  
  <div id="uipathlogs" class="rpa-modal">
    <div class="rpa-modal-content">
        <div class="rpa-modal-header">
            <span class="rpa-modal-close" (click)="viewuipathlogclose()">&times;</span>
            <h4>Logs</h4>
        </div>
        <div class="container-fluid" style="background: white;" >
          <button (click)="getuipathlogs(uipathbotName)" matTooltip="Refresh" style='float:right;margin-top:10px;' ><i class="fas fa-sync-alt text-dark" aria-hidden="true"></i></button>
          <br>
  
            <div class="container-fluid w-100" >
                <table mat-table [dataSource]="uipathlogs" #sort6="matSort" matSort style="width:100%;max-height: 300px;overflow-x:scroll;">
  
  
                    <!-- Run Id Column -->
                    <ng-container matColumnDef="ReleaseName">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="width:15%">Process Name</th>
                        <td mat-cell *matCellDef="let element" style="width:15%">
                           {{(element.ReleaseName.length > 15) ? ((element.ReleaseName).slice(0, 15) + '...') : element.ReleaseName}}
                        </td>
                    </ng-container>
  
                    <!-- Version Column -->
                    <ng-container matColumnDef="StartTime">
                        <th mat-header-cell *matHeaderCellDef style="width:15%"> Start Time </th>
                        <td mat-cell *matCellDef="let element" style="width:15%">
                            <span *ngIf="element.EndTime!=null">{{element.StartTime   | date:'EEE MMM d, yyyy, HH:MM'}}</span>
                        </td>
                    </ng-container>
  
                    <ng-container matColumnDef="EndTime">
                      <th mat-header-cell *matHeaderCellDef style="width:15%"> End Time </th>
                      <td mat-cell *matCellDef="let element" style="width:15%">
                          <span *ngIf="element.EndTime!=null">{{element.EndTime   | date:'EEE MMM d, yyyy, HH:MM'}}</span>
                      </td>
                  </ng-container>
                    <!-- End Date Column -->
                    <ng-container matColumnDef="State">
                        <th mat-header-cell *matHeaderCellDef>Status</th>
                        <td mat-cell *matCellDef="let element">
                            <span *ngIf="element.State!=null">
                              <span class="text-success" *ngIf="element.State=='Successful'">
                                <i class="fa fa-check-circle"></i> &nbsp;{{element.State}}
                              </span>
                              <span class="text-danger" *ngIf="element.State=='Stopped'">
                                <i class="fa fa-stop-circle"></i>&nbsp;{{element.State}}
                              </span>
                              <span class="text-warning" *ngIf="element.State=='Pending'">
                                <i class="fa fa-clock"></i>&nbsp;{{element.State}}
                              </span>
  
                              <span class="text-danger" *ngIf="element.State=='Faulted'">
                                <i class="fa fa-times-circle"></i>&nbsp;{{element.State}}
                              </span>
  
                            </span>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="Info">
                      <th mat-header-cell *matHeaderCellDef>Info</th>
                      <td [matTooltip]="element.Info" placement="bottom" mat-cell *matCellDef="let element">
                          <span *ngIf="element.Info!=null">
                            {{(element.Info.length > 30) ? ((element.Info).slice(0, 70) + '...') : element.Info}}
                          </span>
                          <span *ngIf="element.Info==null">
                            -
                          </span>
                      </td>
                  </ng-container>
  
  
  
                    <tr mat-header-row *matHeaderRowDef="displayedColumns6; sticky: true"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns6;"></tr>
               </table>
                <mat-paginator #paginator6 [pageSize]="5" [showFirstLastButtons]="true"></mat-paginator>
            </div>
        </div>
    </div>
  </div>
  
  <div id="divblueprismlogs" class="rpa-modal">
      <div class="rpa-modal-content">
          <div class="rpa-modal-header">
              <span class="rpa-modal-close" (click)="viewblueprismlogclose()">&times;</span>
              <h4>BluePrism Logs</h4>
          </div>
          <div class="container-fluid" style="background: white;" >
            <div class="container-fluid w-100" >
              <button (click)="getBluePrismlogs(blueprismbotname)" matTooltip="Refresh" style='float:right;margin-top:10px;' ><i class="fas fa-sync-alt text-dark" aria-hidden="true"></i> &nbsp;Refresh</button>
              <div class="container-fluid w-100" >
                  <table mat-table [dataSource]="blueprimslogs" #sort7="matSort" matSort style="width:100%;max-height: 300px;overflow-x:scroll;">
  
  
                      <!-- Run Id Column -->
                      <ng-container matColumnDef="bluePrismBotSessionid">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header  style="width:320px;">Session Id </th>
                          <td mat-cell *matCellDef="let element" [matTooltip]="element.bluePrismBotSessionid" style="width:320px;">
                            <span *ngIf="element.bluePrismBotSessionid != null">{{(element.bluePrismBotSessionid.length > 30) ? ((element.bluePrismBotSessionid).slice(0, 30) + '...') : element.bluePrismBotSessionid}}
                            </span>
                            <span *ngIf="element.bluePrismBotSessionid == null">-</span>
                          </td>
                      </ng-container>
  
                       <!-- Start Date Column -->
                       <ng-container matColumnDef="startTimeStamp">
                          <th mat-header-cell *matHeaderCellDef style="width:210px;">Start Time</th>
                          <td mat-cell *matCellDef="let element" style="width:210px;">
                              <span *ngIf="element.startTimeStamp != null">{{element.startTimeStamp | date:'medium':'+0000'}}</span>
                              <span *ngIf="element.startTimeStamp == null">-</span>
                          </td>
                      </ng-container>
  
                      <!-- Start Date Column -->
                      <ng-container matColumnDef="endTimeStamp">
                          <th mat-header-cell *matHeaderCellDef style="width:210px;">End Time</th>
                          <td mat-cell *matCellDef="let element" style="width:210px;">
                            <span *ngIf="element.endTimeStamp != null">{{element.endTimeStamp | date:'medium':'+0000'}}</span>
                            <span *ngIf="element.endTimeStamp == null">-</span>
                          </td>
                      </ng-container>
  
                      <!-- End Date Column -->
  
                      <ng-container matColumnDef="status">
                          <th mat-header-cell *matHeaderCellDef style="width:125px;">Status</th>
                          <td mat-cell *matCellDef="let element" style="width:125px;" [matTooltip]="element.status">
                            <span *ngIf="element.status != null">
                              <span style="text-align: center;" *ngIf="element.status=='Running'" class="text-primary" ><span><img src="../../../../assets/images/RPA/DotSpin.gif" style="filter: none; width: 19px;"></span>&nbsp;{{element.status}}</span>
  
                        <span style="text-align: center;" *ngIf="element.status=='Completed'" class="text-success"><span><li class="fa fa-check-circle"style="font-size:19px"></span>&nbsp;<span>{{element.status}}</span></span>
  
                        <span style="text-align: center;" *ngIf="element.status=='Failed'" class="text-danger"><span><li class="fa fa-times-circle" style="font-size:19px"></span>&nbsp;<span>{{element.status}}</span></span>
                        </span>
                        <span *ngIf="element.status == null">-</span>
                          </td>
                      </ng-container>
  
                      <ng-container matColumnDef="error">
                        <th mat-header-cell *matHeaderCellDef>Error</th>
                        <td mat-cell *matCellDef="let element" [matTooltip]="element.error">
                            <span *ngIf="element.error != null" >{{(element.error.length > 65) ? ((element.error).slice(0, 65) + '...') : element.error}}</span>
                            <span *ngIf="element.error == null" >-</span>
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="noData">
                      <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="11">
                          No Records Found 
                      </td>
                  </ng-container>  
  
                      <tr mat-header-row *matHeaderRowDef="displayedblueprismcolums; sticky: true"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedblueprismcolums;"></tr>
                      <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide': blueplogsdata }"></tr>
                 </table>
                  <mat-paginator #paginator7 [pageSize]="5" [showFirstLastButtons]="true"></mat-paginator>
              </div>
            </div>
          </div>
      </div>
    </div>
   <div id='SLAConfig_overlay' class="rpa-modal" >
      <div class="rpa-modal-content">
          <div class="rpa-modal-header">
              <span class="rpa-modal-close" (click)="SLAclose_SO_bot()">&times;</span>
              <h4>SLA Configuration</h4>
          </div>
          <div class="container">
              <form [formGroup]="insertslaForm_so_bot" (ngSubmit)="savedata_SO_bot()">
                  <div class="row">
                      <!--<div class="col-md-3 formelement">
                        <label for="processName">Process Name<span style="color:red">*</span></label>
                        <input type="text" class="form-control data" formControlName="processName" #processName value="" placeholder="Enter Process Name">
                        <span *ngIf="(insertslaForm_so_bot.get('processName').invalid && insertslaForm_so_bot.get('processName').touched) && !insertslaForm_so_bot.controls['processName'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">Required Process Name*</span>
                        <div *ngIf="insertslaForm_so_bot.controls['processName'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">
                            Maximum of 50 characters
                        </div>
                      </div>-->
                      <div class="col-md-3 formelement">
                          <label for="botName">Bot Name<span style="color:red">*</span></label>
                          <input type="text" class="form-control data" formControlName="botName" value="" placeholder="Enter Bot Name">
                          <span *ngIf="(insertslaForm_so_bot.get('botName').invalid && insertslaForm_so_bot.get('botName').touched) && !insertslaForm_so_bot.controls['botName'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">Required Bot Name*</span>
                          <!--<div *ngIf="insertslaForm_so_bot.controls['botName'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">
                              Maximum of 50 characters
                          </div>-->
                      </div>
                      <div class="col-md-3 formelement">
                          <label for="botSource">Bot Source<span style="color:red">*</span></label>
                          <input type="text" class="form-control data" formControlName="botSource"  value="" placeholder="Enter Bot Source">
                          <span *ngIf="(insertslaForm_so_bot.get('botSource').invalid && insertslaForm_so_bot.get('botSource').touched) && !insertslaForm_so_bot.controls['botSource'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">Required Bot Source*</span>
                          <!--<div *ngIf="insertslaForm_so_bot.controls['botSource'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">
                              Maximum of 50 characters
                          </div>-->
                      </div>
                      <div class="col-md-3 formelement">
                          <label for="taskOwner">Task Owner<span style="color:red">*</span></label>
                          <input type="text" maxlength="51" class="form-control data" formControlName="taskOwner"  value="" placeholder="Enter Connection Name">
                          <span *ngIf="(insertslaForm_so_bot.get('taskOwner').invalid && insertslaForm_so_bot.get('taskOwner').touched) && !insertslaForm_so_bot.controls['taskOwner'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">Required Task Owner*</span>
                          <!--<div *ngIf="insertslaForm_so_bot.controls['taskOwner'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">
                              Maximum of 50 characters
                          </div>-->
                      </div>
                      <div class="col-md-3 formelement">
                        <label for="slaConfigId">SLA Breach Limit
                           <!-- <span style="color:red">*</span> -->
                         </label>
                          <input type="number" style="width:100px" min=0 max=60 maxlength="2" formControlName="slaConfigId"  onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data"   value="" placeholder="00">
  
                          <!-- <input type="text" maxlength="2" onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data"  #slaConfigId value="" placeholder="MM">
                          <span *ngIf="(insertslaForm_so_bot.get('slaConfigId').invalid && insertslaForm_so_bot.get('slaConfigId').touched) && !insertslaForm_so_bot.controls['slaConfigId'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">Required SLA Configuration*</span> -->
                          <!--<div *ngIf="insertslaForm_so_bot.controls['slaConfigId'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">
                              Maximum of 2 characters
                          </div>  -->
                        </div>
                  </div>
                  <div class="row">
                  <!-- <div class="col-md-3 formelement">
                    <label for="breachAlerts">Breach Actual Alert<span style="color:red">*</span></label>
                    <select class="form-control"  value="" formControlName="breachAlerts">
                        <option value="">-- Select Breach Actual Alerts --</option>
                        <option value="Error">Error</option>
                        <option value="Warning">Warning</option>
                        <option value="All">All</option>
                      </select>
                    <span *ngIf="(insertslaForm_so_bot.get('breachAlerts').invalid && insertslaForm_so_bot.get('breachAlerts').touched) && !insertslaForm_so_bot.controls['breachAlerts'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">Required Breach Actual Alert*</span> -->
                    <!--<div *ngIf="insertslaForm_so_bot.controls['breachAlerts'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">
                        Maximum of 50 characters
                    </div>-->
                <!-- </div> -->
                      <div class="col-md-2 formelement">
                        <label for="thresholdLimit">Threshold Limit 
                           <!-- <span style="color:red">*</span> -->
                         </label>
                          <input type="number" style="width:100px" min=0 max=60 onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="thresholdLimit"  value="" maxlength="2" placeholder="00">
                          <span *ngIf="(insertslaForm_so_bot.get('thresholdLimit').invalid && insertslaForm_so_bot.get('thresholdLimit').touched) && !insertslaForm_so_bot.controls['thresholdLimit'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">Required Threshold Limit*</span>
                      </div>
  
                      <div class="col-md-2 formelement">
                          <label for="totalRetries">Total Retries</label>
                          <input type="number" style="width:100px" min=0 max=10 onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="totalRetries"  value="" placeholder="0">
                          <!--<span *ngIf="(insertslaForm_so_bot.get('totalRetries').invalid && insertslaForm_so_bot.get('totalRetries').touched) && !insertslaForm_so_bot.controls['totalRetries'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">Required Breach Actual Alert*</span>
                          <div *ngIf="insertslaForm_so_bot.controls['totalRetries'].hasError('maxlength')" style="color:red" class="fa fa-info-circle errspan">
                              Maximum of 50 characters
                          </div>-->
                      </div>
                      <div class="col-md-2 formelement">
                          <label for="retriesInterval">Retry Interval</label>
                          <input type="number"  maxlength="2" style="width:100px" min=0 max=60 onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="retriesInterval"  value="" placeholder="00">
                          <!-- <span *ngIf="insertslaForm_so_bot.get('retriesInterval').invalid && insertslaForm_so_bot.get('retriesInterval').touched" style="color:red" class="fa fa-info-circle errspan">Required Retries Interval*</span> -->
                      </div>
  
                      <div class="col-md-2 formelement">
                        <label for="notificationType">Notificaion Type<span style="color:red">*</span></label><br>
                        <input type="checkbox" formControlName="email" class="emailcheck" id="emailcheck" >
                         <label class="lbl_chk_cls"  for="emailcheck">E-mail</label> &nbsp;
                        <input type="checkbox" class="smscheck" formControlName="sms"  id="smscheck">
                         <label class="lbl_chk_cls" for="smscheck">SMS</label>
                    </div>
                  </div>
                  <div class="row">
  
                    <!--<div class="col-md-3 formelement">
                      <label for="expectedEDate">Expected Execution Time in  Minutes</label>
                      <input type="text" maxlength="2" onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="expectedEDate" #expectedEDate value="" placeholder="MM">-->
                      <!--<div class="row">
                          <div class="col-md-6 formelement">
                            <input type="date" [value]="expectedDate" [min]="expectedDate" formControlName="expectedDate">
                          </div>
                          <div class="col-md-6 formelement">
                            <ngx-timepicker-field style="line-height: 0.928571;" [controlOnly]="true" [defaultTime]="'23:11'" [format]="24" formControlName="expectedTime"></ngx-timepicker-field>
                          </div>
                      </div> -->
                    <!--</div>-->
                  </div>
                  <!--<div class="row">
                    <div class="col-md-3 formelement">
                        <label for="cascadingImpact">Cascading Impact</label> &nbsp;&nbsp;&nbsp;
                        <mat-slide-toggle style="height:20px;vertical-align: middle !important;" (change)="cascadingImp()" class="example-margin" color="primary"
                        formControlName="cascadingImpact" tooltip="Cascading Impact" placement="bottom">
                        </mat-slide-toggle>
                    </div>
                    <div class="col-md-3 formelement" *ngIf="cascadingImpactbtn == true">
                      <label for="systemImpacted">System Impacted</label>
                      <input type="text" maxlength="51" class="form-control data" formControlName="systemImpacted" #systemImpacted value="" placeholder="Enter system Impacted">
                      <span *ngIf="insertslaForm_so_bot.get('systemImpacted').invalid && insertslaForm_so_bot.get('systemImpacted').touched" style="color:red" class="fa fa-info-circle errspan">Required System Impacted*</span>
                  </div>
  
                  </div>-->
                  <!--<div class="row">
  
                  </div>-->
                  <div class="row" >
                      <div class="col-md-12 formelement">
                          <input type="button" class="btn btn-primary" value="Save" (click)="slaalerts()" >
                          <input type="button" class="btn btn-primary" value="Reset" (click)="resetsla()">
                      </div>
                  </div>
                  <br><br>
              </form>
          </div>
      </div>
  </div>
