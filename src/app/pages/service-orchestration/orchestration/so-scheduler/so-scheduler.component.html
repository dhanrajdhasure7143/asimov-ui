<div class="container-fluid">
    <div class="row">
        <div class="col-md-6 row">
            <br>
            <div class="col-md-12">
                <mat-form-field>
                    <mat-label>Select Timezone</mat-label>
                    <mat-select [(ngModel)]="timezone">
                        <mat-option *ngFor="let timeZone of timesZones" [value]="timeZone">
                            {{timeZone}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-12">


                <cron-editor #cronEditorDemo [(cron)]="cronExpression" [disabled]="isCronDisabled" [(options)]="cronOptions">Cron here...
                </cron-editor>


                <br>

            </div>
            <div class="col-md-3">
                <mat-form-field appearance="fill" style="width:100%">
                    <mat-label>Start date</mat-label>
                    <input matInput [(ngModel)]="startdate" [matDatepicker]="picker1" [min]="startdate" (dateChange)="enddate=startdate">
                    <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                    <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>
            </div>

            <div class="col-md-3 text-center">
                <br>
                <ngx-timepicker-field [controlOnly]="true" [defaultTime]="'23:11'" [format]="24" [(ngModel)]="starttime"></ngx-timepicker-field>
            </div>

            <div class="col-md-3">
                <mat-form-field appearance="fill" style="width:100%">
                    <mat-label>End date</mat-label>
                    <input matInput [(ngModel)]="enddate" [min]="startdate" [matDatepicker]="picker2">
                    <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
            </div>
            <div class="col-md-3 text-center">
                <br>
                <ngx-timepicker-field [controlOnly]="true" [defaultTime]="'23:11'" [format]="24" [(ngModel)]="endtime"></ngx-timepicker-field>
            </div>

            <div class="text-right" style="padding:10px">
                <button class="btn btn-primary eiap-btn" (click)="add_sch()">Add</button>
            </div>
            <br><br>
        </div>


        <div class="col-md-6 row">
            <div class="col-md-12">
                <br>
                <div class="text-right">
                    <span style="padding:5px">
                        <button [disabled]="!(flags.startflag)"   mat-mini-fab color="basic"   (click)="start_schedule()" >
                          <i class="fa fa-play"></i>
                        </button>
                      </span>
                    <span style="padding:5px">
                        <button [disabled]="!(flags.pauseflag)"   mat-mini-fab color="basic"   (click)="pause_schedule()">
                          <i class="fa fa-pause"></i>
                        </button>
                      </span>
                    <span style="padding:5px">
                        <button  [disabled]="!(flags.resumeflag)"   mat-mini-fab color="basic"   (click)="resume_schedule()">
                          <i class="fa fa-play-circle"></i>
                        </button>
                      </span>

                    <span style="padding:5px">
                       <button [disabled]="!(flags.stopflag)"   mat-mini-fab color="basic"   (click)="stop_schedule()">
                        <i class="fa fa-stop"></i>
                        </button>
                      </span>
                    <span style="padding:5px">
                      <button [disabled]="!(flags.deleteflag)"   mat-mini-fab color="basic"   (click)="delete_schedule()">
                        <i class="fa fa-trash"></i>
                      </button>
                    </span>
                </div>
                <br><br>
                
                <!--For Bot Schedule-->
                <div  *ngIf="botid!='' && botid !=undefined">
                <table class="table">
                    <thead>
                        <th class="text-center"><input type="checkbox" (click)="check_all($event)"></th>
                        <th>Schedule Interval</th>
                        <th>Timezone</th>
                        <th>Last Run</th>
                        <th>Next Run</th>
                        <th>Status</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let schedule of schedule_list | paginate: { itemsPerPage: 4,currentPage: q }">
                            <td class="text-center"><input type="checkbox" (click)="check_schedule($event,schedule.intervalId)" [checked]="schedule.check"></td>
                            <td>{{convertcron(schedule.scheduleInterval)}}</td>
                            <td>{{ schedule.timeZone}}</td>
                            <td>--</td>
                            <td>--</td>
                            <td>--</td>
                        </tr>
                    </tbody>
                </table>
                <pagination-controls (pageChange)="q = $event"></pagination-controls>
                </div>
                <!--For Process schedule-->
                <div  *ngIf="processid!='' && processid !=undefined">
                <table class="table">
                    <thead>
                        <th class="text-center"><input type="checkbox" (click)="check_all($event)"></th>
                        <th>Schedule Interval</th>
                        <th>Timezone</th>
                        <th>Last Run</th>
                        <th>Next Run</th>
                        <th>Status</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let schedule of schedule_list | paginate: { itemsPerPage: 4,currentPage: q }">
                            <td class="text-center"><input type="checkbox" (click)="check_schedule($event,schedule.intervalId)" [checked]="schedule.check"></td>
                            <td>{{convertcron(schedule.scheduleInterval)}}</td>
                            <td>{{ schedule.timezone}}</td>
                            <td>--</td>
                            <td>--</td>
                            <td>--</td>
                        </tr>
                    </tbody>
                </table>
                <pagination-controls (pageChange)="q = $event"></pagination-controls>
                </div>
                <div class="text-right">
                    <button class="btn btn-primary eiap-btn" (click)="saveschedule()">Save</button>
                </div>
            </div>
        </div>
    </div>
</div>
