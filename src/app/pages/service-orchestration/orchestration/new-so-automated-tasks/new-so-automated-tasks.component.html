<div class="so-sub-tab-content">

    <div class="">
        <div class="row">

            <div class="form-group leftfporm col-md-10 pl-0">
                <div id="autocategorysearch" class="col-md-3 pl-0">
                    <select class="rpa-control form-control" [(ngModel)]="selectedcategory" [disabled]="categaoriesList.length==1"
                        [value]="categaoriesList.length==1?categaoriesList[0].categoryId:''" (change)="applyFilter1($event.target.value)">
                        <option value="" disabled hidden>Select Process Group</option>
                        <option value="null" hidden disabled>Select Process Group</option>
                        <option [value]="" hidden disabled>Select Process Group</option>
                        <option [value]="null" hidden disabled>Select Process Group</option>
                        <option *ngFor="let category of categaoriesList" [value]="category.categoryId">{{category.categoryName}}
                        </option>
                    </select>
                </div>

                <div *ngIf="process_names!=undefined" id="autoprocesssearch" class="col-md-3 pl-0">
                    <select class="rpa-control form-control" [value]="selectedvalue" (change)="applyFilter($event.target.value)">
                        <option value="" disabled hidden>Select Process</option>
                        <option value="null" hidden disabled>Select Process</option>
                        <option [value]="" hidden disabled>Select Process</option>
                        <option [value]="null" hidden disabled>Select Process</option>
                        <option *ngFor="let process of selected_process_names" [selected]="process.processId==selectedvalue"
                            [value]="process.processId">{{process.processName}}
                        </option>
                    </select>
                </div>

                <div id="autoenvsearch" class="col-md-3 p-0">
                    <select class="rpa-control form-control" [(ngModel)]="selectedEnvironment">
                        <option value="" disabled hidden>Select Environment</option>
                        <option value="null" hidden disabled>Select Environment</option>
                        <option [value]="" hidden disabled>SSelect Environment</option>
                        <option [value]="null" hidden disabled>Select Environment</option>
                        <option *ngFor="let environment of environments" [value]="environment.environmentId">{{environment.environmentName}}
                        </option>
                    </select>
                </div>
                
                <div id="autoenvsearch" class="col-md-2 pr-0">
                    <select class="rpa-control form-control" name="executiontype" [(ngModel)]="selectedexecutiontype">
                        <option value="" hidden disabled>Execution Type</option>
                        <option *ngFor="let type of ExecutionTypearr" [value]="type.name">{{type.name}}
                    </select>
                </div>
                <!-- <div id="autoreset" class="comncl resecl">
    <button (click)="reset_all()" tooltip="Reset"><i class="fa fa-undo"></i></button>
    </div> -->
            </div>


            <div class="text-right roghtform col-md-2 pr-0">
                <!--<span style="padding:5px" id="autoStartProcess">
      <button  matTooltip="View Configuration"   mat-mini-fab color="basic" (click)="configuration()"  ><i  class="fas fa-cog" style="margin-right: -5px !important;"></i></button>
    </span>-->
                <button disabled *ngIf="selectedvalue==''" (click)="addtasks(addTask)"  pTooltip="Add Task" tooltipPosition="top">
                    <!-- <img src="../../../../../assets/images-n/gridicons/add-default.svg" class="testplus default-icon" alt=""/>
                    <img src="../../../../../assets/images-n/gridicons/add-hover.svg" class="testplus hover-icon" alt=""/> -->
                    <img src="../../../../../assets/images/RPA/icon_latest/new-dis.svg" class="testplus" alt=""/>
                </button>
                <button  *ngIf=" selectedvalue !==''"  (click)="addtasks(addTask)"  pTooltip="Add Task" tooltipPosition="top">
                    <img src="../../../../../assets/images/RPA/icon_latest/new-blue.svg" class="testplus" alt=""/>
                </button>
                <button (click)="reset_all()" id="autoreset"  pTooltip="Reset" tooltipPosition="top">
                    <!-- <img src="../../../../../assets/images-n/gridicons/reset-default.svg" class="testplus default-icon" alt="">
                    <img src="../../../../../assets/images-n/gridicons/reset-hover.svg" class="testplus hover-icon" alt=""> -->
                    <img src="../../../../../assets/images/RPA/icon_latest/reset-blue.svg" class="testplus" alt="">
                </button>
                <button disabled *ngIf="selectedvalue=='' || selectedEnvironment=='' || !(checkAssignTasks)" id="autoStartProcess"  (click)="startprocess()" pTooltip="Run Process" tooltipPosition="top">
                    <img src="../../../../assets/images/RPA/icon_latest/play.svg" alt="" class="testplus">
                    <!-- <span *ngIf="!(selectedvalue=='' || selectedEnvironment=='')" class="testtooltip">Run Process</span> -->
                </button>
                <button *ngIf="selectedvalue!='' && selectedEnvironment!='' && checkAssignTasks " id="autoStartProcess"  
                    (click)="startprocess()" pTooltip="Run Process" tooltipPosition="top">
                    <!-- <img src="../../../../../assets/images-n/gridicons/startbot-default.svg" alt="" class="testplus default-icon">
                    <img src="../../../../../assets/images-n/gridicons/startbot-hover.svg" alt="" class="testplus hover-icon"> -->
                    <img src="../../../../../assets/images/SO/play blue.svg" alt="" class="testplus">
                </button>
                <!-- <button *ngIf="selectedvalue!='' || selectedEnvironment!=''" id="autoStartProcess"  (click)="startprocess()">
      <img src="../../../../../assets/images/SO/play blue.svg" alt="" class="testplus">
      <span class="testtooltip">Run Process</span>
    </button> -->
                <!-- <span style="padding:5px">
        <button [disabled]="selectedvalue=='' || selectedEnvironment==''" matTooltip="Pause Process" mat-mini-fab color="basic" (click)="startprocess()"   title="Run Process"><i  class="fas fa-pause"></i></button>
      </span>
      -->

                <button disabled *ngIf="selectedvalue=='' || !(checkAssignTasks)" id="openScheduler" >
                  <img src="../../../../../assets/images/RPA/icon_latest/calendar.svg" alt="" class="testplus">
                
                </button>
                <button *ngIf="selectedvalue!='' && checkAssignTasks" id="openScheduler"  
                    (click)="startscheduler()" pTooltip="Open Scheduler" tooltipPosition="top">
                 <!-- <img src="../../../../../assets/images-n/gridicons/schedule-default.svg" alt="" class="testplus default-icon">
                 <img src="../../../../../assets/images-n/gridicons/schedule-hover.svg" alt="" class="testplus hover-icon"> -->
                 <img src="../../../../../assets/images/RPA/icon_latest/calendar-blue.svg" alt="" class="testplus">
                </button>

    <button disabled *ngIf="selectedvalue==''" id="autoViewLogs" >
      <img src="../../../../../assets/images/file.svg" alt="" class="testplus"> 
    </button>

    <button *ngIf="selectedvalue!=''" id="autoViewLogs"  (click)="getprocesslogs()" pTooltip="View Logs" tooltipPosition="top">
        <!-- <img src="../../../../../assets/images-n/gridicons/logs-default.svg" alt="" class="testplus default-icon">
        <img src="../../../../../assets/images-n/gridicons/logs-default.svg" alt="" class="testplus hover-icon"> -->
        <img src="../../../../../assets/images/SO/file blue.svg" alt="" class="testplus">
    </button>
            </div>

        </div>
        <div class="">
            <div class="orchestration-table-container">
                
                    <p-table  #dt [value]="responsedata" pDroppable (onRowReorder)="dropTable($event)"
                    [globalFilterFields]="['processName','taskName','createdBy','taskType','category','status']" [scrollable]="true"
                    [resizableColumns]="true" responsiveLayout="scroll" [reorderableColumns]="true">
                    <ng-template pTemplate="caption">
                        <div class="d-flex">
                            <span class="p-input-icon-right gridsearch">
                                <i class="pi pi-search"></i>
                                <input pInputText type="text" [(ngModel)]="searchValue" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder="Search" />
                              </span>
                            <button pButton label="Clear" class="p-button-outlined"  (click)="clear(dt)"></button>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header">
                            <tr>
                                <th style="flex: 0 0 3rem"></th>
                                <th *ngFor="let each of columnList" pSortableColumn="{{each.field}}" pReorderableColumn pResizableColumn>{{each.DisplayName}}
                                    <p-columnFilter *ngIf="each.ShowFilter && each.field != 'category'&& each.field != 'taskType'&& each.field != 'status'" [showAddButton]="false" [showOperator]="false" matchMode="contains" [showMatchModes]="false" [field]="each.field"
                                              display="menu" [showApplyButton]="false">
                                          <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                                              <input type="text" pInputText [ngModel]="value" (ngModelChange)="filter($event)" class="p-inputtext" placeholder="Search">
                                          </ng-template>
                                    </p-columnFilter>
              
                                    <p-columnFilter  *ngIf="each.ShowFilter && each.field == 'category'" [field]="each.field" matchMode="equals" [showMatchModes]="false" [showOperator]="false"
                                    [showAddButton]="false" display="menu" [showApplyButton]="false" [showClearButton]="true">
                                        <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                                            <p-dropdown [ngModel]="value" [options]="categaoriesList" (onChange)="filter($event.value)" 
                                                optionLabel="categoryName" optionValue="categoryName" placeholder="All">
                                            </p-dropdown>
                                        </ng-template>
                                    </p-columnFilter>
                                    <p-columnFilter  *ngIf="each.ShowFilter && each.field == 'taskType'" [field]="each.field" matchMode="equals" [showMatchModes]="false" [showOperator]="false"
                                        [showAddButton]="false" display="menu" [showApplyButton]="false" [showClearButton]="true">
                                        <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                                            <p-dropdown [ngModel]="value" [options]="['Automated','Human']" (onChange)="filter($event.value)" placeholder="All">
                                            </p-dropdown>
                                        </ng-template>
                                    </p-columnFilter>
                                    <p-columnFilter  *ngIf="each.ShowFilter && each.field == 'status'" [field]="each.field" matchMode="equals" [showMatchModes]="false" [showOperator]="false"
                                        [showAddButton]="false" display="menu" [showApplyButton]="false" [showClearButton]="true">
                                        <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                                            <p-dropdown [ngModel]="value" [options]="['New','Running','Success','Pending','Failure','Approved']" (onChange)="filter($event.value)" placeholder="All">
                                            </p-dropdown>
                                        </ng-template>
                                    </p-columnFilter>
                                    <p-sortIcon *ngIf="each.ShowFilter" [field]="each.field"></p-sortIcon>
                                  </th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-element let-index="rowIndex">
                            <tr [pReorderableRow]="index">
                                <td style="flex: 0 0 3rem">
                                    <span class="pi pi-bars" pReorderableRowHandle></span>
                                </td>
                                <td [pTooltip]="element.processName" tooltipPosition="top" pReorderableRowHandle>{{element.processName}}</td>
                                <td pReorderableRowHandle>
                                    <span *ngIf="element.taskName!=null">{{element.taskName}}</span>
                                        <!-- <span *ngIf="element.taskName!=null" [pTooltip]="element.taskName">{{(element.taskName.length >
                                            5) ? ((element.taskName).slice(0, 5) + '...') : element.taskName}}</span> -->
                                    <span *ngIf="element.taskName==null">-</span>
                                </td>
                                <td pReorderableRowHandle>{{element.createdBy}}</td>
                                <td>
                                    <span *ngIf="element.taskType=='Automated'">
                                        <select class="form-control" 
                                            (change)="changeTaskOwner($event.target.value)" [(ngModel)]="element.taskOwner"
                                            [value]="element.taskOwner">
                                            <option value="" hidden disabled>Select Task Owner</option>
                                            <option value="null" hidden disabled>Select Task Owner</option>
                                            <option value="undefined" hidden disabled>Select Task Owner</option>
                                            <option [value]="" hidden disabled>Select Task Owner</option>
                                            <option [value]="undefined" hidden disabled>Select Task Owner</option>
                                            <option [value]="null" hidden disabled>Select Task Owner</option>
                                            <option *ngFor="let user of humans_list" [value]="user.userId.userId">
                                                {{user.userId.firstName|titlecase}} {{user.userId.lastName|titlecase}}
                                            </option>
                                        </select>
                                    </span>
                                    <span *ngIf="element.taskType !='Automated'">-</span>
                                </td>
                                <td pReorderableRowHandle>
                                    <span *ngIf="element.taskType!=null">
                                        {{element.taskType}}
                                    </span>
                                    <span *ngIf="element.taskType==null">-</span>
                                </td>
                                <td pReorderableRowHandle>
                                    <span *ngIf="element.category!=null">{{element.category}}</span>
                                    <span *ngIf="element.category==null">-</span>
                                </td>
                                <td>
                                    <span *ngIf="element.taskType=='Bot' || element.taskType=='Automated'">
                                        <select class="form-control" [value]="element.sourceType"
                                            (change)="changesource($event.target.value,element.taskId)">
                                            <option [value]="null" disabled hidden>Select Bot Source</option>
                                            <option [value]="item" *ngFor="let item of botSource_list">{{item}}</option>
                                        </select>
                                    </span>
                                    <span *ngIf="element.taskType=='Human'">
                                        -
                                    </span>
                                </td>
                                <td>
                                    <span *ngIf="element.taskType=='Bot' || element.taskType=='Automated'">
                                        <span *ngIf="isbotloading=='loading'">
                                            Loading...
                                        </span>
                                        <span *ngIf="isbotloading=='Success'">
                                            <!-- <span
                                                *ngIf="element.sourceType==''||element.sourceType==undefined ||element.sourceType=='null'">-</span> -->
                    
                                            <!-- <span *ngIf="element.sourceType=='EPSoft'"> -->
                                            <span>
                                                <select class="form-control" 
                                                    [value]="element.botId | checkResource : bot_list : element.sourceType : element.taskType "
                                                    [id]="element.taskId+'__select'">
                                                    <option value="0" hidden selected>Select Bot</option>
                                                    <option [value]="null" disabled hidden>Select Bot</option>
                                                    <!-- <option value="0" disabled hidden>Select Bot</option> -->
                                                    <option *ngFor="let bot of (bot_list | BotlistbycatPipe : element.categoryId)"
                                                        [value]="bot.botId" [selected]="bot.botId == element.botId">{{bot.botName}}
                                                    </option>
                                                </select>
                                            </span>
                                            <!-- <span *ngIf="element.sourceType=='UiPath'">
                                                <span *ngIf="uiPathBotFlag==true">
                                                    <select class="form-control" style="width:200px;padding:0px"
                                                        [value]="(element.botId | checkResource : uipath_bots : element.sourceType : element.taskType) "
                                                        [id]="element.taskId+'__select'">
                                                        <option value="0" disabled hidden>Select Bot</option>
                                                        <option *ngFor="let bot of uipath_bots" [value]="bot.Key"
                                                            [selected]="bot.Key==element.botId">{{bot.ProcessKey}}</option>
                                                    </select>
                                                </span>
                                                <span *ngIf="uiPathBotFlag==false">Loading...</span>
                    
                                            </span>
                                            <span *ngIf="element.sourceType=='BluePrism'">
                                                <select class="form-control" style="width:200px;padding:0px" [value]="element.botId"
                                                    [id]="element.taskId+'__select'">
                                                    <option value="0" disabled hidden>Select Bot</option>
                                                    <option *ngFor="let bot of blueprismbots" [value]="bot.botName"
                                                        [selected]="bot.botName==element.botId">{{bot.botName}}</option>
                                                </select>
                                            </span> -->
                                        </span>
                                        <span *ngIf="isbotloading=='Error'">
                                            Error......
                                        </span>
                                    </span>
                                    <span *ngIf="element.taskType=='Human'">
                                        <span *ngIf="isHumanLoading=='Loading'">Loading...</span>
                                        <span *ngIf="isHumanLoading=='Success'">
                                            <select class="form-control"
                                                [value]="element.assignedUserId | checkResource : humans_list :'humans' : 'Human'"
                                                [id]="element.taskId+'__select'">
                                                <option value="0" hidden selected>Select Resource</option>
                                                <option *ngFor="let human of (humans_list | HumanlistbycatPipe : element.category )"
                                                [value]="human.userId.id" [selected]="human.userId.id == element.assignedUserId">{{human.userId.firstName|titlecase}}
                                                    {{human.userId.lastName|titlecase}} </option>
                                            </select>
                                        </span>
                                        <span *ngIf="isHumanLoading=='Failure'">Error</span>
                                    </span>
                                </td>
                                <td pReorderableRowHandle>
                                    <span>
                                        <!-- [pTooltip]="element.status" tooltipPosition="top" -->
                                        <span *ngIf="element.status!='null'" [id]="element.taskId+'__status'" class="d-flex align-items-center">
                                        <span class="statusbadge_nc" [ngStyle]="{'background-color':getColor(element.status)}"></span> {{element.status}}

                                            <!-- <span *ngIf="element.status=='Pending'" class="text-warning">
                                                <i class="fa fa-clock"></i>
                                            </span>
                    
                                            <span *ngIf="element.status=='Running' || element.status=='InProgress'" class="text-primary">
                                                <img src="../../../../assets/images/RPA/DotSpin.gif" class="testplus" alt="">
                                            </span>
                    
                                            <span *ngIf="(element.status=='Success' || element.status=='Executed') ">
                                                <img src="../../../../../assets/images/RPA/icon_latest/Success.svg" class="testplus" alt="">
                                            </span>
                    
                                            <span *ngIf="element.status=='Rejected' ">
                                                <img src="../../../../../assets/images/RPA/icon_latest/close-red.svg" class="testplus" alt="">
                                            </span>
                    
                                            <span *ngIf="element.status=='Approved' ">
                                                <img src="../../../../../assets/images/RPA/icon_latest/Success.svg" class="testplus" alt="">
                                            </span>
                    
                                            <span *ngIf="(element.status=='Failure' || element.status=='Failed')">
                                                <img src="../../../../../assets/images/RPA/icon_latest/close-red.svg" class="testplus" alt="">
                                            </span>
                    
                                            <span *ngIf="element.status=='New'" class="text-primary">
                                                <img src='../../../../../assets/images/RPA/newicon.png' class="testplus" alt="">
                                            </span>
                                            <span *ngIf="element.status=='Stop' || element.status=='Stopped'">
                                                <img src="../../../../../assets/images/RPA/stop_fail_icon.svg" class="testplus" alt="">
                                            </span>
                    
                                            <span *ngIf="element.status=='Paused' || element.status=='Pause'">
                                                <img src="../../../../../assets/images/SO/pause-circle.svg" class="testplus" alt=""/>
                                            </span>
                    
                                            <span *ngIf="element.status==null || element.status==''">
                                                <span>
                                                    <img src="../../../../../assets/images/SO/pause-circle.svg" class="testplus" alt="" />
                                                </span>--
                                            </span> -->
                                        </span>
                    
                                        <span *ngIf="element.status=='null'">-</span>
                                    </span>
                                </td>
                                <td>
                                    <div *ngIf="element.taskType=='Automated'" class="orchactions">
                                        <span>
                                            <button [disabled]="element.taskType=='Human' || element.taskType==null"
                                                [class]="(element.taskType=='Human' || element.taskType==null)?'undobtn':''"
                                                (click)="createtaskbotoverlay(element.taskId)" pTooltip="Create and Assign Resource" tooltipPosition="top">
                                                <img src="../../../../../assets/images-n/gridicons/add-default.svg" class="testplus default-icon" alt=""/>
                                                <img src="../../../../../assets/images-n/gridicons/add-hover.svg" class="testplus hover-icon" alt=""/>
                                                <!-- <img src="../../../../../assets/images/RPA/icon_latest/new-blue.svg" class="testplus" alt=""/> -->
                                            </button>
                                        </span>
                                        <span>
                                            <button (click)="assignbot(element.taskId, element.processId)"
                                                *ngIf="element.taskType == 'Automated'" pTooltip="Assign" tooltipPosition="top">
                                                <img src="../../../../../assets/images-n/gridicons/approve-default.svg" class="testplus default-icon" alt=""/>
                                                <img src="../../../../../assets/images-n/gridicons/approve-hover.svg" class="testplus hover-icon" alt=""/>
                                                <!-- <img src="../../../../../assets/images/SO/check-success.svg" class="testplus" alt=""/> -->
                                            </button>
                                            <button (click)="assignbot(element.taskId, element.processId)"
                                                *ngIf="element.taskType == 'Human'" pTooltip="Assign Resource" tooltipPosition="top">
                                                <img src="../../../../../assets/images-n/gridicons/approve-default.svg" class="testplus default-icon" alt=""/>
                                                <img src="../../../../../assets/images-n/gridicons/approve-hover.svg" class="testplus hover-icon" alt=""/>
                                                <!-- <img src="../../../../../assets/images/SO/check-success.svg" class="testplus" alt=""/> -->
                                            </button>
                                        </span>
                                        <span>
                                            <button (click)="resetbot(element)" pTooltip="Reset" tooltipPosition="top">
                                                <img src="../../../../../assets/images-n/gridicons/reset-default.svg" class="testplus default-icon" alt="" />
                                                <img src="../../../../../assets/images-n/gridicons/reset-hover.svg" class="testplus hover-icon" alt="" />
                                                <!-- <img src="../../../../../assets/images/RPA/icon_latest/repeat-blue.svg" class="testplus" alt="" /> -->
                                            </button>
                                        </span>
                                        <span>
                                            <button (click)="loadbotdatadesign(element.botId)" *ngIf="element.sourceType == 'EPSoft'"
                                                pTooltip="View Bot" tooltipPosition="top">
                                                <img src="../../../../../assets/images-n/gridicons/view-default.svg" class="testplus default-icon" alt=""/>
                                                <img src="../../../../../assets/images-n/gridicons/view-hover.svg" class="testplus hover-icon" alt=""/>
                                            </button>
                                            <button *ngIf="element.sourceType != 'EPSoft'" disabled class="undobtn">
                                                <img src="../../../../../assets/images/SO/eye-show dis.svg" class="testplus" alt=""/>
                                                <!-- <img src="../../../../../assets/images/Projects/eye-show-blue.svg"
                                                    class="testplus hover-img" /> -->
                                            </button>
                                            <button *ngIf="element.taskType !='Automated'" class="undobtn">
                                                <img src="../../../../../assets/images/Projects/eye-hide.svg" class="testplus" alt=""/>
                                            </button>
                    
                                        </span>
                                        <span>
                                            <button pTooltip="Delete Task" tooltipPosition="top" class="undobtn" (click)="delete(element.taskId)">
                                                <img src="../../../../../assets/images-n/gridicons/delete-default.svg" class="testplus default-icon" alt=""/>
                                                <img src="../../../../../assets/images-n/gridicons/delete-hover.svg" class="testplus hover-icon" alt=""/>
                                            </button>
                                        </span>
                                    </div>
                                    <div *ngIf="element.taskType=='Human'" class="orchactions">
                                        <span>
                                            <button [disabled]="element.taskType=='Human' || element.taskType==null"
                                                [class]="(element.taskType=='Human' || element.                taskType==null)?'undobtn':''"
                                                (click)="createtaskbotoverlay(element.taskId)" pTooltip="Create and Assign Resource" tooltipPosition="top">
                                                <img src="../../../../../assets/images/SO/plus dis.svg" class="testplus" alt=""/>
                                            </button>
                                        </span>
                                        <span>
                                            <button (click)="assignhuman(element)" pTooltip="Assign Resource" tooltipPosition="top">
                                                <img src="../../../../../assets/images-n/gridicons/approve-default.svg" class="testplus default-icon" alt=""/>
                                                <img src="../../../../../assets/images-n/gridicons/approve-hover.svg" class="testplus hover-icon" alt=""/>
                                                <!-- <img src="../../../../../assets/images/SO/check-success.svg" class="testplus" alt=""/> -->
                                            </button>
                                        </span>
                                        <span>
                                            <button (click)="resetbot(element)" pTooltip="Reset" tooltipPosition="top">
                                                <img src="../../../../../assets/images-n/gridicons/reset-default.svg" class="testplus default-icon" alt="" />
                                                <img src="../../../../../assets/images-n/gridicons/reset-hover.svg" class="testplus hover-icon" alt="" />
                                            </button>
                                        </span>
                                        <span>
                                            <button (click)="loadbotdatadesign(element.botId)"
                                                *ngIf="element.taskType =='Automated'||element.taskType =='Bot'" pTooltip="View Bot" tooltipPosition="top">
                                                <img src="../../../../../assets/images-n/gridicons/view-default.svg" class="testplus default-icon" alt=""/>
                                                <img src="../../../../../assets/images-n/gridicons/view-hover.svg" class="testplus hover-icon" alt=""/>
                                            </button>
                                            <button *ngIf="element.taskType !='Automated'">
                                                <img src="../../../../../assets/images/Projects/eye-hide.svg" class="testplus" alt=""/>
                                            </button>
                                        </span>
                                        <span>
                                            <button pTooltip="Delete Task" tooltipPosition="top" (click)="delete(element.taskId)">
                                                <img src="../../../../../assets/images-n/gridicons/delete-default.svg" class="testplus default-icon" alt="" />
                                                <img src="../../../../../assets/images-n/gridicons/delete-hover.svg" class="testplus hover-icon" alt="" />
                                            </button>
                                        </span>
                                    </div>
                                </td>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="emptymessage">
                            <tr>
                                <td style="justify-content: center;" colspan="7">No Records Found</td>
                            </tr>
                        </ng-template>
                    </p-table>
                
            </div>
        </div>
    </div>
</div>

 <!-- <table mat-table #automatedSort="matSort" matSort [dataSource]="dataSource2"   cdkDropList [cdkDropListData]="dataSource2" (cdkDropListDropped)="dropTable($event)" class=" RPA table" id="bmtable"  id="autotable">
    
                    
    
                        <ng-container matColumnDef="processName">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell1">Process Name</th>
                            <td mat-cell [matTooltip]="element.processName" *matCellDef="let element"  class="cell1">
                                {{(element.processName.length >10) ? ((element.processName).slice(0, 10) + '...') : element.processName}}</td>
                        </ng-container>
                    
                        <ng-container matColumnDef="taskName">
                            <th mat-header-cell mat-sort-header *matHeaderCellDef  class="cell2">Task</th>
                            <td mat-cell *matCellDef="let element"  class="cell2">
                                <span *ngIf="element.taskName!=null" [matTooltip]="element.taskName">{{(element.taskName.length > 5) ? ((element.taskName).slice(0, 5) + '...') : element.taskName}}</span>
                                <span *ngIf="element.taskName==null">---</span>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="createdBy">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header class="cell3">Process Owner</th>
                            <td mat-cell *matCellDef="let element" [matTooltip]="element.createdBy" class="cell3">
                            
                                {{(element.createdBy.length > 12) ? ((element.createdBy).slice(0, 12) + '...') : element.createdBy}}
                            </td>
                        </ng-container>
                    
                        <ng-container matColumnDef="taskOwner">
                            <td mat-cell *matCellDef="let element" class="cell4">
                                <span *ngIf="element.taskType=='Automated'">
                                    <select class="form-control" style="width:165px;padding:0px;"
                                        (change)="changeTaskOwner($event.target.value)" [(ngModel)]="element.taskOwner" [value]="element.taskOwner">
                                        <option value="" hidden disabled>Select Task Owner</option>
                                        <option value="null" hidden disabled>Select Task Owner</option>
                                        <option value="undefined" hidden disabled>Select Task Owner</option>
                                        <option [value]="" hidden disabled>Select Task Owner</option>
                                        <option [value]="undefined" hidden disabled>Select Task Owner</option>
                                        <option [value]="null" hidden disabled>Select Task Owner</option>
                                        <option *ngFor="let user of humans_list" [value]="user.userId.userId">
                                            {{user.userId.firstName|titlecase}} {{user.userId.lastName|titlecase}}
                                        </option>
                                    </select>
                                </span>
                                <span *ngIf="element.taskType !='Automated'">
                                    -
                                </span> 
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="taskType">
                            <th mat-header-cell mat-sort-header *matHeaderCellDef  class="cell5">Task Type </th>
                            <td mat-cell *matCellDef="let element"  class="cell5">
                                <span *ngIf="element.taskType!=null" [matTooltip]="element.taskType">
                                    {{(element.taskType.length > 10) ? ((element.taskType).slice(0, 10) + '...') : element.taskType}}
                                </span>
                                <span *ngIf="element.taskType==null">-</span>
                            </td>
                        </ng-container>
                    
                        <ng-container matColumnDef="category">
                            <th mat-header-cell mat-sort-header *matHeaderCellDef  class="cell6">Category </th>
                            <td mat-cell *matCellDef="let element"  class="cell6">
                                <span *ngIf="element.category!=null">{{element.category}}</span>
                                <span *ngIf="element.category==null">-</span>
                            </td>
                        </ng-container>
                        <ng-container matColumnDef="sourceType">
                            <th mat-header-cell *matHeaderCellDef  class="cell7" >Bot Source</th>
                            <td mat-cell *matCellDef="let element" class="text-center"  class="cell7">
                                <span *ngIf="element.taskType=='Bot' || element.taskType=='Automated'">
                    <select class="form-control" [value]="element.sourceType" (change)="changesource($event.target.value,element.taskId)"  style="width:140px;padding:0px;">
                        <option [value]="null" disabled hidden>Select Bot Source</option>
                        <option [value]="item" *ngFor="let item of botSource_list">{{item}}</option>
                    </select>
                  </span>
                                <span *ngIf="element.taskType=='Human'">
                    -
                  </span>
                            </td>
                        </ng-container>
                    
                        <ng-container matColumnDef="Assign">
                            <th mat-header-cell *matHeaderCellDef class="cell8">Assign Resource</th>
                            <td mat-cell *matCellDef="let element" class="cell8">
                                <span *ngIf="element.taskType=='Bot' || element.taskType=='Automated'">
                                
                                    <span *ngIf="isbotloading=='loading'">
                                           Loading...
                                    </span>
                                    <span *ngIf="isbotloading=='Success'">
                                            <span *ngIf="element.sourceType==''||element.sourceType==undefined ||element.sourceType=='null'">-</span>
                                    
                                            <span *ngIf="element.sourceType=='EPSoft'">
                                                    <select class="form-control" style="width:200px;padding:0px"  [value]="element.botId | checkResource : bot_list : element.sourceType : element.taskType " [id]="element.taskId+'__select'">
                                                        <option  value="0" disabled  hidden >Select Bot</option>
                                                        <option *ngFor="let bot of (bot_list | BotlistbycatPipe : element.categoryId)" [value]="bot.botId"  [selected]="bot.botId == element.botId">{{bot.botName}}</option>
                                                      </select>
                                                  </span>
                                                  <span *ngIf="element.sourceType=='UiPath'">
                                                      <span *ngIf="uiPathBotFlag==true">
                                                  <select class="form-control" style="width:200px;padding:0px"   [value]="(element.botId | checkResource : uipath_bots : element.sourceType : element.taskType) " [id]="element.taskId+'__select'">
                                                      <option  value="0" disabled hidden >Select Bot</option>
                                                      <option *ngFor="let bot of uipath_bots" [value]="bot.Key" [selected]="bot.Key==element.botId" >{{bot.ProcessKey}}</option>
                                                  </select>
                                                  </span>
                                                  <span *ngIf="uiPathBotFlag==false">Loading...</span>
                                              
                                                </span>
                                                  <span *ngIf="element.sourceType=='BluePrism'">
                                                  <select class="form-control" style="width:200px;padding:0px"  [value]="element.botId" [id]="element.taskId+'__select'">
                                                      <option  value="0" disabled  hidden >Select Bot</option>
                                                      <option *ngFor="let bot of blueprismbots" [value]="bot.botName" [selected]="bot.botName==element.botId" >{{bot.botName}}</option>
                                                  </select>
                                                </span>
                                    </span>
                                    <span *ngIf="isbotloading=='Error'">
                                            Error......
                                    </span>
                                </span>
                                <span *ngIf="element.taskType=='Human'">
                                    <span *ngIf="isHumanLoading=='Loading'">Loading...</span>
                                    <span *ngIf="isHumanLoading=='Success'">
                                        <select class="form-control" style="width:200px;padding:0px;"  [value]="element.assignedUserId | checkResource : humans_list :'humans' : 'Human'"  [id]="element.taskId+'__select'">
                                            <option value="0" hidden selected>Select Resource</option>
                                            <option *ngFor="let human of (humans_list | HumanlistbycatPipe : element.category )" [value]="human.userId.id">{{human.userId.firstName|titlecase}} {{human.userId.lastName|titlecase}} </option>
                                        </select>
                                    </span>
                                    <span *ngIf="isHumanLoading=='Failure'">Error</span>
                              </span>
                            </td>
                        </ng-container>
                    
                        <ng-container matColumnDef="status">
                            <th mat-header-cell   *matHeaderCellDef class="cell9">Status</th>
                            <td mat-cell *matCellDef="let element" class="cell9">
                                <span  [matTooltip]="element.status">
                                <span *ngIf="element.status!='null'" [id]="element.taskId+'__status'">
                                    <span  *ngIf="element.status=='Pending'" class="text-warning" >
                                        <i class="fa fa-clock"></i>
                                    </span>
                                
                                <span *ngIf="element.status=='Running' || element.status=='InProgress'" class="text-primary">
                                    <img src="../../../../assets/images/RPA/DotSpin.gif" class="testplus">
                                </span>
                            
                                <span *ngIf="(element.status=='Success' || element.status=='Executed') ">
                                    <img src="../../../../../assets/images/RPA/icon_latest/Success.svg" class="testplus">
                                </span>
                            
                                <span *ngIf="element.status=='Rejected' ">
                                    <img src="../../../../../assets/images/RPA/icon_latest/close-red.svg" class="testplus">
                                </span>
                            
                                <span  *ngIf="element.status=='Approved' ">
                                <img src="../../../../../assets/images/RPA/icon_latest/Success.svg" class="testplus">
                                </span>
                            
                                <span *ngIf="(element.status=='Failure' || element.status=='Failed')">
                                    <img src="../../../../../assets/images/RPA/icon_latest/close-red.svg" class="testplus">
                                </span>
                            
                                <span *ngIf="element.status=='New'" class="text-primary">
                                <img src='../../../../../assets/images/RPA/newicon.png' class="testplus" >
                                </span>
                                <span *ngIf="element.status=='Stop' || element.status=='Stopped'">
                                    <img src="../../../../../assets/images/RPA/stop_fail_icon.svg" class="testplus">
                                    </span>
                                
                                <span *ngIf="element.status=='Paused' || element.status=='Pause'">
                                    <img src="../../../../../assets/images/SO/pause-circle.svg" class="testplus"/>
                                </span>
                            
                                <span  *ngIf="element.status==null || element.status==''">
                                <span>
                                    <img src="../../../../../assets/images/SO/pause-circle.svg" class="testplus"/>
                                    </span>--
                                </span>
                               </span>
                            
                                <span *ngIf="element.status=='null'">-</span>
                            </span>
                         </td>
                        </ng-container>
           
          
                        <ng-container matColumnDef="Operations">
                            <th mat-header-cell *matHeaderCellDef class="cell10">Actions</th>
                            <td mat-cell class="Actions-column cell10" *matCellDef="let element" >
                                <div *ngIf="element.taskType=='Automated'">
                                    <span>
                                        <button [disabled]="element.taskType=='Human' || element.taskType==null" [class]="(element.taskType=='Human' || element.taskType==null)?'undobtn':''" (click)="createtaskbotoverlay(element.taskId)" matTooltip="Create and Assign Resource">
                                            <img src="../../../../../assets/images/RPA/icon_latest/new-blue.svg" class="testplus"/>
                                        </button>
                                    </span>
                                    <span>
                                        <button  (click)="assignbot(element.taskId, element.processId)" *ngIf="element.taskType == 'Automated'" matTooltip="Assign">
                                            <img src="../../../../../assets/images/SO/check-success.svg" class="testplus"/>
                                        </button>
                                        <button (click)="assignbot(element.taskId, element.processId)" *ngIf="element.taskType == 'Human'" matTooltip="Assign Resource">
                                            <img src="../../../../../assets/images/SO/check-success.svg" class="testplus"/>
                                        </button>
                                    </span>
                                    <span>
                                        <button (click)="resetbot(element.taskId)" matTooltip="Reset">
                                          <img src="../../../../../assets/images/RPA/icon_latest/repeat-blue.svg" class="testplus"/>
                                        </button>
                                    </span>
                                    <span>
                                        <button  (click)="loadbotdatadesign(element.botId)"  *ngIf="element.sourceType == 'EPSoft'" matTooltip="View Bot">
                                          <img src="../../../../../assets/images/Projects/eye-show.svg" class="testplus default-img" />
                                          <img src="../../../../../assets/images/Projects/eye-show-blue.svg" class="testplus hover-img" />
                                        </button>
                                        <button  *ngIf="element.sourceType != 'EPSoft'" disabled class="undobtn">
                                          <img src="../../../../../assets/images/SO/eye-show dis.svg" class="testplus default-img" />
                                          <img src="../../../../../assets/images/Projects/eye-show-blue.svg" class="testplus hover-img" />
                                        </button>
                                        <button  *ngIf="element.taskType !='Automated'" class="undobtn" >                                
                                          <img src="../../../../../assets/images/Projects/eye-hide.svg" class="testplus" />
                                        </button>
                                    
                                    </span>
                                    <span>
                                        <button  matTooltip="Delete Task" class="undobtn" (click)="delete(element.taskId)">
                                            <img src="../../../../../assets/images/Projects/delete-black.svg" class="testplus1 default-img"/>
                                            <img src="../../../../assets/images/Projects/delete-red.svg" class="testplus1 hover-img"/>
                                        </button>
                                    </span>
                                </div>
                                <div *ngIf="element.taskType=='Human'">
                                    <span>
                                        <button [disabled]="element.taskType=='Human' || element.taskType==null" [class]="(element.taskType=='Human' || element.                taskType==null)?'undobtn':''" (click)="createtaskbotoverlay(element.taskId)" matTooltip="Create and Assign Resource">
                                          <img src="../../../../../assets/images/SO/plus dis.svg" class="testplus"/>
                                        </button>
                                    </span>
                                    <span>
                                        <button (click)="assignhuman(element)" matTooltip="Assign Resource">
                                          <img src="../../../../../assets/images/SO/check-success.svg" class="testplus"/>
                                        </button>
                                    </span>
                                    <span>
                                        <button (click)="resetbot(element.taskId)" matTooltip="Reset">
                                          <img src="../../../../../assets/images/RPA/icon_latest/repeat-blue.svg" class="testplus"/>
                                        </button>
                                    </span>
                                    <span>
                                        <button (click)="loadbotdatadesign(element.botId)" *ngIf="element.taskType =='Automated'||element.taskType =='Bot'" matTooltip="View Bot">
                                          <img src="../../../../../assets/images/Projects/eye-show.svg" class="testplus" />
                                        </button>
                                        <button  *ngIf="element.taskType !='Automated'" >
                                          <img src="../../../../../assets/images/Projects/eye-hide.svg" class="testplus" />
                                        </button>
                                    </span>
                                    <span>
                                        <button  matTooltip="Delete Task" (click)="delete(element.taskId)">
                                          <img src="../../../../../assets/images/Projects/delete-black.svg" class="testplus default-img"/>
                                          <img src="../../../../assets/images/Projects/delete-red.svg" class="testplus hover-img"/>
                                        </button>
                                    </span>
                                </div>
                            </td>
                        </ng-container>
               <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                        <tr class="row-highlight" mat-row *matRowDef="let row; columns: displayedColumns;" cdkDrag [cdkDragData]="row"></tr>
                 </table>
                    <div class="text-center" *ngIf="dataSource2.data.length==0 || automatedtask.length==0">
                        <img src="../../../../../assets/images/RPA/No-Items.svg" style="height:calc(100vh - 400px)">
                        <br/> No items to display
                    </div> -->
                <!-- </div>
            </div> -->
            <!-- <div class="newpaginationdiv">
                <mat-paginator class="newpaginationdiv" #paginator10 [pageSize]="10" [pageSizeOptions]="[5, 10,25,50]" [showFirstLastButtons]="true"></mat-paginator>
            </div> -->
        <div *ngIf="popup">
          <app-so-processlog [environments]="environments" (closeEvent)="popup=false" [processId]="processId1"></app-so-processlog>
        </div>


<div *ngIf="schedulepopup">
    <!-- <div id='sch' class="rpa-modal  schedulemod newshacl" style="display:block"> -->
        <div>
        <!-- <div class="rpa-modal-content"> -->
            <app-split-overlay  (closeOverlay)="closeOverlay($event)">
                <div class="h-100">
                    <div class="create-header">
                        <!-- <span class="rpa-modal-close" (click)="closescheduler()"><img src="../../../../assets/images/RPA/icon_latest/close.svg" alt=""></span> -->
                        <h3>Scheduler</h3>
                    </div>
                    <div class="h-100">
                        <app-so-scheduler [data]="schdata" id="Scheduler"></app-so-scheduler>
                    </div>
                </div>      
            </app-split-overlay>
        <!-- </div> -->
    </div>
</div>

<div id='configuration' class="rpa-modal">
    <div class="rpa-modal-content">
        <div class="rpa-modal-header">
            <span class="rpa-modal-close" (click)="closeconfig()"><img src="../../../../assets/images/RPA/icon_latest/close.svg" alt=""></span>
            <span *ngIf="(blueprismconfigoverlay != true) && (UiPathconfigoverlay != true)"><h4>Configuration</h4></span>
            <span *ngIf="blueprismconfigoverlay == true"><h4>BluePrism Configuration</h4></span>
            <span *ngIf="UiPathconfigoverlay == true"><h4>UiPath Configuration</h4></span>
        </div>
        <div class="rpa-modal-body" *ngIf="blueprismconfigoverlay != true && UiPathconfigoverlay != true">
            <div class="container">

                <div class="row">
                    <div class="col-md-2" style="margin-bottom:25px;">
                    </div>
                    <div class="col-md-4 img_box_shadow" style="padding:40px;margin-bottom:25px;">
                        <button (click)="getblueprismconfiguration()" class=""><img style="width:260px !important;height:60px !important;" src="/assets/images/blue-blue_prism_logo.png" alt=""></button>
                    </div>
                    <div class="col-md-4 img_box_shadow" style="padding:40px;margin-bottom:25px;">
                        <button (click)="getUIpathconfiguration()"><img style="width:180px !important;height:65px !important;" src="/assets/images/" alt=""></button>
                    </div>

                    <div class="col-md-2" style="margin-bottom:25px;">
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="blueprismconfigoverlay == true">
            <div class="rpa-modal-body">
                <div class="row">
                    <div class="col-md-1" *ngIf="addBPconfigstatus == false"></div>
                    <div class="col-md-10" style="margin-top:10px;" *ngIf="addBPconfigstatus == false && BluePrismFlag==false">
                  
                        <p-table [value]="blueprism_configs">
                            <ng-template pTemplate="header">
                                <tr>
                                    <th>Connection Name</th>
                                    <th>Blue Prism UserName</th>
                                    <th>Blue Prism Password</th>
                                    <th>Hostname</th>
                                    <th>Username</th>
                                    <th>Password</th>
                                    <th>Port</th>
                                    <th>Status</th>
                                    <th style="width:100px"></th>

                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-element>
                                <tr>
                                <td>{{element.configName}}</td>
                                <td>{{element.bluePrismUsername}}</td>
                                <td>{{element.bluPrismPassword | ipcustompipe}}</td>
                                <td>{{element.hostAddress | ipcustompipe}}</td>
                                <td>{{element.username}}</td>
                                <td>{{element.password | ipcustompipe}}</td>
                                <td>{{element.port}}</td>
                                <td>
                                    <span *ngIf="element.status==1">
                                  <img class="rpa-image1" src="/assets/images/RPA/GreenCricle.png" alt="">Active
                                </span>

                                    <span *ngIf="element.status==0">
                                 <img class="rpa-image1" src="/assets/images/RPA/red-circle.png" alt="" >Inactive
                              </span>
                                </td>
                                <td style="width:100px">
                                    <span class="display_hover" style="background-color: #f5f5f5;">
                                  <button class="display_hover_edit" title="edit" (click)="edit_blue_prism_config(element.bluePrismId)" style="padding:2px;"><i class="fas fa-edit"></i></button> &nbsp;
                                  <button class="display_hover_alt" (click)="delete_blueprism_config(element.bluePrismId)" title="delete" style="padding:2px;"><i class="fas fa-trash-alt"></i></button>
                                </span>
                                </td>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="emptymessage">
                                <tr>
                                    <td style="justify-content: center;" colspan="9">No Records Found</td>
                                </tr>
                            </ng-template>
                            </p-table>
                  
                        <!-- <table class="configtable table" style="width:100% !important">
                            <tr>
                                <th>Connection Name</th>
                                <th>Blue Prism UserName</th>
                                <th>Blue Prism Password</th>
                                <th>Hostname</th>
                                <th>Username</th>
                                <th>Password</th>
                                <th>Port</th>
                                <th>Status</th>
                                <th style="width:100px"></th>
                            </tr>
                            <tr style="padding:5px;" *ngFor="let config of blueprism_configs">
                                <td>{{config.configName}}</td>
                                <td>{{config.bluePrismUsername}}</td>
                                <td>{{config.bluPrismPassword | ipcustompipe}}</td>
                                <td>{{config.hostAddress | ipcustompipe}}</td>
                                <td>{{config.username}}</td>
                                <td>{{config.password | ipcustompipe}}</td>
                                <td>{{config.port}}</td>
                                <td>
                                    <span *ngIf="config.status==1">
                                  <img class="rpa-image1" src="/assets/images/RPA/GreenCricle.png" >Active
                                </span>

                                    <span *ngIf="config.status==0">
                                 <img class="rpa-image1" src="/assets/images/RPA/red-circle.png" >Inactive
                              </span>
                                </td>
                                <td style="width:100px">
                                    <span class="display_hover" style="background-color: #f5f5f5;">
                                  <button class="display_hover_edit" title="edit" (click)="edit_blue_prism_config(config.bluePrismId)" style="padding:2px;"><i class="fas fa-edit"></i></button> &nbsp;
                                  <button class="display_hover_alt" (click)="delete_blueprism_config(config.bluePrismId)" title="delete" style="padding:2px;"><i class="fas fa-trash-alt"></i></button>
                                </span>
                                </td>
                            </tr>
                        </table>
                        <pagination-controls (pageChange)="q = $event"></pagination-controls> -->


                    </div>
                    <div class="col-md-1" *ngIf="addBPconfigstatus == false && BluePrismFlag== false" style="margin-top:10px;">
                        <span class="pull-right">
                            <button matTooltip="Add" mat-mini-fab color="basic" [disabled]="checkedsource==''" (click)="addBPconfigstatus = true;BluePrismFlag=false">
                              <i class="fa fa-plus"></i>
                            </button> &nbsp;&nbsp;
                            <button (click)="blueprismconfigoverlay = false;BluePrismFlag=false" matTooltip="Back" mat-mini-fab color="basic">
                              <i class="fa fa-arrow-left"></i>
                            </button>
                          </span>


                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12 " [formGroup]="BluePrismConfigForm" *ngIf="addBPconfigstatus == true || BluePrismFlag==true">
                                <div class="col-md-3">
                                    <label for="configName">Connection Name</label>
                                    <input type="text" id="configName" #configName formControlName="configName" autocomplete="off" placeholder="Enter Connection Name" required/>

                                </div>
                                <div class="col-md-3">
                                    <label for="bluePrismUsername">Blue Prism UserName</label>
                                    <input type="text" id="bluePrismUsername" autocomplete="off" #bluePrismUsername formControlName="bluePrismUsername" placeholder="Enter Blue Prism UserName" required/>
                                </div>
                                <div class="col-md-3">
                                    <label for="bluPrismPassword">Blue Prism Password</label>
                                    <input type="password" id="bluPrismPassword" autocomplete="off" #bluPrismPassword formControlName="bluPrismPassword" placeholder="Enter Blue Prism Password" required/>
                                </div>
                                <div class="col-md-3">
                                    <label for="hostAddress">Hostname</label>
                                    <input type="text" id="hostAddress" autocomplete="off" #hostAddress formControlName="hostAddress" placeholder="Enter Hostname" required/>
                                </div>
                                <div class="col-md-3" style="padding-top:5px">
                                    <label for="username">Username</label>
                                    <input type="text" id="username" autocomplete="off" #username formControlName="username" placeholder="Enter Username" required/>
                                </div>
                                <div class="col-md-3" style="padding-top:5px">
                                    <label for="password">Password</label>
                                    <input type="password" id="password" autocomplete="off" #password formControlName="password" placeholder="Enter Password" required/>
                                </div>
                                <div class="col-md-3" style="padding-top:5px">
                                    <label for="port">Port</label>
                                    <input type="text" id="port" autocomplete="off" #port formControlName="port" placeholder="Enter Port Number" required/>
                                </div>
                                <div class="col-md-3" style="padding-top:5px">

                                    <input type="checkbox" formControlName="status">&nbsp; Active
                                </div>
                                <div class="col-md-12">

                                    <button *ngIf="addBPconfigstatus == true" class='btn bluebg-button' (click)="save_blue_prism_config()" tooltip="Save">Save</button>
                                    <button *ngIf="BluePrismFlag == true" class='btn bluebg-button' (click)="save_blue_prism_config()" tooltip="Update">Update</button>

                                    <button class="btn bluebg-button" (click)="testBluePrismconnection()" tooltip="Test Connection">Test Connection</button>
                                    <button class="btn new-cancelbtn" tooltip="Cancel" (click)="addBPconfigstatus = false;BluePrismFlag=false">Cancel</button>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div *ngIf="UiPathconfigoverlay == true">
            <div class="rpa-modal-body">
                <div class="container">

                    <div class="row">
                        <div class="col-md-12" *ngIf="addconfigstatus==false">
                            <span>
                      <input type="checkbox" (click)="blueprism=false;kofax=false;checked('UiPath',uipath)" [(ngModel)]="uipath"> UiPath
                    </span>
                            <!-- &nbsp;&nbsp;
                    <span>
                      <input type="checkbox" (click)="kofax=false;uipath=false;checked('BluePrism',blueprism)" [(ngModel)]="blueprism"> Blue prism
                    </span>
                    &nbsp;&nbsp;
                    <span>
                      <input type="checkbox" (click)="uipath=false;blueprism=false;checked('Kofax',kofax)" [(ngModel)]="kofax"> Kofax
                    </span>
                    &nbsp;&nbsp; -->
                            <span class="pull-right">
                      <button [disabled]="checkedsource==''" matTooltip="Add" mat-mini-fab color="basic" (click)="addconfigstatus=true">
                        <i class="fa fa-plus"></i>
                      </button>&nbsp;&nbsp;
                      <button (click)="UiPathconfigoverlay = false" matTooltip="Back" mat-mini-fab color="basic">
                        <i class="fa fa-arrow-left"></i>
                      </button>
                    </span>
                        </div>
                        <div class="col-md-12" *ngIf="addconfigstatus==false">
                            <p-table [value]="configurations" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]"
                            [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries">
                                <ng-template pTemplate="header">
                                    <tr>
                                         <th>Account Name</th>
                                        <th>Tenant Name</th>
                                        <th>Client ID</th>
                                        <th>User Key</th>
                                        <th>Status</th>
                                        <th style="width:100px;"></th>
    
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-element>
                                    <tr>
                                        <td>{{element.accountName}}</td>

                                        <td>{{element.tenantName}}</td>
    
                                        <td>{{element.clientId}}</td>
    
                                        <td>{{element.userKey}}</td>
    
                                        <td>
                                            <span *ngIf="element.active == true">
                                  <img class="rpa-image1" src="/assets/images/RPA/GreenCricle.png">Active
                                </span>
                                            <span *ngIf="element.active == false">
                                  <img class="rpa-image1" src="/assets/images/RPA/red-circle.png" >Inactive
                                </span>
                                        </td>
                                        <td style="width:100px;">
                                            <span class="display_hover" style="background-color: #f5f5f5;">
                                  <button class="display_hover_edit" title="edit" style="padding:2px;"><i class="fas fa-edit"></i></button> &nbsp;
                                  <button class="display_hover_alt" title="delete" style="padding:2px;"><i class="fas fa-trash-alt"></i></button>
                                </span>
                                        </td>
                                    </tr>
                                </ng-template>
                                </p-table>
                            <!-- <table class="configtable table">
                                <th>Account Name</th>
                                <th>Tenant Name</th>
                                <th>Client ID</th>
                                <th>User Key</th>
                                <th>Status</th>
                                <th style="width:100px;"></th>
                                <tr style="padding:5px;" *ngFor=" let config of configurations  | paginate: { itemsPerPage: 5,currentPage: q }">
                                    <td>{{config.accountName}}</td>

                                    <td>{{config.tenantName}}</td>

                                    <td>{{config.clientId}}</td>

                                    <td>{{config.userKey}}</td>

                                    <td>
                                        <span *ngIf="config.active == true">
                              <img class="rpa-image1" src="/assets/images/RPA/GreenCricle.png">Active
                            </span>
                                        <span *ngIf="config.active == false">
                              <img class="rpa-image1" src="/assets/images/RPA/red-circle.png" >Inactive
                            </span>
                                    </td>
                                    <td style="width:100px;">
                                        <span class="display_hover" style="background-color: #f5f5f5;">
                              <button class="display_hover_edit" title="edit" style="padding:2px;"><i class="fas fa-edit"></i></button> &nbsp;
                              <button class="display_hover_alt" title="delete" style="padding:2px;"><i class="fas fa-trash-alt"></i></button>
                            </span>
                                    </td>

                                </tr>
                            </table>

                            <pagination-controls (pageChange)="q = $event"></pagination-controls> -->

                        </div>

                        <div class="col-md-12 " *ngIf="addconfigstatus==true">
                            <div class="col-md-3">
                                <label for="account_name">Account Name</label>
                                <input type="text" [(ngModel)]="accountName" id="account_name" autocomplete="off" placeholder="Enter Account Name" required/>
                            </div>
                            <div class="col-md-3">

                                <label for="tenant">Tenant Name</label>
                                <input type="text" [(ngModel)]="tenantId" id="tenant" autocomplete="off" placeholder="Enter Tenant Name" required/>
                            </div>
                            <div class="col-md-3">

                                <label for="userkey">User Key</label>
                                <input type="text" [(ngModel)]="userKey" id="userkey" autocomplete="off" placeholder="Enter User Key" required/>
                            </div>
                            <div class="col-md-3">

                                <label for="clientId">Client Id</label>
                                <input type="text" [(ngModel)]="clientId" id="clientId" autocomplete="off" placeholder="Enter Client Id" required/>

                            </div>
                            <div class="col-md-3">

                                <input type="checkbox" [(ngModel)]="activeStatus">&nbsp; Active

                            </div>
                            <div class="col-md-12">

                                <button class='btn bluebg-button' (click)="saveconfiguration()">Save</button>
                                <button class="btn bluebg-button" tooltip="Test Connection">Test Connection</button>
                                <button class="btn new-cancelbtn" (click)="addconfigstatus=false">Cancel</button>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id='SLAConfig' class="rpa-modal">
    <div class="rpa-modal-content">
        <div class="rpa-modal-header">
            <span class="rpa-modal-close" (click)="SLAclose()"><img src="../../../../assets/images/RPA/icon_latest/close.svg" alt=""></span>
            <h4>SLA Configuration</h4>
        </div>
        <div class="modal-body">
            <div class="container m-contanier form-body">
                <form [formGroup]="insertslaForm_so_bot">

                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="processName">Process Name<span class="star">*</span></label>
                        <input type="text" class="form-control data" maxlength="50" formControlName="processName" #processName value="" placeholder="Enter Process Name">
                        <span *ngIf="(insertslaForm_so_bot.get('processName').invalid && insertslaForm_so_bot.get('processName').touched) && !insertslaForm_so_bot.controls['processName'].hasError('maxlength')" class="errspan required">Process Name Required</span>
                        <div *ngIf="insertslaForm_so_bot.controls['processName'].hasError('maxlength')" class="errspan required">
                            Maximum of 50 characters
                        </div>
                    </div>

                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="processName">Process Owner<span class="star">*</span></label>
                        <input type="text" class="form-control data" formControlName="processOwner" #processName value="" placeholder="Enter Process Owner">
                        <span *ngIf="(insertslaForm_so_bot.get('processOwner').invalid && insertslaForm_so_bot.get('processOwner').touched) && !insertslaForm_so_bot.controls['processOwner'].hasError('maxlength')" class="errspan required">Process Owner Required</span>
                        <div *ngIf="insertslaForm_so_bot.controls['processOwner'].hasError('maxlength')" class="errspan required">
                            Maximum of 50 characters
                        </div>
                    </div>

                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="taskName">Task Name<span class="star">*</span></label>
                        <input type="text" class="form-control data" maxlength="50" formControlName="taskName" #processName value="" placeholder="Enter Task Name">
                        <span *ngIf="(insertslaForm_so_bot.get('taskName').invalid && insertslaForm_so_bot.get('taskName').touched) && !insertslaForm_so_bot.controls['taskName'].hasError('maxlength')" class="errspan required">Task Name Required</span>
                        <div *ngIf="insertslaForm_so_bot.controls['taskName'].hasError('maxlength')" class="errspan required">
                            Maximum of 50 characters
                        </div>
                    </div>
                    <!-- <div class="col-md-12 p-0 form-group">
                <label class="label-control" for="botName">Bot Name<span class="star">*</span></label>
                <input type="text" class="form-control data" formControlName="botName" value="" placeholder="Enter Bot Name">
                <span *ngIf="(insertslaForm_so_bot.get('botName').invalid && insertslaForm_so_bot.get('botName').touched) && !insertslaForm_so_bot.controls['botName'].hasError('maxlength')" class="errspan required">Bot Name Required</span>
                <div *ngIf="insertslaForm_so_bot.controls['botName'].hasError('maxlength')" class="errspan required">
                    Maximum of 50 characters
                </div>
            </div> -->
                    <!-- <div class="col-md-12 p-0 form-group">
                <label class="label-control" for="botSource">Bot Source<span class="star">*</span></label>
                <input type="text" class="form-control data" formControlName="botSource"  value="" placeholder="Enter Bot Source">
                <span *ngIf="(insertslaForm_so_bot.get('botSource').invalid && insertslaForm_so_bot.get('botSource').touched) && !insertslaForm_so_bot.controls['botSource'].hasError('maxlength')" class="errspan required">Bot Source Required</span>
                <div *ngIf="insertslaForm_so_bot.controls['botSource'].hasError('maxlength')" class="errspan required">
                    Maximum of 50 characters
                </div>
            </div> -->
                    <!-- <div class="col-md-12 p-0 form-group">
                <label class="label-control" for="taskOwner">Task Owner<span class="star">*</span></label>
                <input type="text" maxlength="51" class="form-control data" formControlName="taskOwner"  value="" placeholder="Enter Connection Name">
                <span *ngIf="(insertslaForm_so_bot.get('taskOwner').invalid && insertslaForm_so_bot.get('taskOwner').touched) && !insertslaForm_so_bot.controls['taskOwner'].hasError('maxlength')" class="errspan required">Task Owner Required</span>
                <div *ngIf="insertslaForm_so_bot.controls['taskOwner'].hasError('maxlength')" class="errspan required">
                    Maximum of 50 characters
                </div>
            </div> -->

                    <div class="col-md-6 pl-0 form-group">
                        <label class="label-control" for="slaConfigId">SLA Breach Limit
                <!-- <span class="star">*</span> -->
              </label>
                        <input type="number" style="width:100px" min=0 max=60 maxlength="2" formControlName="slaConfigId" onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" value="" placeholder="00">
                        <!-- <input type="text" maxlength="2" onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data"  #slaConfigId value="" placeholder="MM">
              <span *ngIf="(insertslaForm_so_bot.get('slaConfigId').invalid && insertslaForm_so_bot.get('slaConfigId').touched) && !insertslaForm_so_bot.controls['slaConfigId'].hasError('maxlength')" class="errspan required">SLA Configuration Required</span> -->
                        <!--<div *ngIf="insertslaForm_so_bot.controls['slaConfigId'].hasError('maxlength')" class="errspan required">
                Maximum of 2 characters
              </div>  -->
                    </div>

                    <div class="col-md-6 pr-0 form-group">
                        <label class="label-control" for="thresholdLimit">Threshold Limit 
                <!-- <span class="star">*</span> -->
              </label>
                        <input type="number" style="width:100px" min=0 max=60 onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="thresholdLimit" value="" maxlength="2" placeholder="00">
                        <span *ngIf="(insertslaForm_so_bot.get('thresholdLimit').invalid && insertslaForm_so_bot.get('thresholdLimit').touched) && !insertslaForm_so_bot.controls['thresholdLimit'].hasError('maxlength')" class="errspan required">Required Threshold Limit</span>
                    </div>

                    <div class="col-md-6 pl-0 form-group">
                        <label class="label-control" for="totalRetries">Total Retries</label>
                        <input type="number" style="width:100px" min=0 max=10 onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="totalRetries" value="" placeholder="0">
                        <!--<span *ngIf="(insertslaForm_so_bot.get('totalRetries').invalid && insertslaForm_so_bot.get('totalRetries').touched) && !insertslaForm_so_bot.controls['totalRetries'].hasError('maxlength')" class="errspan required">Breach Actual Alert Required</span>
              <div *ngIf="insertslaForm_so_bot.controls['totalRetries'].hasError('maxlength')" class="errspan required">
                  Maximum of 50 characters
              </div>-->
                    </div>

                    <div class="col-md-6 pr-0 form-group">
                        <label class="label-control" for="retriesInterval">Retry Interval</label>
                        <input type="number" maxlength="2" style="width:100px" min=0 max=60 onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="retriesInterval" value="" placeholder="00">
                        <!-- <span *ngIf="insertslaForm_so_bot.get('retriesInterval').invalid && insertslaForm_so_bot.get('retriesInterval').touched" class="errspan required">Retries Interval Required</span> -->
                    </div>

                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="notificationType">Notificaion Type<span class="star">*</span></label>
                        <div class="row">
                            <div class="col-md-6 p-0">
                                <input type="checkbox" formControlName="email" class="emailcheck" id="emailcheck">
                                <label class="lbl_chk_cls" for="emailcheck">E-mail</label>
                            </div>
                            <div class="col-md-6 p-0">
                                <input type="checkbox" class="smscheck" formControlName="sms" id="smscheck">
                                <label class="lbl_chk_cls" for="smscheck">SMS</label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <!-- <div class="col-md-12 p-0 form-group">
                    <label for="breachAlerts">Breach Actual Alert<span class="star">*</span></label>
                    <select class="form-control"  value="" formControlName="breachAlerts">
                        <option value="">-- Select Breach Actual Alerts --</option>
                        <option value="Error">Error</option>
                        <option value="Warning">Warning</option>
                        <option value="All">All</option>
                      </select>
                    <span *ngIf="(insertslaForm_so_bot.get('breachAlerts').invalid && insertslaForm_so_bot.get('breachAlerts').touched) && !insertslaForm_so_bot.controls['breachAlerts'].hasError('maxlength')" class="errspan required">Breach Actual Alert Required</span> -->
                        <!--<div *ngIf="insertslaForm_so_bot.controls['breachAlerts'].hasError('maxlength')" class="errspan required">
                        Maximum of 50 characters
                    </div>-->
                        <!-- </div> -->

                    </div>
                    <div class="row">

                        <!--<div class="col-md-12 p-0 form-group">
                <label for="expectedEDate">Expected Execution Time in  Minutes</label>
                <input type="text" maxlength="2" onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="expectedEDate" #expectedEDate value="" placeholder="MM">-->
                        <!--<div class="row">
                    <div class="col-md-6 formelement">
                      <input type="date" [value]="expectedDate" [min]="expectedDate" formControlName="expectedDate">
                    </div>
                    <div class="col-md-6 formelement">
                      <ngx-timepicker-field style="line-height: 0.928571;" [controlOnly]="true" [defaultTime]="'23:11'" [format]="24" formControlName="expectedTime"></ngx-timepicker-field>
                    </div>
                </div> -->
                        <!--</div>-->
                    </div>

                    <!--<div class="row">
            <div class="col-md-12 p-0 form-group">
                <label for="cascadingImpact">Cascading Impact</label> &nbsp;&nbsp;&nbsp;
                <mat-slide-toggle style="height:20px;vertical-align: middle !important;" (change)="cascadingImp()" class="example-margin" color="primary"
                formControlName="cascadingImpact" tooltip="Cascading Impact" placement="bottom">
                </mat-slide-toggle>
            </div>
            <div class="col-md-12 p-0 form-group" *ngIf="cascadingImpactbtn == true">
              <label for="systemImpacted">System Impacted</label>
              <input type="text" maxlength="51" class="form-control data" formControlName="systemImpacted" #systemImpacted value="" placeholder="Enter system Impacted">
              <span *ngIf="insertslaForm_so_bot.get('systemImpacted').invalid && insertslaForm_so_bot.get('systemImpacted').touched" class="errspan required">System Impacted Required</span>
            </div>

            </div>-->
                    <!--<div class="row">

            </div>-->

                    <div class="form-footer">
                        <input type="button" class="btn new-cancelbtn" value="Reset" (click)="resetsla()">
                        <input type="button" class="btn bluebg-button" value="Save" (click)="slaalerts()">
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


        <ng-template class="modal-lg"  #addTask >
           <div ngb-modal-draggable [ngbModalDraggableHandle]="draggableHandle" class="OS-AddtaskPopup">
            <div class="modal-header modelprhead cursor-all-scroll" #draggableHandle>
                    <!-- <div class="modal-header modelprhead"> -->
                            <h4 class="modal-title pull-left">Add Task</h4>
                            <button type="button" class="close pull-right" aria-label="Close" (click)="logs_modal.hide();">
                              <span aria-hidden="true"><img src="../../../../assets/images/Projects/circle-close.svg" alt=""></span>
                          </button>
                        </div>
                        </div>
                            <div class="modal-body addTasksBlock">
                                <form [formGroup]="addTaskForm" #addtask="ngForm" (ngSubmit)="addexistingtasks()">
                                    <div class="col-md-12 p-0 form-group">
                                        <label class="label-control">Task(s)<span class="star">*</span></label>
                                        <ng-select formControlName="tasks" [multiple]="true" placeholder="Select tasks" [(ngModel)]="tasks" required>
                                            <ng-option *ngFor="let task of taskslist" [value]="task.taskId">{{task.taskName}}</ng-option>
                                        </ng-select>
                    
                                        <span *ngIf="addTaskForm.get('tasks').invalid && addTaskForm.get('tasks').touched" class="errspan required">Tasks Required</span>
                                    </div>
                                </form>
                                
                                <div class="text-right mt-3">
                                    <button (click)="logs_modal.hide()" class="btn new-cancelbtn ">Cancel</button>
                                    <button (click)="addexistingtasks()" class="btn bluebg-button">Submit</button>
                                    
                                </div>
                               
                            </div>
           
              
            </ng-template>
<p-confirmDialog  [style]="{width: '30vw'}" position="center" [baseZIndex]="10000" [closable]="false">
</p-confirmDialog>
<p-toast [style]="{marginTop: '50px'}"></p-toast>