<div class="bg-color so-sub-tab-content">

    <div class="container-fluid">
        <div class="form-inline mainformco row">

            <div class="form-group leftfporm col-md-9 pl-0">
                <div id="autocategorysearch" class="col-md-3 pl-0">
                    <select class="rpa-control form-control" [disabled]="categaoriesList.length==1" [(ngModel)]="selectedcategory" [value]="categaoriesList.length==1?categaoriesList[0].categoryId:''" (change)="applyFilter1($event.target.value)">
          <option value="" disabled>Select Process Group</option>
          <option *ngFor="let category of categaoriesList" [value]="category.categoryId">{{category.categoryName}}
          </option>
        </select>
                </div>

                <div *ngIf="process_names!=undefined" id="autoprocesssearch" class="col-md-3 pl-0">
                    <select class="rpa-control form-control" [value]="selectedvalue" (change)="applyFilter($event.target.value)">
            <option value="" disabled>Select Process</option>  
            <option *ngFor="let process of selected_process_names" [value]="process.processId">{{process.processName}}
              </option>
          </select>
                </div>

                <div id="autoenvsearch" class="col-md-3 pl-0">
                    <select class="rpa-control form-control" [(ngModel)]="selectedEnvironment">
          <option value="" disabled>Select Environment</option>  
            <option *ngFor="let environment of environments" [value]="environment.environmentId" >{{environment.environmentName}}
          </option>
        </select>
                </div>
                <!-- <div id="autoreset" class="comncl resecl">
    <button (click)="reset_all()" tooltip="Reset"><i class="fa fa-undo"></i></button>
    </div> -->
            </div>


            <div class="text-right roghtform col-md-3 pr-0">
                <!--<span style="padding:5px" id="autoStartProcess">
      <button  matTooltip="View Configuration"   mat-mini-fab color="basic" (click)="configuration()"  ><i  class="fas fa-cog" style="margin-right: -5px !important;"></i></button>
    </span>-->
                <button (click)="addtasks(addTask)" class="tsttooltipbtn">
      <img src="../../../../../assets/images/RPA/icon_latest/pluse-blue.svg" class="testplus"/>
      <span class="testtooltip">Add Task</span>
    </button>
                <button (click)="reset_all()" id="autoreset" class="tsttooltipbtn">
      <img src="../../../../../assets/images/RPA/icon_latest/reset-blue.svg" class="testplus">
      <span class="testtooltip">Reset</span>
    </button>
                <button disabled *ngIf="selectedvalue=='' || selectedEnvironment=='' || !(checkAssignTasks)" id="autoStartProcess" class="tsttooltipbtn" (click)="startprocess()">
      <img src="../../../../assets/images/RPA/icon_latest/play.svg" alt="" class="testplus">
      <span *ngIf="!(selectedvalue=='' || selectedEnvironment=='')" class="testtooltip">Run Process</span>
    </button>
                <button *ngIf="selectedvalue!='' && selectedEnvironment!='' && checkAssignTasks " id="autoStartProcess" class="tsttooltipbtn" (click)="startprocess()">
      <img src="../../../../../assets/images/SO/play blue.svg" alt="" class="testplus">
      <span  class="testtooltip">Run Process</span>
    </button>
                <!-- <button *ngIf="selectedvalue!='' || selectedEnvironment!=''" id="autoStartProcess" class="tsttooltipbtn" (click)="startprocess()">
      <img src="../../../../../assets/images/SO/play blue.svg" alt="" class="testplus">
      <span class="testtooltip">Run Process</span>
    </button> -->
                <!-- <span style="padding:5px">
        <button [disabled]="selectedvalue=='' || selectedEnvironment==''" matTooltip="Pause Process" mat-mini-fab color="basic" (click)="startprocess()"   title="Run Process"><i  class="fas fa-pause"></i></button>
      </span>
      -->

                <button disabled *ngIf="selectedvalue==''" id="openScheduler" class="tsttooltipbtn">
      <img src="../../../../../assets/images/RPA/icon_latest/calendar.svg" alt="" class="testplus">
    
    </button>
                <button *ngIf="selectedvalue!=''" id="openScheduler" class="tsttooltipbtn" (click)="startscheduler()">
     <img src="../../../../../assets/images/RPA/icon_latest/calendar-blue.svg" alt="" class="testplus">
      <span class="testtooltip">Open Scheduler</span>
    </button>

                <button dsiabled *ngIf="selectedvalue==''" id="autoViewLogs" class="tsttooltipbtn">
      <img src="../../../../../assets/images/file.svg" alt="" class="testplus">
     
    </button>

                <button *ngIf="selectedvalue!=''" id="autoViewLogs" class="tsttooltipbtn" (click)="getprocesslogs(process_logs)">
      <img src="../../../../../assets/images/SO/file blue.svg" alt="" class="testplus">
      <span class="testtooltip">View Logs</span>
    </button>
            </div>

        </div>
    </div>


    <div class="container-fluid">
        <!-- <mat-card> -->
        <div *ngIf="responsedata!=undefined" class="orchestration-table-container">

            <table mat-table #sort10="matSort" #automatedtable [dataSource]="dataSource2" cdkDropList [cdkDropListData]="automatedtask" (cdkDropListDropped)="dropTable($event)" matSort class="RPA table" id="autotable">

                <ng-container matColumnDef="processFilterId">
                    <th *matHeaderCellDef></th>
                    <td *matCellDef="let element"></td>
                </ng-container>

                <ng-container matColumnDef="processName">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Process Name</th>
                    <td mat-cell [matTooltip]="element.processName" *matCellDef="let element">
                        <!-- <mat-icon style="cursor: pointer;"cdkDragHandle>reorder</mat-icon>     -->
                        {{(element.processName.length > 15) ? ((element.processName).slice(0, 15) + '...') : element.processName}}</td>
                </ng-container>

                <ng-container matColumnDef="taskName">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Task</th>
                    <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.taskName!=null" [matTooltip]="element.taskName">{{(element.taskName.length > 15) ? ((element.taskName).slice(0, 15) + '...') : element.taskName}}</span>
                        <span *ngIf="element.taskName==null">---</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="taskType">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Task Type </th>
                    <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.taskType!=null">{{element.taskType}}</span>
                        <span *ngIf="element.taskType==null">---</span>
                    </td>
                </ng-container>

                <ng-container matColumnDef="category">
                    <th mat-header-cell mat-sort-header *matHeaderCellDef>Category </th>
                    <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.category!=null">{{element.category}}</span>
                        <span *ngIf="element.category==null">---</span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="sourceType">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Bot Source</th>
                    <td mat-cell *matCellDef="let element" class="text-center">
                        <span *ngIf="element.taskType=='Bot' || element.taskType=='Automated'">
            <select class="form-control" style="width:140px;padding:0px" [value]="element.sourceType" (change)="changesource($event.target.value,element.taskId)">
                <option [value]="null" disabled hidden>Select Bot Source</option>
                <!-- <option value="">Select Bot Source</option> -->
                <option value="EPSoft">EPSoft</option>
                <option value="UiPath">UiPath</option>
                <option value="BluePrism">BluePrism</option>
                <!--<option value="Blue Prism">Blue Prism</option>
                <option value="Kofax">Kofax</option> -->
            </select>
          </span>
                        <span *ngIf="element.taskType=='Human'">
            ---
          </span>
                    </td>
                </ng-container>
                <ng-container matColumnDef="processOwner">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Process Owner</th>
                    <td mat-cell *matCellDef="let element">
                        {{element.createdBy}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="taskOwner">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Task Owner</th>
                    <td mat-cell *matCellDef="let element">
                        {{element.taskOwner}}
                    </td>
                </ng-container>
                <ng-container matColumnDef="Assign">
                    <th mat-header-cell *matHeaderCellDef>Assign Resource</th>
                    <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.taskType=='Bot' || element.taskType=='Automated'">
                      
                        <span *ngIf="element.sourceType==''||element.sourceType==undefined ||element.sourceType=='null'">---</span>

                        <span *ngIf="element.sourceType=='EPSoft'">
                          <select class="form-control" style="width:200px;padding:0px"  [value]="element.botId | checkResource : bot_list : element.sourceType : element.taskType " [id]="element.taskId+'__select'">
                              <option  value="0" disabled hidden  >Select Resource</option>
                              <!-- <option *ngFor="let bot of (bot_list | botlistbycat : element.categoryId)" [value]="bot.botId"  [selected]="bot.botId == element.botId">{{bot.botName}}</option> -->
                              <option *ngFor="let bot of (bot_list | BotlistbycatPipe : element.categoryId)" [value]="bot.botId"  [selected]="bot.botId == element.botId">{{bot.botName}}</option>
                            </select>
                        </span>
                        <span *ngIf="element.sourceType=='UiPath'">
                        <select class="form-control" style="width:200px;padding:0px"  [value]="element.botId | checkResource : uipath_bots : element.sourceType : element.taskType " [id]="element.taskId+'__select'">
                            <option [selected]="'0'" value="'0'" disabled hidden>Select Resource</option>
                            <option *ngFor="let bot of uipath_bots" [value]="bot.Key" [selected]="bot.Key==element.botId" >{{bot.ProcessKey}}</option>
                        </select>
                      </span>
                        <span *ngIf="element.sourceType=='BluePrism'">
                        <select class="form-control" style="width:200px;padding:0px"  [value]="element.botId" [id]="element.taskId+'__select'">
                            <option [selected]="'0'" value="'0'" disabled hidden  >Select Resource</option>
                            <option *ngFor="let bot of blueprismbots" [value]="bot.botName" [selected]="bot.botName==element.botId" >{{bot.botName}}</option>
                        </select>
                      </span>
                        </span>
                        <span *ngIf="element.taskType=='Human'">
                        <select class="form-control" style="width:200px;padding:0px;"  [value]="element.assignedUserId | checkResource : humans_list :'humans' : 'Human'"  [id]="element.taskId+'__select'">
                            <option value="0" >Select Resource</option>
                            <option *ngFor="let human of (humans_list | HumanlistbycatPipe : element.category )" [value]="human.userId.id">{{human.userId.firstName}} {{human.userId.lastName}} </option>
                        </select>
                      </span>
                    </td>
                </ng-container>

                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef>Status</th>
                    <td mat-cell *matCellDef="let element">
                        <span *ngIf="element.status!='null'" [id]="element.taskId+'__status'">
              <span [matTooltip]="element.status" *ngIf="element.status=='Pending'" class="text-warning" >
                <i class="fa fa-clock"></i>
              </span>

                        <span [matTooltip]="element.status" *ngIf="element.status=='Running' || element.status=='InProgress'" class="text-primary">
              <img src="../../../../assets/images/RPA/DotSpin.gif" class="testplus">
            </span>

                        <span [matTooltip]="element.status" *ngIf="(element.status=='Success' || element.status=='Executed') ">
              <img src="../../../../../assets/images/RPA/icon_latest/Success.svg" class="testplus">
            </span>

                        <span [matTooltip]="element.status" *ngIf="element.status=='Rejected' ">
              <!-- <li class="fa fa-times-circle"> -->
                <img src="../../../../../assets/images/RPA/icon_latest/close-red.svg" class="testplus">
            </span>

                        <span [matTooltip]="element.status" *ngIf="element.status=='Approved' ">
              <img src="../../../../../assets/images/RPA/icon_latest/Success.svg" class="testplus">
              <!-- <span><li class="fa fa-check-circle" style="font-size:19px"></span>&nbsp;<span> </span> -->
                        </span>

                        <span [matTooltip]="element.status" *ngIf="(element.status=='Failure' || element.status=='Failed')">
              <!-- <li class="fa fa-times-circle"> -->
                <img src="../../../../../assets/images/RPA/icon_latest/close-red.svg" class="testplus">
            </span>

                        <!--<img src="../../../../assets/images/RPA/newicon.png" style="filter: none; width: 20px;">-->
                        <span [matTooltip]="element.status" *ngIf="element.status=='New'" class="text-primary">
              <img src='../../../../../assets/images/RPA/newicon.png' class="testplus" >
            </span>
                        <!--<span *ngIf="element.status=='New'" class="text-primary"><span style="background-color:#0062cf;border-radius: 50%;color:white;padding-right:5px;padding-left:4px;padding-top:5px;padding-bottom:5px;font-size:10px;text-align: center;align-content: center;align-items: center;"><!--<img src="../../../../assets/images/RPA/userobot.png" style="filter: none; width: 19px;">-->
                        <!--<i class="fas fa-robot text-light"></i></span>&nbsp;<span> </span></span>-->
                        <span [matTooltip]="element.status" *ngIf="element.status=='Stop' || element.status=='Stopped'">
              <img src="../../../../../assets/images/RPA/stop_fail_icon.svg" class="testplus">
            </span>

                        <span [matTooltip]="element.status" *ngIf="element.status=='Paused' || element.status=='Pause'">
              <!-- <li class="fas fa-pause-circle"> -->
                <img src="../../../../../assets/images/SO/pause-circle.svg" class="testplus"/>
            </span>

                        <span [matTooltip]="element.status" *ngIf="element.status==null || element.status==''">
              <span>
                <!-- <li class="fas fa-pause-circle"> -->
                  <img src="../../../../../assets/images/SO/pause-circle.svg" class="testplus"/>
                </span>--
                        </span>
                        <!--<span *ngIf="element.status!='null'" [id]="element.taskId+'__status'">
            <span *ngIf="element.status=='InProgress'" class="text-primary" ><span><img src='../../../../assets/images/RPA/processloading.svg' style='height:25px'></span>&nbsp;<span> </span></span>
            <span *ngIf="element.status=='Success'" class="text-success"><span><li class="fa fa-check"></span>&nbsp;<span> </span></span>
            <span *ngIf="element.status=='New'" class="text-primary"><span><img src="/assets/images/RPA/newicon.png" style="height:20px;"></span>&nbsp;<span> </span></span>
            <span *ngIf="element.status=='Failed'" class="text-danger"><span><li class="fa fa-times"></span>&nbsp;<span> </span></span>
            -->
                        </span>

                        <span *ngIf="element.status=='null'">---</span>
                    </td>
                </ng-container>
                <!--
      <ng-container matColumnDef="successTask">
        <th mat-header-cell *matHeaderCellDef>Success</th>
        <td mat-cell *matCellDef="let element">
            <span *ngIf="element.successTask!='null'" [id]="element.taskId+'__success'" [matTooltip]="element.successTask">{{(element.successTask.length > 20) ? ((element.successTask).slice(0, 20) + '...') : element.successTask}}</span>
            <span *ngIf="element.successTask=='null'">---</span>
        </td>
    </ng-container>

      <ng-container matColumnDef="failureTask">
          <th mat-header-cell *matHeaderCellDef>Failure</th>
          <td mat-cell *matCellDef="let element">
              <span *ngIf="element.failureTask!='null'" [id]="element.taskId+'__failed'">{{element.failureTask}}</span>
              <span *ngIf="element.failureTask=='null'">---</span>
          </td>
      </ng-container>-->

                <ng-container matColumnDef="Operations">
                    <th mat-header-cell *matHeaderCellDef>Actions</th>
                    <td mat-cell *matCellDef="let element">
                        <div *ngIf="element.taskType=='Automated'">
                            <span>
                <button [disabled]="element.taskType=='Human' || element.taskType==null" [class]="(element.taskType=='Human' || element.taskType==null)?'undobtn':''" (click)="createtaskbotoverlay(element.taskId)" matTooltip="Create and Assign Resource">
                  <img src="../../../../../assets/images/RPA/icon_latest/pluse-blue.svg" class="testplus"/>
                </button>
              </span>
                            <span>
                <button  (click)="assignbot(element.taskId, element.processId)" *ngIf="element.taskType == 'Automated'" matTooltip="Assign Bot">
                  <!-- <i  class="fas fa-check text-success"></i> -->
                  <img src="../../../../../assets/images/SO/check-success.svg" class="testplus"/>
                </button>
                <button (click)="assignbot(element.taskId, element.processId)" *ngIf="element.taskType == 'Human'" matTooltip="Assign Resource">
                  <!-- <i  class="fas fa-check text-success"></i> -->
                  <img src="../../../../../assets/images/SO/check-success.svg" class="testplus"/>
                </button>
              </span>
                            <span>
                <button (click)="resetbot(element.taskId)" matTooltip="Reset">
                  <img src="../../../../../assets/images/RPA/icon_latest/repeat-blue.svg" class="testplus"/>
                </button>
              </span>
                            <span>
                <button [disabled]="element.botId==0" [class]="element.botId==0?'undobtn':''" (click)="loadbotdatadesign(element.botId)" [disabled]="element.sourceType!='EPSoft'" *ngIf="element.taskType =='Automated'||element.taskType =='Bot'" matTooltip="View Bot">
                  <img src="../../../../../assets/images/Projects/eye-show.svg" class="testplus1" />
                </button>
                <button  *ngIf="element.taskType !='Automated'" class="undobtn" >
                  <!-- <i class="fa fa-eye-slash"></i> -->
                  <img src="../../../../../assets/images/Projects/eye-hide.svg" class="testplus1" />

                </button>

              </span> &nbsp;
                            <span>
                    <button  matTooltip="Delete Task" class="undobtn" (click)="delete(element.taskId, element.processId)">
                        <img src="../../../../../assets/images/Projects/delete-black.svg" class="testplus1"/>
                    </button>
              </span>
                        </div>
                        <div *ngIf="element.taskType=='Human'">
                            <span>
                <button [disabled]="element.taskType=='Human' || element.taskType==null" [class]="(element.taskType=='Human' || element.taskType==null)?'undobtn':''" (click)="createtaskbotoverlay(element.taskId)" matTooltip="Create and Assign Resource">
                  <img src="../../../../../assets/images/SO/plus dis.svg" class="testplus"/>
                </button>
              </span>
                            <span>
                <button (click)="assignhuman(element.taskId)" matTooltip="Assign Resource">
                  <img src="../../../../../assets/images/SO/check-success.svg" class="testplus"/>
                </button>
              </span>
                            <span>
                <button (click)="resetbot(element.taskId)" matTooltip="Reset">
                  <img src="../../../../../assets/images/RPA/icon_latest/repeat-blue.svg" class="testplus"/>
                </button>
              </span>
                            <span>
                <button (click)="loadbotdatadesign(element.botId)" *ngIf="element.taskType =='Automated'||element.taskType =='Bot'" matTooltip="View Bot">
                  <!-- <i class="fa fa-eye"></i> -->
                  <img src="../../../../../assets/images/Projects/eye-show.svg" class="testplus1" />
                </button>
                <button  *ngIf="element.taskType !='Automated'" >
                  <!-- <i class="fa fa-eye-slash"></i> class="undobtn"-->
                  <img src="../../../../../assets/images/Projects/eye-hide.svg" class="testplus1" />
                </button>
              </span>
                            <span>
                              <button  tooltip="Delete Task" (click)="delete(element.taskId)">
                                <img src="../../../../../assets/images/Projects/delete-black.svg" class="testplus"/>
                              </button>
                <!-- <button (click)="SLACon(element.botId)" matTooltip="SLA Configuration"><i class="fa fa-cog" aria-hidden="true"></i></button> -->
                <!-- <button (click)="SLACon(element)" matTooltip="SLA Configuration"><i class="fa fa-cog" aria-hidden="true"></i></button> -->
              </span>
                        </div>
                    </td>
                </ng-container>
                <!-- <ng-container matColumnDef="Smoke_Test">
        <th mat-header-cell *matHeaderCellDef >Smoke Test</th>
        <td mat-cell *matCellDef="let element" >
          <button [disabled]="element.taskType!='Automated'" class='btn btn-xs btn-primary' (click)="runsmoketest(element.taskId)">Run Test</button>
        </td>
      </ng-container> -->
                <ng-container matColumnDef="Loading">
                    <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="9">
                        Loading
                    </td>
                </ng-container>
                <ng-container matColumnDef="noData">
                    <td mat-footer-cell class="mat-footer" style="text-align:center" *matFooterCellDef colspan="9">
                        No Records Found
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr class="row-highlight" mat-row *matRowDef="let row; columns: displayedColumns;" cdkDrag [cdkDragData]="row"></tr>
                <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['Loading']" [ngClass]="{'hide':dataSource2!=null}"></tr>
                <tr class="row-highlight mat-footer" mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide':!(dataSource2!=null && dataSource2.data.length==0)}"></tr>
            </table>
        </div>

        <!--</div>-->
        <mat-paginator class="newpaginationdiv" #paginator10 [pageSize]="10" [pageSizeOptions]="[5, 10,25,50]" [showFirstLastButtons]="true"></mat-paginator>
        <!-- </mat-card> -->



    </div>
</div>


<ng-template #process_logs>
    <div id='logsid'>
        <div class="modal-header modelprhead">
            <!-- <span *ngIf="viewlogid1!=undefined" class="module-back-button" (click)="viewlogid1=undefined">
      <i class="fas fa-arrow-left" aria-hidden="true"></i>
    </span> -->
            Logs
            <!-- <span (click)="getprocesslog()" class="logrefresh">Refresh</span> -->

            <button type="button" class="close pull-right" (click)="logs_modal.hide()">
        <img alt="" src="../../../../../assets/images/Projects/circle-close.svg">
      </button>

            <!-- <span class="pull-right clickable" (click)="logs_modal.hide()"><img src="../../../../assets/images/RPA/icon_latest/close.svg" alt=""></span> -->
        </div>
        <div class="process-logs modal-body">
            <app-so-processlog [processId]="processId1"></app-so-processlog>
        </div>

    </div>

</ng-template>


<div *ngIf="schedulepopup">
    <div id='sch' class="rpa-modal  schedulemod newshacl" style="display:block">
        <div class="rpa-modal-content">
            <div class="rpa-modal-header">
                <span class="rpa-modal-close" (click)="closescheduler()"><img src="../../../../assets/images/RPA/icon_latest/close.svg" alt=""></span>
                <h4>Scheduler</h4>
            </div>
            <div>
                <app-so-scheduler [data]="schdata" id="Scheduler"></app-so-scheduler>
            </div>
        </div>
    </div>
</div>

<div id='configuration' class="rpa-modal">
    <div class="rpa-modal-content">
        <div class="rpa-modal-header">
            <span class="rpa-modal-close" (click)="closeconfig()"><img src="../../../../assets/images/RPA/icon_latest/close.svg" alt=""></span>
            <span *ngIf="(blueprismconfigoverlay != true) && (UiPathconfigoverlay != true)"><h4>Configuration</h4></span>
            <span *ngIf="blueprismconfigoverlay == true"><h4>BluePrism Configuration</h4></span>
            <span *ngIf="UiPathconfigoverlay == true"><h4>UiPath Configuration</h4></span>
        </div>
        <div class="rpa-modal-body" *ngIf="blueprismconfigoverlay != true && UiPathconfigoverlay != true">
            <div class="container">

                <div class="row">
                    <div class="col-md-2" style="margin-bottom:25px;">
                    </div>
                    <div class="col-md-4 img_box_shadow" style="padding:40px;margin-bottom:25px;">
                        <button (click)="getblueprismconfiguration()" class=""><img style="width:260px !important;height:60px !important;" src="/assets/images/blue-blue_prism_logo.png"></button>
                    </div>
                    <div class="col-md-4 img_box_shadow" style="padding:40px;margin-bottom:25px;">
                        <button (click)="getUIpathconfiguration()"><img style="width:180px !important;height:65px !important;" src="/assets/images/UIpath_logo.png"></button>
                    </div>

                    <div class="col-md-2" style="margin-bottom:25px;">
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="blueprismconfigoverlay == true">
            <div class="rpa-modal-body">
                <div class="row">
                    <div class="col-md-1" *ngIf="addBPconfigstatus == false"></div>
                    <div class="col-md-10" style="margin-top:10px;" *ngIf="addBPconfigstatus == false && BluePrismFlag==false">
                        <table class="configtable table" style="width:100% !important">
                            <tr>
                                <th>Connection Name</th>
                                <th>Blue Prism UserName</th>
                                <th>Blue Prism Password</th>
                                <th>Hostname</th>
                                <th>Username</th>
                                <th>Password</th>
                                <th>Port</th>
                                <th>Status</th>
                                <th style="width:100px"></th>
                            </tr>
                            <tr style="padding:5px;" *ngFor="let config of blueprism_configs">
                                <td>{{config.configName}}</td>
                                <td>{{config.bluePrismUsername}}</td>
                                <td>{{config.bluPrismPassword | ipcustompipe}}</td>
                                <td>{{config.hostAddress | ipcustompipe}}</td>
                                <td>{{config.username}}</td>
                                <td>{{config.password | ipcustompipe}}</td>
                                <td>{{config.port}}</td>
                                <td>
                                    <span *ngIf="config.status==1">
                                  <img class="rpa-image1" src="/assets/images/RPA/GreenCricle.png" >Active
                                </span>

                                    <span *ngIf="config.status==0">
                                 <img class="rpa-image1" src="/assets/images/RPA/red-circle.png" >Inactive
                              </span>
                                </td>
                                <td style="width:100px">
                                    <span class="display_hover" style="background-color: #f5f5f5;">
                                  <button class="display_hover_edit" title="edit" (click)="edit_blue_prism_config(config.bluePrismId)" style="padding:2px;"><i class="fas fa-edit"></i></button> &nbsp;
                                  <button class="display_hover_alt" (click)="delete_blueprism_config(config.bluePrismId)" title="delete" style="padding:2px;"><i class="fas fa-trash-alt"></i></button>
                                </span>
                                </td>
                            </tr>
                        </table>
                        <pagination-controls (pageChange)="q = $event"></pagination-controls>


                    </div>
                    <div class="col-md-1" *ngIf="addBPconfigstatus == false && BluePrismFlag== false" style="margin-top:10px;">
                        <span class="pull-right">
                            <button matTooltip="Add" mat-mini-fab color="basic" [disabled]="checkedsource==''" (click)="addBPconfigstatus = true;BluePrismFlag=false">
                              <i class="fa fa-plus"></i>
                            </button> &nbsp;&nbsp;
                            <button (click)="blueprismconfigoverlay = false;BluePrismFlag=false" matTooltip="Back" mat-mini-fab color="basic">
                              <i class="fa fa-arrow-left"></i>
                            </button>
                          </span>


                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12 " [formGroup]="BluePrismConfigForm" *ngIf="addBPconfigstatus == true || BluePrismFlag==true">
                                <div class="col-md-3">
                                    <label for="configName">Connection Name</label>
                                    <input type="text" id="configName" #configName formControlName="configName" autocomplete="off" placeholder="Enter Connection Name" required/>

                                </div>
                                <div class="col-md-3">
                                    <label for="bluePrismUsername">Blue Prism UserName</label>
                                    <input type="text" id="bluePrismUsername" autocomplete="off" #bluePrismUsername formControlName="bluePrismUsername" placeholder="Enter Blue Prism UserName" required/>
                                </div>
                                <div class="col-md-3">
                                    <label for="bluPrismPassword">Blue Prism Password</label>
                                    <input type="password" id="bluPrismPassword" autocomplete="off" #bluPrismPassword formControlName="bluPrismPassword" placeholder="Enter Blue Prism Password" required/>
                                </div>
                                <div class="col-md-3">
                                    <label for="hostAddress">Hostname</label>
                                    <input type="text" id="hostAddress" autocomplete="off" #hostAddress formControlName="hostAddress" placeholder="Enter Hostname" required/>
                                </div>
                                <div class="col-md-3" style="padding-top:5px">
                                    <label for="username">Username</label>
                                    <input type="text" id="username" autocomplete="off" #username formControlName="username" placeholder="Enter Username" required/>
                                </div>
                                <div class="col-md-3" style="padding-top:5px">
                                    <label for="password">Password</label>
                                    <input type="password" id="password" autocomplete="off" #password formControlName="password" placeholder="Enter Password" required/>
                                </div>
                                <div class="col-md-3" style="padding-top:5px">
                                    <label for="port">Port</label>
                                    <input type="text" id="port" autocomplete="off" #port formControlName="port" placeholder="Enter Port Number" required/>
                                </div>
                                <div class="col-md-3" style="padding-top:5px">

                                    <input type="checkbox" formControlName="status">&nbsp; Active
                                </div>
                                <div class="col-md-12">

                                    <button *ngIf="addBPconfigstatus == true" class='btn btn-primary' (click)="save_blue_prism_config()" tooltip="Save">Save</button>
                                    <button *ngIf="BluePrismFlag == true" class='btn btn-primary' (click)="save_blue_prism_config()" tooltip="Update">Update</button>

                                    <button class="btn btn-primary" (click)="testBluePrismconnection()" tooltip="Test Connection">Test Connection</button>
                                    <button class="btn btn-primary" tooltip="Cancel" (click)="addBPconfigstatus = false;BluePrismFlag=false">Cancel</button>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div *ngIf="UiPathconfigoverlay == true">
            <div class="rpa-modal-body">
                <div class="container">

                    <div class="row">
                        <div class="col-md-12" *ngIf="addconfigstatus==false">
                            <span>
                      <input type="checkbox" (click)="blueprism=false;kofax=false;checked('UiPath',uipath)" [(ngModel)]="uipath"> UiPath
                    </span>
                            <!-- &nbsp;&nbsp;
                    <span>
                      <input type="checkbox" (click)="kofax=false;uipath=false;checked('BluePrism',blueprism)" [(ngModel)]="blueprism"> Blue prism
                    </span>
                    &nbsp;&nbsp;
                    <span>
                      <input type="checkbox" (click)="uipath=false;blueprism=false;checked('Kofax',kofax)" [(ngModel)]="kofax"> Kofax
                    </span>
                    &nbsp;&nbsp; -->
                            <span class="pull-right">
                      <button [disabled]="checkedsource==''" matTooltip="Add" mat-mini-fab color="basic" (click)="addconfigstatus=true">
                        <i class="fa fa-plus"></i>
                      </button>&nbsp;&nbsp;
                      <button (click)="UiPathconfigoverlay = false" matTooltip="Back" mat-mini-fab color="basic">
                        <i class="fa fa-arrow-left"></i>
                      </button>
                    </span>
                        </div>
                        <div class="col-md-12" *ngIf="addconfigstatus==false">

                            <table class="configtable table">
                                <th>Account Name</th>
                                <th>Tenant Name</th>
                                <th>Client ID</th>
                                <th>User Key</th>
                                <th>Status</th>
                                <th style="width:100px;"></th>
                                <tr style="padding:5px;" *ngFor=" let config of configurations  | paginate: { itemsPerPage: 5,currentPage: q }">
                                    <td>{{config.accountName}}</td>

                                    <td>{{config.tenantName}}</td>

                                    <td>{{config.clientId}}</td>

                                    <td>{{config.userKey}}</td>

                                    <td>
                                        <span *ngIf="config.active == true">
                              <img class="rpa-image1" src="/assets/images/RPA/GreenCricle.png">Active
                            </span>
                                        <span *ngIf="config.active == false">
                              <img class="rpa-image1" src="/assets/images/RPA/red-circle.png" >Inactive
                            </span>
                                    </td>
                                    <td style="width:100px;">
                                        <span class="display_hover" style="background-color: #f5f5f5;">
                              <button class="display_hover_edit" title="edit" style="padding:2px;"><i class="fas fa-edit"></i></button> &nbsp;
                              <button class="display_hover_alt" title="delete" style="padding:2px;"><i class="fas fa-trash-alt"></i></button>
                            </span>
                                    </td>

                                </tr>
                            </table>

                            <pagination-controls (pageChange)="q = $event"></pagination-controls>

                        </div>

                        <div class="col-md-12 " *ngIf="addconfigstatus==true">
                            <div class="col-md-3">
                                <label for="account_name">Account Name</label>
                                <input type="text" [(ngModel)]="accountName" id="account_name" autocomplete="off" placeholder="Enter Account Name" required/>
                            </div>
                            <div class="col-md-3">

                                <label for="tenant">Tenant Name</label>
                                <input type="text" [(ngModel)]="tenantId" id="tenant" autocomplete="off" placeholder="Enter Tenant Name" required/>
                            </div>
                            <div class="col-md-3">

                                <label for="userkey">User Key</label>
                                <input type="text" [(ngModel)]="userKey" id="userkey" autocomplete="off" placeholder="Enter User Key" required/>
                            </div>
                            <div class="col-md-3">

                                <label for="clientId">Client Id</label>
                                <input type="text" [(ngModel)]="clientId" id="clientId" autocomplete="off" placeholder="Enter Client Id" required/>

                            </div>
                            <div class="col-md-3">

                                <input type="checkbox" [(ngModel)]="activeStatus">&nbsp; Active

                            </div>
                            <div class="col-md-12">

                                <button class='btn btn-primary' (click)="saveconfiguration()">Save</button>
                                <button class="btn btn-primary" tooltip="Test Connection">Test Connection</button>
                                <button class="btn btn-primary" (click)="addconfigstatus=false">Cancel</button>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id='SLAConfig' class="rpa-modal">
    <div class="rpa-modal-content">
        <div class="rpa-modal-header">
            <span class="rpa-modal-close" (click)="SLAclose()"><img src="../../../../assets/images/RPA/icon_latest/close.svg" alt=""></span>
            <h4>SLA Configuration</h4>
        </div>
        <div class="modal-body">
            <div class="container m-contanier form-body">
                <form [formGroup]="insertslaForm_so_bot" (ngSubmit)="savedata_SO_bot()">

                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="processName">Process Name<span class="star">*</span></label>
                        <input type="text" class="form-control data" maxlength="50" formControlName="processName" #processName value="" placeholder="Enter Process Name">
                        <span *ngIf="(insertslaForm_so_bot.get('processName').invalid && insertslaForm_so_bot.get('processName').touched) && !insertslaForm_so_bot.controls['processName'].hasError('maxlength')" class="errspan required">Required Process Name*</span>
                        <div *ngIf="insertslaForm_so_bot.controls['processName'].hasError('maxlength')" class="errspan required">
                            Maximum of 50 characters
                        </div>
                    </div>

                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="processName">Process Owner<span class="star">*</span></label>
                        <input type="text" class="form-control data" formControlName="processOwner" #processName value="" placeholder="Enter Process Owner">
                        <span *ngIf="(insertslaForm_so_bot.get('processOwner').invalid && insertslaForm_so_bot.get('processOwner').touched) && !insertslaForm_so_bot.controls['processOwner'].hasError('maxlength')" class="errspan required">Required Process Owner*</span>
                        <div *ngIf="insertslaForm_so_bot.controls['processOwner'].hasError('maxlength')" class="errspan required">
                            Maximum of 50 characters
                        </div>
                    </div>

                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="taskName">Task Name<span class="star">*</span></label>
                        <input type="text" class="form-control data" maxlength="50" formControlName="taskName" #processName value="" placeholder="Enter Process Name">
                        <span *ngIf="(insertslaForm_so_bot.get('taskName').invalid && insertslaForm_so_bot.get('taskName').touched) && !insertslaForm_so_bot.controls['taskName'].hasError('maxlength')" class="errspan required">Required Process Name*</span>
                        <div *ngIf="insertslaForm_so_bot.controls['taskName'].hasError('maxlength')" class="errspan required">
                            Maximum of 50 characters
                        </div>
                    </div>
                    <!-- <div class="col-md-12 p-0 form-group">
                <label class="label-control" for="botName">Bot Name<span class="star">*</span></label>
                <input type="text" class="form-control data" formControlName="botName" value="" placeholder="Enter Bot Name">
                <span *ngIf="(insertslaForm_so_bot.get('botName').invalid && insertslaForm_so_bot.get('botName').touched) && !insertslaForm_so_bot.controls['botName'].hasError('maxlength')" class="errspan required">Required Bot Name*</span>
                <div *ngIf="insertslaForm_so_bot.controls['botName'].hasError('maxlength')" class="errspan required">
                    Maximum of 50 characters
                </div>
            </div> -->
                    <!-- <div class="col-md-12 p-0 form-group">
                <label class="label-control" for="botSource">Bot Source<span class="star">*</span></label>
                <input type="text" class="form-control data" formControlName="botSource"  value="" placeholder="Enter Bot Source">
                <span *ngIf="(insertslaForm_so_bot.get('botSource').invalid && insertslaForm_so_bot.get('botSource').touched) && !insertslaForm_so_bot.controls['botSource'].hasError('maxlength')" class="errspan required">Required Bot Source*</span>
                <div *ngIf="insertslaForm_so_bot.controls['botSource'].hasError('maxlength')" class="errspan required">
                    Maximum of 50 characters
                </div>
            </div> -->
                    <!-- <div class="col-md-12 p-0 form-group">
                <label class="label-control" for="taskOwner">Task Owner<span class="star">*</span></label>
                <input type="text" maxlength="51" class="form-control data" formControlName="taskOwner"  value="" placeholder="Enter Connection Name">
                <span *ngIf="(insertslaForm_so_bot.get('taskOwner').invalid && insertslaForm_so_bot.get('taskOwner').touched) && !insertslaForm_so_bot.controls['taskOwner'].hasError('maxlength')" class="errspan required">Required Task Owner*</span>
                <div *ngIf="insertslaForm_so_bot.controls['taskOwner'].hasError('maxlength')" class="errspan required">
                    Maximum of 50 characters
                </div>
            </div> -->

                    <div class="col-md-6 pl-0 form-group">
                        <label class="label-control" for="slaConfigId">SLA Breach Limit
                <!-- <span class="star">*</span> -->
              </label>
                        <input type="number" style="width:100px" min=0 max=60 maxlength="2" formControlName="slaConfigId" onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" value="" placeholder="00">
                        <!-- <input type="text" maxlength="2" onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data"  #slaConfigId value="" placeholder="MM">
              <span *ngIf="(insertslaForm_so_bot.get('slaConfigId').invalid && insertslaForm_so_bot.get('slaConfigId').touched) && !insertslaForm_so_bot.controls['slaConfigId'].hasError('maxlength')" class="errspan required">Required SLA Configuration*</span> -->
                        <!--<div *ngIf="insertslaForm_so_bot.controls['slaConfigId'].hasError('maxlength')" class="errspan required">
                Maximum of 2 characters
              </div>  -->
                    </div>

                    <div class="col-md-6 pr-0 form-group">
                        <label class="label-control" for="thresholdLimit">Threshold Limit 
                <!-- <span class="star">*</span> -->
              </label>
                        <input type="number" style="width:100px" min=0 max=60 onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="thresholdLimit" value="" maxlength="2" placeholder="00">
                        <span *ngIf="(insertslaForm_so_bot.get('thresholdLimit').invalid && insertslaForm_so_bot.get('thresholdLimit').touched) && !insertslaForm_so_bot.controls['thresholdLimit'].hasError('maxlength')" class="errspan required">Required Threshold Limit*</span>
                    </div>

                    <div class="col-md-6 pl-0 form-group">
                        <label class="label-control" for="totalRetries">Total Retries</label>
                        <input type="number" style="width:100px" min=0 max=10 onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="totalRetries" value="" placeholder="0">
                        <!--<span *ngIf="(insertslaForm_so_bot.get('totalRetries').invalid && insertslaForm_so_bot.get('totalRetries').touched) && !insertslaForm_so_bot.controls['totalRetries'].hasError('maxlength')" class="errspan required">Required Breach Actual Alert*</span>
              <div *ngIf="insertslaForm_so_bot.controls['totalRetries'].hasError('maxlength')" class="errspan required">
                  Maximum of 50 characters
              </div>-->
                    </div>

                    <div class="col-md-6 pr-0 form-group">
                        <label class="label-control" for="retriesInterval">Retry Interval</label>
                        <input type="number" maxlength="2" style="width:100px" min=0 max=60 onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="retriesInterval" value="" placeholder="00">
                        <!-- <span *ngIf="insertslaForm_so_bot.get('retriesInterval').invalid && insertslaForm_so_bot.get('retriesInterval').touched" class="errspan required">Required Retries Interval*</span> -->
                    </div>

                    <div class="col-md-12 p-0 form-group">
                        <label class="label-control" for="notificationType">Notificaion Type<span class="star">*</span></label>
                        <div class="row">
                            <div class="col-md-6 p-0">
                                <input type="checkbox" formControlName="email" class="emailcheck" id="emailcheck">
                                <label class="lbl_chk_cls" for="emailcheck">E-mail</label>
                            </div>
                            <div class="col-md-6 p-0">
                                <input type="checkbox" class="smscheck" formControlName="sms" id="smscheck">
                                <label class="lbl_chk_cls" for="smscheck">SMS</label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <!-- <div class="col-md-12 p-0 form-group">
                    <label for="breachAlerts">Breach Actual Alert<span class="star">*</span></label>
                    <select class="form-control"  value="" formControlName="breachAlerts">
                        <option value="">-- Select Breach Actual Alerts --</option>
                        <option value="Error">Error</option>
                        <option value="Warning">Warning</option>
                        <option value="All">All</option>
                      </select>
                    <span *ngIf="(insertslaForm_so_bot.get('breachAlerts').invalid && insertslaForm_so_bot.get('breachAlerts').touched) && !insertslaForm_so_bot.controls['breachAlerts'].hasError('maxlength')" class="errspan required">Required Breach Actual Alert*</span> -->
                        <!--<div *ngIf="insertslaForm_so_bot.controls['breachAlerts'].hasError('maxlength')" class="errspan required">
                        Maximum of 50 characters
                    </div>-->
                        <!-- </div> -->

                    </div>
                    <div class="row">

                        <!--<div class="col-md-12 p-0 form-group">
                <label for="expectedEDate">Expected Execution Time in  Minutes</label>
                <input type="text" maxlength="2" onkeypress="return (event.charCode > 47 && event.charCode < 58)" class="form-control data" formControlName="expectedEDate" #expectedEDate value="" placeholder="MM">-->
                        <!--<div class="row">
                    <div class="col-md-6 formelement">
                      <input type="date" [value]="expectedDate" [min]="expectedDate" formControlName="expectedDate">
                    </div>
                    <div class="col-md-6 formelement">
                      <ngx-timepicker-field style="line-height: 0.928571;" [controlOnly]="true" [defaultTime]="'23:11'" [format]="24" formControlName="expectedTime"></ngx-timepicker-field>
                    </div>
                </div> -->
                        <!--</div>-->
                    </div>

                    <!--<div class="row">
            <div class="col-md-12 p-0 form-group">
                <label for="cascadingImpact">Cascading Impact</label> &nbsp;&nbsp;&nbsp;
                <mat-slide-toggle style="height:20px;vertical-align: middle !important;" (change)="cascadingImp()" class="example-margin" color="primary"
                formControlName="cascadingImpact" tooltip="Cascading Impact" placement="bottom">
                </mat-slide-toggle>
            </div>
            <div class="col-md-12 p-0 form-group" *ngIf="cascadingImpactbtn == true">
              <label for="systemImpacted">System Impacted</label>
              <input type="text" maxlength="51" class="form-control data" formControlName="systemImpacted" #systemImpacted value="" placeholder="Enter system Impacted">
              <span *ngIf="insertslaForm_so_bot.get('systemImpacted').invalid && insertslaForm_so_bot.get('systemImpacted').touched" class="errspan required">Required System Impacted*</span>
            </div>

            </div>-->
                    <!--<div class="row">

            </div>-->

                    <div class="form-footer">
                        <input type="button" class="btn btn-default" value="Reset" (click)="resetsla()">
                        <input type="button" class="btn btn-primary" value="Save" (click)="slaalerts()">
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<ng-template class="modal-lg" #addTask>
    <div class="modal-header modelprhead">
        <h4 class="modal-title pull-left">Add Task</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="logs_modal.hide()">
          <span aria-hidden="true"><img src="../../../../assets/images/Projects/circle-close.svg" alt=""></span>
      </button>
    </div>
    <div class="logs-container h-scroll">
        <div class="modal-body">
            <form [formGroup]="addTaskForm" #addtask="ngForm" (ngSubmit)="addexistingtasks()">
                <div class="col-md-12 p-0 form-fields">
                    <label class="label-control">Task(s)<span class="star">*</span></label>
                    <ng-select formControlName="tasks" [multiple]="true" placeholder="Select tasks" [(ngModel)]="tasks" required>
                        <ng-option *ngFor="let task of taskslist" [value]="task.taskId">{{task.taskName}}</ng-option>
                    </ng-select>

                    <span *ngIf="addTaskForm.get('tasks').invalid && addTaskForm.get('tasks').touched" class="errspan required">Tasks Required*</span>
                </div>
            </form>
            <div class="pull-right">
                <button (click)="resetUserInvite()" class="btn btn-default">Cancel</button>
                <button (click)="addexistingtasks()" class="btn btn-primary btn-update">Submit</button>
            </div>
        </div>

    </div>
</ng-template>