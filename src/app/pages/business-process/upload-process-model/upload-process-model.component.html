<div class="row drop_div">
  <div class="col-md-6">
    <button class="btn" (click)="reSize=true" *ngIf="isShowConformance">Show Conformance</button>
    <button class="btn" (click)="getBpmnDifferences()" *ngIf="reSize && isConfNavigation" >Show Differences</button>
  </div>
  <div class="col-md-2" *ngIf="!isShowConformance||(isShowConformance && reSize && isConfNavigation)">
      <b>BPMN Notation&nbsp;</b>
      <select class="form-control" [(ngModel)]="selected_notation" (change)="displayBPMN()">
          <option value="undefined" selected>{{bpmnModel.bpmnProcessName}}</option>
          <option [value]="bpmnIndex" *ngFor="let each_bpmn of saved_bpmn_list;let bpmnIndex = index" [selected]="each_bpmn.bpmnModelId == selected_modelId">
              {{each_bpmn.bpmnProcessName}}</option>
      </select>
  </div>
  <div class="col-md-2" *ngIf="!isShowConformance||(isShowConformance && reSize && isConfNavigation)">
    <b>Approver List&nbsp;</b>
    <select class="form-control" [(ngModel)]="selected_approver">
        <option [value]="each_approver.firstName+' '+each_approver.lastName" *ngFor="let each_approver of approver_list">
            {{each_approver.firstName+" "+each_approver.lastName}}</option>
    </select>
  </div>
  <div class="col-md-2"></div>
</div>
  <span class="update_info" *ngIf="updated_date_time">Last Updated : <b>{{updated_date_time | date:"dd-MM-y HH:mm:ss"}}</b></span>        <as-split class="ex-percent" [ngClass]="reSize?'bpmn-split':''" unit="percent"><!-- (dragEnd)="dragEnd($event)" -->
  <as-split-area [size]="isShowConformance?(reSize?50:100):0"><!-- [hidden]="!reSize"-->
    <div *ngIf="isShowConformance" class="bps_overlay">
      <div class="canvas2 readOnly"  id="canvas2"></div>
    </div>
    <div class="canvas2" *ngIf="!isShowConformance"  id="canvas2"></div>
  </as-split-area>
  <as-split-area [size]="isShowConformance?(reSize?50:0):100">
    <app-upload-create-drop-bpmn *ngIf="isShowConformance && reSize && !isConfNavigation"></app-upload-create-drop-bpmn> 
    <div class="canvas1"  id="canvas1" *ngIf="(isShowConformance && reSize && isConfNavigation)||(!isShowConformance)"></div>
  </as-split-area>
</as-split>
<div class="row btn_row"> 
  <button class="left" (click)="downloadBpmn()"><img src="..\assets\downloadimage.svg"></button>
  <ngx-dropzone class="upload_again_btn" (change)="slideUp($event)" [multiple]=false [accept]="'.bpmn'"  *ngIf="!isShowConformance||(isShowConformance && reSize && isConfNavigation)">
    <ngx-dropzone-label>
        <button class="btn bpmn-btn">Upload Again</button>
    </ngx-dropzone-label>
  </ngx-dropzone>
  <button class="right btn btn-success" (click)="submitDiagramForApproval()">Continue for Approval</button>
  <button class="right btn btn-success" (click)="automate()" [disabled]="isShowConformance && !isConfNavigation">Automate</button>
  <button class="right btn" (click)="saveprocess()" *ngIf="!isShowConformance||(isShowConformance && reSize && isConfNavigation)">Save Process</button>
</div>
<app-list-of-changes></app-list-of-changes>  
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">  
  <p style="color: white">Auto Saving... </p>  
</ngx-spinner>
<div id="myModal" class="modal">
  <div class="modal-content">
      <div class="modal-header">
          <span class="close" (click)="slideDown();">&times;</span>
          <h4>BPMN Details</h4>
      </div>
      <div class="modal-body">
          <form autocomplete="off" #createBpmnForm="ngForm"> 
              <div class="container m-contanier">
              <label for="category"><b>Select Category</b></label>
                <select name="category" class="form-control" (change)='onchangeCategories(categoryName)' #category="ngModel" [(ngModel)]="categoryName" required>
                    <option *ngFor='let categories of categoriesList.data;let i=index;trackBy:loopTrackBy' [value]="categories.categoryName">{{categories.categoryName}} </option>
                <option value="other">Other</option>
                </select>
                <br>
                <div *ngIf='isotherCategory'>
                  <label for="otherCategory"><b>Enter Category</b></label>
                  <input type="text" placeholder="Enter Category" name="otherCategory" #otherCategory="ngModel" [(ngModel)]="othercategory" required class="form-control">
                </div>
              <label for="piName"><b>Enter Process Name</b></label>
              <input type="text" name="bpmnName" [(ngModel)]="bpmnProcessName" required class="form-control" placeholder="Process Name">
                  <div class="clearfix m-btn">
                      <button class="apply_button" type="submit" (click)="uploadAgainBpmn()" [disabled]="!createBpmnForm.valid">Proceed</button>
                  </div>
              </div>
          </form>
      </div>
  </div>
</div>
<div class="spinoverlay" *ngIf="isLoading"><div class="spincenter">
  <mat-progress-spinner diameter=50  mode="indeterminate"></mat-progress-spinner> 
  </div></div>