<div class="row header_addon">
  <div class="col-md-4"></div>
  <div class="col-md-2">
    <button class="btn btn-primary eiap-btn" (click)="showConformance()" *ngIf="isShowConformance && !reSize && !hasConformance" [disabled]="disableShowConformance||rejectedOrApproved=='PENDING'">Show Conformance</button>
    <button class="btn btn-primary eiap-btn" (click)="getBpmnDifferences()" *ngIf="isShowConformance && (hasConformance || reSize)" >Show Differences</button>
  </div>
  <div class="col-md-1">
    <div *ngIf="rejectedOrApproved && !isfromApprover" class="label_icon" [class.bg-red]="rejectedOrApproved=='REJECTED'" [class.bg-orange]="rejectedOrApproved=='INPROGRESS'" [class.bg-green]="rejectedOrApproved=='APPROVED'">
      {{rejectedOrApproved}}</div>
    <div *ngIf="isfromApprover" class="label_icon">Pending</div>
  </div>
  <div class="col-md-2">
    <mat-form-field id="bpmnNotationList">
      <mat-label>BPMN Notation</mat-label>
      <mat-select *ngIf="!isfromApprover" [(ngModel)]="selected_notation" (selectionChange)="displayBPMN()" panelClass="myPanelDownClass" disableOptionCentering>
        <mat-option *ngFor="let each_bpmn of saved_bpmn_list;let bpmnIndex = index" [value]="bpmnIndex"><!--[selected]="each_bpmn.bpmnModelId == selected_modelId"-->
          {{(isShowConformance && each_bpmn.hasConformance?"AS IS vs ":"")+each_bpmn.bpmnProcessName+" ( V1."+each_bpmn.version+" )"}}</mat-option>
      </mat-select>
      <mat-select *ngIf="isfromApprover">
        <mat-option> </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="col-md-2" *ngIf="!isfromApprover">
    <mat-form-field id="approversList">
      <mat-label>Approver List</mat-label>
      <mat-select [(ngModel)]="selected_approver" [disabled]="rejectedOrApproved=='PENDING'" panelClass="myPanelDownClass" disableOptionCentering>
        <mat-option *ngFor="let each_approver of approver_list;let i=index" [value]=i>
          {{each_approver.firstName+" "+each_approver.lastName}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
<div><button class="keyboard_style_upload" (click)="displayShortcut()" ><img src="..\assets\bpmnkeyboard.png"></button>
  <button title="Fit to the view port" class="right header_btn" (click)="fitNotationView()"><img src="..\assets\fillView.svg"></button>
</div>

</div>
<span class="update_info" *ngIf="updated_date_time">Autosaved @ <b>{{updated_date_time | date:"MM/dd/yyyy HH:mm:ss":'UTC'}}</b></span>
<as-split class="ex-percent" [class.no-split-pane]="!isShowConformance || (isShowConformance && !hasConformance && !reSize)" [ngClass]="reSize?'bpmn-split':''" unit="percent"><!-- (dragEnd)="dragEnd($event)" -->
  <as-split-area [size]="isShowConformance?(reSize||hasConformance?50:100):0">
    <div class="canvasOpt"><input type="radio" name="isBpmnModelerCanvas" [value]="true" [(ngModel)]="isConfBpmnModeler" selected #canvasopt/>&nbsp;As Is</div>
    <div *ngIf="isShowConformance" [class.bps_overlay]="reSize|| hasConformance ||rejectedOrApproved=='PENDING'">
      <span class="info" *ngIf="rejectedOrApproved == 'PENDING' && !reSize">Business Process Notation has been submitted for approval. Cannot be edited till it is reviewed </span>
      <div class="canvas2" [class.readOnly]="reSize|| hasConformance ||rejectedOrApproved=='PENDING'"  id="canvas2"></div>
    </div>
    <div class="canvas2" *ngIf="!isShowConformance"  id="canvas2"></div>
  </as-split-area>
  <as-split-area [size]="isShowConformance?(reSize||hasConformance?50:0):100">
    <span class="canvasOpt" *ngIf="isShowConformance && (hasConformance || isUploaded)"><input type="radio" [value]="false" name="isBpmnModelerCanvas" [(ngModel)]="isConfBpmnModeler"/>&nbsp;To Be</span>
    <app-upload-create-drop-bpmn *ngIf="isShowConformance && !hasConformance && !isUploaded" (update)="getUserBpmnList(true)" [data]="processName+'@'+category+'@'+randomNumber+'@'+pid"></app-upload-create-drop-bpmn>
    <div class="row"  [class.bps_overlay]="isfromApprover" >
      <div class="canvas1 col-md-12"  [class.readOnly]="isfromApprover"  id="canvas1" *ngIf="hasConformance || isUploaded||!isShowConformance" ></div>
      <div class="propertiesContainer">
        <div class="propertiesTitle" (click)="togglePosition()"><div>Properties Panel</div></div>
        <div id="properties" class="slide-right"></div>
      </div>
    </div>
  </as-split-area>
</as-split>
<div class="row btn_row">
  <span class="pull-left">
    <select [(ngModel)]="fileType">
      <option value="svg">SVG</option>
      <option value="png">PNG</option>
      <option value="jpg">JPG</option>
      <option [value]="selectedNotationType">{{selectedNotationType | uppercase }}</option>
    </select>
    <button id="download" (click)="downloadBpmn(false)"><img class="action-btn" src="..\assets\downloadimage.svg"></button>
  </span>
  <button class="right btn btn-primary eiap-btn"  id="approvalSubmit" *ngIf="rejectedOrApproved!='PENDING' && isfromApprover!=true" (click)="submitDiagramForApproval()">Save & Submit for Approval</button>
  <ngx-dropzone class="upload_again_btn" (change)="slideUp($event)" [multiple]=false [accept]="'.'+selectedNotationType"  *ngIf="!isShowConformance||(isShowConformance && ((reSize && isConfNavigation)||hasConformance)) && rejectedOrApproved !='PENDING'">
    <ngx-dropzone-label>
        <button class="btn btn-primary eiap-btn"  *ngIf="!isfromApprover">Upload Again</button>
    </ngx-dropzone-label>
  </ngx-dropzone>
  <button class="right btn btn-primary eiap-btn"  [disabled]="isfromApprover" id="save" *ngIf="rejectedOrApproved!='PENDING' && isfromApprover!=true" (click)="saveprocess(null)">Save Process</button>
  <button *ngIf="isApprovedNotation" class="right btn btn-primary eiap-btn" id="automate" (click)="automate()">Automate</button> <!-- [disabled]="isShowConformance && !isConfNavigation" -->
  <button id="download" class="right" *ngIf="isShowConformance && reSize && hasConformance" (click)="downloadBpmn(true)"><img class="action-btn" src="..\assets\downloadimage.svg"></button>
</div>
<app-list-of-changes (closeDiff)="clearDifferences()"></app-list-of-changes>
<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">
  <p style="color: white">Auto Saving... </p>
</ngx-spinner>
<div class="spinoverlay" *ngIf="isLoading"><div class="spincenter">
  <mat-progress-spinner diameter=50  mode="indeterminate"></mat-progress-spinner>
  </div></div>
  <ng-template #keyboardShortcut>
    <div><label for="" class="keyboard_header_shortcuts">Keyboard Shortcuts</label></div>
    <table>
      <tr *ngFor="let keyboardLabels of keyboardLabels" >
        <td><span  class="keyboard_label_style">{{keyboardLabels.labelName}}</span></td>
        <td><div [innerHtml]="keyboardLabels.labelValue" class="keyboard_label_style"></div></td>
      </tr>
    </table>
 </ng-template>